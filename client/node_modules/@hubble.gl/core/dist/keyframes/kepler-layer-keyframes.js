// hubble.gl
// SPDX-License-Identifier: MIT
// Copyright (c) vis.gl contributors
import Keyframes from "./keyframes.js";
function getFeatures(layer) {
    return layer ? Object.keys(layer.config.visConfig) : [];
}
class KeplerLayerKeyframes extends Keyframes {
    constructor({ layer, timings, keyframes, easings }) {
        super({ timings, keyframes, easings, features: getFeatures(layer) });
        // TODO: will this layer reference ever become outdated? layerVisConfigChange updates from this reference rather pulling from the store.
        this.layer = layer;
    }
    set({ layer = undefined, timings, keyframes, easings, interpolators }) {
        if (layer)
            this.layer = layer;
        super.set({ timings, keyframes, easings, interpolators });
    }
}
export default KeplerLayerKeyframes;
