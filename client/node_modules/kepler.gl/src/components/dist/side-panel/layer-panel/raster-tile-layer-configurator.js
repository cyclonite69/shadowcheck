"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireWildcard(require("react"));
var _styledComponents = _interopRequireDefault(require("styled-components"));
var _constants = require("@kepler.gl/constants");
var _layers = require("@kepler.gl/layers");
var _localization = require("@kepler.gl/localization");
var _utils = require("@kepler.gl/utils");
var _rasterTileColormapListItem = require("./raster-tile-colormap-list-item");
var _styledComponents2 = require("../../common/styled-components");
var _switch = _interopRequireDefault(require("../../common/switch"));
var _infoHelper = _interopRequireDefault(require("../../common/info-helper"));
var _itemSelector = _interopRequireDefault(require("../../common/item-selector/item-selector"));
var _visConfigSlider = _interopRequireDefault(require("../../side-panel/layer-panel/vis-config-slider"));
var _layerConfigGroup = _interopRequireWildcard(require("../../side-panel/layer-panel/layer-config-group"));
var _visConfigSwitch = _interopRequireDefault(require("../../side-panel/layer-panel/vis-config-switch"));
var _templateObject, _templateObject2, _templateObject3; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != _typeof(e) && "function" != typeof e) return { "default": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n["default"] = e, t && t.set(e, n), n; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var STAC_SEARCH_UI_ENABLED = true;
var StyledVisConfigSwitch = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  display: flex;\n  justify-content: space-between;\n\n  .vis-config-switch__title {\n    display: flex;\n  }\n"])));
var CustomVisConfigSwitch = function CustomVisConfigSwitch(_ref) {
  var _ref$layer = _ref.layer,
    id = _ref$layer.id,
    config = _ref$layer.config,
    property = _ref.property,
    _onChange2 = _ref.onChange,
    label = _ref.label,
    disabled = _ref.disabled;
  return /*#__PURE__*/_react["default"].createElement(_styledComponents2.SidePanelSection, {
    disabled: Boolean(disabled)
  }, /*#__PURE__*/_react["default"].createElement(StyledVisConfigSwitch, {
    className: "vis-config-switch"
  }, /*#__PURE__*/_react["default"].createElement("div", {
    className: "vis-config-switch__title"
  }, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabelWrapper, null, label ? /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabel, null, label && /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
    id: label
  }) || (0, _utils.capitalizeFirstLetter)(property)) : null)), /*#__PURE__*/_react["default"].createElement("div", {
    className: "vis-config-switch__switch"
  }, /*#__PURE__*/_react["default"].createElement(_switch["default"], {
    checked: config.visConfig[property],
    id: "".concat(id, "-").concat(property, "-switch"),
    onChange: function onChange() {
      return _onChange2((0, _defineProperty2["default"])({}, property, !config.visConfig[property]));
    }
  }))));
};
var StyledLayerConfigurator = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  margin-top: 12px;\n"])));
var DescriptionText = (0, _styledComponents["default"])(_styledComponents2.PanelLabel)(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n  text-transform: none;\n  display: inline;\n  color: ", ";\n\n  a {\n    text-decoration: underline;\n    margin-left: 4px;\n  }\n"])), function (props) {
  return props.theme.subtextColor;
});

// TODO: combine these two helpers into one
function findVisConfigItemById(layer, prop) {
  return layer.visConfigSettings[prop].options.find(function (op) {
    return op.id === layer.config.visConfig[prop];
  });
}
function findItemById(layer, options, prop) {
  // For now it's possible that non-raster metadata will be passed to the raster configurator, so
  // options may be null
  return options === null || options === void 0 ? void 0 : options.find(function (op) {
    return op.id === layer.config.visConfig[prop];
  });
}

/**
 * Generate drop down labels for single band selector
 * @param stac - STAC item metadata object
 * @returns array of {id, label} elements
 */
function getBandSelectorOptions(stac) {
  var eoBands = (0, _layers.getEOBands)(stac) || [];
  return eoBands.map(function (eoBand) {
    return {
      id: eoBand.name || eoBand.common_name,
      label: eoBand.common_name ? "".concat(eoBand.name || eoBand.common_name, " (").concat(eoBand.common_name, ")") : eoBand.name
    };
  });
}
function getCategoricalColormapListItem(categoricalColorMap) {
  var categoricalItem;
  if (categoricalColorMap) {
    categoricalItem = {
      label: 'Categorical',
      id: _layers.CATEGORICAL_COLORMAP_ID
    };
  }
  return categoricalItem;
}

/**
 * Check if data source global pixel color range is calculated correctly
 * @param layer - raster layer
 * @param stac - STAC metadata object
 * @param preset - preset name
 * @param singleBandPresetOptions - options for single band preset
 * @returns boolean value
 */
function isDataSourceColorRangeAvailable(layer, stac, preset, singleBandPresetOptions) {
  var minPixelValue = null;
  var maxPixelValue = null;
  var dataSourceParams = layer.getDataSourceParams(stac, preset, {
    singleBand: singleBandPresetOptions
  });
  if (dataSourceParams) {
    minPixelValue = dataSourceParams.minPixelValue;
    maxPixelValue = dataSourceParams.maxPixelValue;
  }
  return minPixelValue !== null && maxPixelValue !== null;
}

/**
 * Updates color parameters based on a change in visualization preset.
 *
 * This function adjusts the color processing parameters when the visualization
 * preset changes, based on whether the preset is switching to or from a
 * single-band. Determines whether to apply color
 * enhancements or reset parameters based on the preset transition.
 *
 * @param stac A STAC (SpatioTemporal Asset Catalog) object representing the dataset.
 * @param newPreset The old visualization preset being applied.
 * @param newPreset The new visualization preset being applied.
 * @returns The updated color parameters to apply.
 */
function updateColorParamsOnPresetChange(stac, oldPreset, newPreset) {
  var colorParams = {};
  var colorOverrides = _layers.DATA_SOURCE_COLOR_DEFAULTS[stac.id];
  if (colorOverrides) return colorParams;
  var bandOfInterest = 'singleBand';
  if (oldPreset === bandOfInterest && newPreset !== bandOfInterest) {
    // enchance colors for multiband combinations
    colorParams = colorOverrides;
  } else if (oldPreset !== bandOfInterest && newPreset === bandOfInterest) {
    // reset image processng params
    colorParams = _layers.RASTER_COLOR_RESET_PARAMS;
  }
  return colorParams;
}
RasterTileLayerConfiguratorFactory.deps = [_layerConfigGroup["default"], _visConfigSlider["default"], _infoHelper["default"], _visConfigSwitch["default"]];
function RasterTileLayerConfiguratorFactory(LayerConfigGroup, VisConfigSlider, InfoHelper, VisConfigSwitch) {
  /**
   * Wrapper around configurator to check for dataset.metadata being null/undefined
   */
  var STACCheckConfiguratorWrapper = function STACCheckConfiguratorWrapper(_ref2) {
    var layer = _ref2.layer,
      visConfiguratorProps = _ref2.visConfiguratorProps,
      dataset = _ref2.dataset;
    var stac = dataset === null || dataset === void 0 ? void 0 : dataset.metadata;

    // If no dataset is loaded into Kepler, stac can be undefined
    if (!stac) {
      return null;
    }
    return /*#__PURE__*/_react["default"].createElement(RasterTileLayerConfigurator, {
      layer: layer,
      visConfiguratorProps: visConfiguratorProps,
      dataset: dataset
    });
  };

  // eslint-disable-next-line complexity
  var RasterTileLayerConfigurator = function RasterTileLayerConfigurator(_ref3) {
    var _stac$rasterServerSup, _stac$rasterTileServe;
    var layer = _ref3.layer,
      visConfiguratorProps = _ref3.visConfiguratorProps,
      dataset = _ref3.dataset;
    var _layer$config$visConf = layer.config.visConfig,
      preset = _layer$config$visConf.preset,
      nonLinearRescaling = _layer$config$visConf.nonLinearRescaling,
      useSTACSearching = _layer$config$visConf.useSTACSearching,
      categoricalColorMap = _layer$config$visConf.colorRange.colorMap,
      dynamicColor = _layer$config$visConf.dynamicColor,
      singleBandName = _layer$config$visConf.singleBandName;
    var stac = dataset === null || dataset === void 0 ? void 0 : dataset.metadata;
    var availablePresets = (0, _react.useMemo)(function () {
      return (0, _layers.filterAvailablePresets)(stac, _layers.PRESET_OPTIONS);
    }, [stac]);
    var presetOptions = (0, _react.useMemo)(function () {
      return layer.visConfigSettings.preset.options.filter(function (_ref4) {
        var id = _ref4.id;
        return availablePresets === null || availablePresets === void 0 ? void 0 : availablePresets.includes(id);
      });
    }, [layer.visConfigSettings.preset.options, availablePresets]);
    var singleBandOptions = (0, _react.useMemo)(function () {
      return getBandSelectorOptions(stac);
    }, [stac]);
    var colormapOptions = (0, _react.useMemo)(function () {
      var options = (0, _toConsumableArray2["default"])(layer.visConfigSettings.colormapId.options);
      var categoricalListItem = getCategoricalColormapListItem(categoricalColorMap);
      if (categoricalListItem) {
        options.push(categoricalListItem);
      }
      return options;
    }, [layer.visConfigSettings.colormapId.options, categoricalColorMap]);
    var _ref5 = _layers.PRESET_OPTIONS[preset] || {},
      bandCombination = _ref5.bandCombination;
    var colormapAllowed = (0, _layers.isColormapAllowed)(bandCombination);
    var rescalingAllowed = !categoricalColorMap && (0, _layers.isRescalingAllowed)(bandCombination);
    var filterAllowed = (0, _layers.isFilterAllowed)(bandCombination);

    // Here we show the UI when useSTACSearching is explicitly set to true so that the UI shows up
    var stacSearchAllowed = (0, _layers.isSearchableStac)(stac) || useSTACSearching;
    var selectedColormap = findVisConfigItemById(layer, 'colormapId') || getCategoricalColormapListItem(categoricalColorMap);
    var selectedPreset = findVisConfigItemById(layer, 'preset');
    var selectedSingleBandName = findItemById(layer, singleBandOptions, 'singleBandName');
    var singleBandPresetOptions = (0, _layers.getSingleBandPresetOptions)(stac, singleBandName);
    var _getRasterStatisticsM = (0, _layers.getRasterStatisticsMinMax)(stac, preset, singleBandPresetOptions),
      _getRasterStatisticsM2 = (0, _slicedToArray2["default"])(_getRasterStatisticsM, 2),
      minCategoricalBandValue = _getRasterStatisticsM2[0],
      maxCategoricalBandValue = _getRasterStatisticsM2[1];
    var ColorMapListItem = (0, _react.useMemo)(function () {
      return (0, _rasterTileColormapListItem.getColorMapListItemComponent)({
        colorMap: categoricalColorMap,
        minValue: minCategoricalBandValue,
        maxValue: maxCategoricalBandValue
      });
    }, [categoricalColorMap, minCategoricalBandValue, maxCategoricalBandValue]);
    var isDynamicColorsOnly = !isDataSourceColorRangeAvailable(layer, stac, preset, singleBandPresetOptions);

    // Default of `dynamicColor` is false. Set it true if it is not possible to get data source
    // wide color range
    (0, _react.useEffect)(function () {
      if (isDynamicColorsOnly && !dynamicColor) {
        visConfiguratorProps.onChange({
          dynamicColor: true
        });
      }
    }, [visConfiguratorProps, dynamicColor, isDynamicColorsOnly]);
    var elevationUI = /*#__PURE__*/_react["default"].createElement(_react["default"].Fragment, null, ((_stac$rasterServerSup = stac.rasterServerSupportsElevation) !== null && _stac$rasterServerSup !== void 0 ? _stac$rasterServerSup : (0, _utils.getApplicationConfig)().rasterServerSupportsElevation) && ((_stac$rasterTileServe = stac.rasterTileServerUrls) === null || _stac$rasterTileServe === void 0 ? void 0 : _stac$rasterTileServe.length) && /*#__PURE__*/_react["default"].createElement(LayerConfigGroup, (0, _extends2["default"])({}, layer.visConfigSettings.enableTerrain || {
      label: 'layer.color'
    }, visConfiguratorProps, {
      collapsible: true
    }), /*#__PURE__*/_react["default"].createElement(_layerConfigGroup.ConfigGroupCollapsibleContent, null, /*#__PURE__*/_react["default"].createElement(VisConfigSwitch, (0, _extends2["default"])({}, visConfiguratorProps, layer.visConfigSettings.enableTerrainTopView)))));

    // For PMTiles in raster format, only show opacity and terrain options for now
    if (stac.pmtilesType === _constants.PMTilesType.RASTER) {
      return /*#__PURE__*/_react["default"].createElement(StyledLayerConfigurator, null, /*#__PURE__*/_react["default"].createElement(LayerConfigGroup, (0, _extends2["default"])({}, visConfiguratorProps, {
        label: "Visual Settings",
        collapsible: false
      }), /*#__PURE__*/_react["default"].createElement(VisConfigSlider, (0, _extends2["default"])({}, layer.visConfigSettings.opacity, visConfiguratorProps))), elevationUI);
    }
    return /*#__PURE__*/_react["default"].createElement(StyledLayerConfigurator, null, availablePresets && /*#__PURE__*/_react["default"].createElement(LayerConfigGroup, (0, _extends2["default"])({}, visConfiguratorProps, {
      label: "Image Selection",
      collapsible: false
    }), /*#__PURE__*/_react["default"].createElement(_styledComponents2.SidePanelSection, null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabelWrapper, null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabel, null, "Preset"), /*#__PURE__*/_react["default"].createElement(InfoHelper, {
      id: "preset",
      description: "Select a preset to describe how to combine spectral bands."
    })), /*#__PURE__*/_react["default"].createElement(_itemSelector["default"], {
      selectedItems: selectedPreset,
      options: presetOptions,
      multiSelect: false,
      searchable: false,
      displayOption: "label",
      getOptionValue: "id",
      onChange: function onChange(newPreset) {
        var overrides = updateColorParamsOnPresetChange(stac, visConfiguratorProps.layer.config.visConfig.preset, newPreset);
        visConfiguratorProps.onChange(_objectSpread(_objectSpread({}, overrides), {}, {
          preset: newPreset
        }));
      }
    }), selectedPreset !== null && selectedPreset !== void 0 && selectedPreset.description ? /*#__PURE__*/_react["default"].createElement(DescriptionText, null, selectedPreset === null || selectedPreset === void 0 ? void 0 : selectedPreset.description, selectedPreset !== null && selectedPreset !== void 0 && selectedPreset.infoUrl ? /*#__PURE__*/_react["default"].createElement("a", {
      target: "_blank",
      rel: "noopener noreferrer",
      href: selectedPreset === null || selectedPreset === void 0 ? void 0 : selectedPreset.infoUrl
    }, "More Info") : null) : null), selectedPreset.id === 'singleBand' && /*#__PURE__*/_react["default"].createElement(_styledComponents2.SidePanelSection, null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabelWrapper, null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabel, null, "Single Band Name"), /*#__PURE__*/_react["default"].createElement(InfoHelper, {
      id: "".concat(layer.id, "-single-band-name"),
      description: "Select a single band."
    })), /*#__PURE__*/_react["default"].createElement(_itemSelector["default"], {
      selectedItems: selectedSingleBandName,
      options: singleBandOptions,
      multiSelect: false,
      searchable: false,
      displayOption: "label",
      getOptionValue: "id",
      onChange: function onChange(val) {
        visConfiguratorProps.onChange({
          singleBandName: val
        });
      }
    })), STAC_SEARCH_UI_ENABLED && stacSearchAllowed && /*#__PURE__*/_react["default"].createElement(CustomVisConfigSwitch, (0, _extends2["default"])({}, layer.visConfigSettings.useSTACSearching, visConfiguratorProps)), STAC_SEARCH_UI_ENABLED && /*#__PURE__*/_react["default"].createElement(_react["default"].Fragment, null, stacSearchAllowed && useSTACSearching ? /*#__PURE__*/_react["default"].createElement(_styledComponents2.SidePanelSection, null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabelWrapper, null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabel, null, "STAC Search Provider")), /*#__PURE__*/_react["default"].createElement(_itemSelector["default"], (0, _extends2["default"])({}, layer.visConfigSettings.stacSearchProvider, {
      selectedItems: findVisConfigItemById(layer, 'stacSearchProvider'),
      placeholder: "Choose search provider",
      multiSelect: false,
      searchable: false,
      displayOption: "label",
      getOptionValue: "id",
      onChange: function onChange(val) {
        // TODO: check when switching layers so that you don't mismatch allowed mosaics with layers
        visConfiguratorProps.onChange({
          stacSearchProvider: val
        });
      }
    })), /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabelWrapper, null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabel, null, "Date Range")), /*#__PURE__*/_react["default"].createElement(_styledComponents2.Input, {
      type: "text",
      id: "".concat(layer.id, "-startDate"),
      onChange: function onChange(_ref6) {
        var value = _ref6.target.value;
        visConfiguratorProps.onChange({
          startDate: value
        });
      },
      value: layer.config.visConfig.startDate
    }), /*#__PURE__*/_react["default"].createElement(_styledComponents2.Input, {
      type: "text",
      id: "".concat(layer.id, "-endDate"),
      onChange: function onChange(_ref7) {
        var value = _ref7.target.value;
        visConfiguratorProps.onChange({
          endDate: value
        });
      },
      value: layer.config.visConfig.endDate
    }), /*#__PURE__*/_react["default"].createElement(DescriptionText, null, "Date format must be \"YYYY-MM-DD\"")) : null)), /*#__PURE__*/_react["default"].createElement(LayerConfigGroup, (0, _extends2["default"])({}, visConfiguratorProps, {
      label: "Visual Settings",
      collapsible: false
    }), /*#__PURE__*/_react["default"].createElement(VisConfigSlider, (0, _extends2["default"])({}, layer.visConfigSettings.opacity, visConfiguratorProps)), colormapAllowed && /*#__PURE__*/_react["default"].createElement(_styledComponents2.SidePanelSection, null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabel, null, "Colormap"), /*#__PURE__*/_react["default"].createElement(_itemSelector["default"], {
      selectedItems: selectedColormap,
      options: colormapOptions,
      multiSelect: false,
      displayOption: "label",
      getOptionValue: "id",
      onChange: function onChange(val) {
        visConfiguratorProps.onChange({
          colormapId: val
        });
      },
      DropDownLineItemRenderComponent: ColorMapListItem,
      filterOption: "label",
      searchable: true
    }))), rescalingAllowed && /*#__PURE__*/_react["default"].createElement(LayerConfigGroup, (0, _extends2["default"])({}, visConfiguratorProps, {
      label: "Rescaling"
    }), /*#__PURE__*/_react["default"].createElement(VisConfigSwitch, (0, _extends2["default"])({}, visConfiguratorProps, layer.visConfigSettings.dynamicColor, {
      disabled: isDynamicColorsOnly
    })), /*#__PURE__*/_react["default"].createElement(VisConfigSwitch, (0, _extends2["default"])({}, layer.visConfigSettings.nonLinearRescaling, visConfiguratorProps, {
      label: nonLinearRescaling ? 'Non-Linear Rescaling' : 'Linear Rescaling'
    })), nonLinearRescaling ? /*#__PURE__*/_react["default"].createElement("div", null, /*#__PURE__*/_react["default"].createElement(VisConfigSlider, (0, _extends2["default"])({}, layer.visConfigSettings.gammaContrastFactor, visConfiguratorProps)), /*#__PURE__*/_react["default"].createElement(VisConfigSlider, (0, _extends2["default"])({}, layer.visConfigSettings.sigmoidalContrastFactor, visConfiguratorProps)), /*#__PURE__*/_react["default"].createElement(VisConfigSlider, (0, _extends2["default"])({}, layer.visConfigSettings.sigmoidalBiasFactor, visConfiguratorProps))) : /*#__PURE__*/_react["default"].createElement(VisConfigSlider, (0, _extends2["default"])({}, layer.visConfigSettings.linearRescalingFactor, visConfiguratorProps)), /*#__PURE__*/_react["default"].createElement(VisConfigSlider, (0, _extends2["default"])({}, layer.visConfigSettings.saturationValue, visConfiguratorProps))), filterAllowed && /*#__PURE__*/_react["default"].createElement(LayerConfigGroup, (0, _extends2["default"])({}, layer.visConfigSettings.filterEnabled, visConfiguratorProps, {
      collapsible: true
    }), /*#__PURE__*/_react["default"].createElement(VisConfigSlider, (0, _extends2["default"])({}, layer.visConfigSettings.filterRange, visConfiguratorProps))), elevationUI);
  };
  return STACCheckConfiguratorWrapper;
}
var _default = exports["default"] = RasterTileLayerConfiguratorFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfc3R5bGVkQ29tcG9uZW50cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfY29uc3RhbnRzIiwiX2xheWVycyIsIl9sb2NhbGl6YXRpb24iLCJfdXRpbHMiLCJfcmFzdGVyVGlsZUNvbG9ybWFwTGlzdEl0ZW0iLCJfc3R5bGVkQ29tcG9uZW50czIiLCJfc3dpdGNoIiwiX2luZm9IZWxwZXIiLCJfaXRlbVNlbGVjdG9yIiwiX3Zpc0NvbmZpZ1NsaWRlciIsIl9sYXllckNvbmZpZ0dyb3VwIiwiX3Zpc0NvbmZpZ1N3aXRjaCIsIl90ZW1wbGF0ZU9iamVjdCIsIl90ZW1wbGF0ZU9iamVjdDIiLCJfdGVtcGxhdGVPYmplY3QzIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0Iiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJvIiwiZmlsdGVyIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiU1RBQ19TRUFSQ0hfVUlfRU5BQkxFRCIsIlN0eWxlZFZpc0NvbmZpZ1N3aXRjaCIsInN0eWxlZCIsImRpdiIsIl90YWdnZWRUZW1wbGF0ZUxpdGVyYWwyIiwiQ3VzdG9tVmlzQ29uZmlnU3dpdGNoIiwiX3JlZiIsIl9yZWYkbGF5ZXIiLCJsYXllciIsImlkIiwiY29uZmlnIiwicHJvcGVydHkiLCJvbkNoYW5nZSIsImxhYmVsIiwiZGlzYWJsZWQiLCJjcmVhdGVFbGVtZW50IiwiU2lkZVBhbmVsU2VjdGlvbiIsIkJvb2xlYW4iLCJjbGFzc05hbWUiLCJQYW5lbExhYmVsV3JhcHBlciIsIlBhbmVsTGFiZWwiLCJGb3JtYXR0ZWRNZXNzYWdlIiwiY2FwaXRhbGl6ZUZpcnN0TGV0dGVyIiwiY2hlY2tlZCIsInZpc0NvbmZpZyIsImNvbmNhdCIsIlN0eWxlZExheWVyQ29uZmlndXJhdG9yIiwiRGVzY3JpcHRpb25UZXh0IiwicHJvcHMiLCJ0aGVtZSIsInN1YnRleHRDb2xvciIsImZpbmRWaXNDb25maWdJdGVtQnlJZCIsInByb3AiLCJ2aXNDb25maWdTZXR0aW5ncyIsIm9wdGlvbnMiLCJmaW5kIiwib3AiLCJmaW5kSXRlbUJ5SWQiLCJnZXRCYW5kU2VsZWN0b3JPcHRpb25zIiwic3RhYyIsImVvQmFuZHMiLCJnZXRFT0JhbmRzIiwibWFwIiwiZW9CYW5kIiwibmFtZSIsImNvbW1vbl9uYW1lIiwiZ2V0Q2F0ZWdvcmljYWxDb2xvcm1hcExpc3RJdGVtIiwiY2F0ZWdvcmljYWxDb2xvck1hcCIsImNhdGVnb3JpY2FsSXRlbSIsIkNBVEVHT1JJQ0FMX0NPTE9STUFQX0lEIiwiaXNEYXRhU291cmNlQ29sb3JSYW5nZUF2YWlsYWJsZSIsInByZXNldCIsInNpbmdsZUJhbmRQcmVzZXRPcHRpb25zIiwibWluUGl4ZWxWYWx1ZSIsIm1heFBpeGVsVmFsdWUiLCJkYXRhU291cmNlUGFyYW1zIiwiZ2V0RGF0YVNvdXJjZVBhcmFtcyIsInNpbmdsZUJhbmQiLCJ1cGRhdGVDb2xvclBhcmFtc09uUHJlc2V0Q2hhbmdlIiwib2xkUHJlc2V0IiwibmV3UHJlc2V0IiwiY29sb3JQYXJhbXMiLCJjb2xvck92ZXJyaWRlcyIsIkRBVEFfU09VUkNFX0NPTE9SX0RFRkFVTFRTIiwiYmFuZE9mSW50ZXJlc3QiLCJSQVNURVJfQ09MT1JfUkVTRVRfUEFSQU1TIiwiUmFzdGVyVGlsZUxheWVyQ29uZmlndXJhdG9yRmFjdG9yeSIsImRlcHMiLCJMYXllckNvbmZpZ0dyb3VwRmFjdG9yeSIsIlZpc0NvbmZpZ1NsaWRlckZhY3RvcnkiLCJJbmZvSGVscGVyRmFjdG9yeSIsIlZpc0NvbmZpZ1N3aXRjaEZhY3RvcnkiLCJMYXllckNvbmZpZ0dyb3VwIiwiVmlzQ29uZmlnU2xpZGVyIiwiSW5mb0hlbHBlciIsIlZpc0NvbmZpZ1N3aXRjaCIsIlNUQUNDaGVja0NvbmZpZ3VyYXRvcldyYXBwZXIiLCJfcmVmMiIsInZpc0NvbmZpZ3VyYXRvclByb3BzIiwiZGF0YXNldCIsIm1ldGFkYXRhIiwiUmFzdGVyVGlsZUxheWVyQ29uZmlndXJhdG9yIiwiX3JlZjMiLCJfc3RhYyRyYXN0ZXJTZXJ2ZXJTdXAiLCJfc3RhYyRyYXN0ZXJUaWxlU2VydmUiLCJfbGF5ZXIkY29uZmlnJHZpc0NvbmYiLCJub25MaW5lYXJSZXNjYWxpbmciLCJ1c2VTVEFDU2VhcmNoaW5nIiwiY29sb3JSYW5nZSIsImNvbG9yTWFwIiwiZHluYW1pY0NvbG9yIiwic2luZ2xlQmFuZE5hbWUiLCJhdmFpbGFibGVQcmVzZXRzIiwidXNlTWVtbyIsImZpbHRlckF2YWlsYWJsZVByZXNldHMiLCJQUkVTRVRfT1BUSU9OUyIsInByZXNldE9wdGlvbnMiLCJfcmVmNCIsImluY2x1ZGVzIiwic2luZ2xlQmFuZE9wdGlvbnMiLCJjb2xvcm1hcE9wdGlvbnMiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiY29sb3JtYXBJZCIsImNhdGVnb3JpY2FsTGlzdEl0ZW0iLCJfcmVmNSIsImJhbmRDb21iaW5hdGlvbiIsImNvbG9ybWFwQWxsb3dlZCIsImlzQ29sb3JtYXBBbGxvd2VkIiwicmVzY2FsaW5nQWxsb3dlZCIsImlzUmVzY2FsaW5nQWxsb3dlZCIsImZpbHRlckFsbG93ZWQiLCJpc0ZpbHRlckFsbG93ZWQiLCJzdGFjU2VhcmNoQWxsb3dlZCIsImlzU2VhcmNoYWJsZVN0YWMiLCJzZWxlY3RlZENvbG9ybWFwIiwic2VsZWN0ZWRQcmVzZXQiLCJzZWxlY3RlZFNpbmdsZUJhbmROYW1lIiwiZ2V0U2luZ2xlQmFuZFByZXNldE9wdGlvbnMiLCJfZ2V0UmFzdGVyU3RhdGlzdGljc00iLCJnZXRSYXN0ZXJTdGF0aXN0aWNzTWluTWF4IiwiX2dldFJhc3RlclN0YXRpc3RpY3NNMiIsIl9zbGljZWRUb0FycmF5MiIsIm1pbkNhdGVnb3JpY2FsQmFuZFZhbHVlIiwibWF4Q2F0ZWdvcmljYWxCYW5kVmFsdWUiLCJDb2xvck1hcExpc3RJdGVtIiwiZ2V0Q29sb3JNYXBMaXN0SXRlbUNvbXBvbmVudCIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJpc0R5bmFtaWNDb2xvcnNPbmx5IiwidXNlRWZmZWN0IiwiZWxldmF0aW9uVUkiLCJGcmFnbWVudCIsInJhc3RlclNlcnZlclN1cHBvcnRzRWxldmF0aW9uIiwiZ2V0QXBwbGljYXRpb25Db25maWciLCJyYXN0ZXJUaWxlU2VydmVyVXJscyIsIl9leHRlbmRzMiIsImVuYWJsZVRlcnJhaW4iLCJjb2xsYXBzaWJsZSIsIkNvbmZpZ0dyb3VwQ29sbGFwc2libGVDb250ZW50IiwiZW5hYmxlVGVycmFpblRvcFZpZXciLCJwbXRpbGVzVHlwZSIsIlBNVGlsZXNUeXBlIiwiUkFTVEVSIiwib3BhY2l0eSIsImRlc2NyaXB0aW9uIiwic2VsZWN0ZWRJdGVtcyIsIm11bHRpU2VsZWN0Iiwic2VhcmNoYWJsZSIsImRpc3BsYXlPcHRpb24iLCJnZXRPcHRpb25WYWx1ZSIsIm92ZXJyaWRlcyIsImluZm9VcmwiLCJ0YXJnZXQiLCJyZWwiLCJocmVmIiwidmFsIiwic3RhY1NlYXJjaFByb3ZpZGVyIiwicGxhY2Vob2xkZXIiLCJJbnB1dCIsInR5cGUiLCJfcmVmNiIsInZhbHVlIiwic3RhcnREYXRlIiwiX3JlZjciLCJlbmREYXRlIiwiRHJvcERvd25MaW5lSXRlbVJlbmRlckNvbXBvbmVudCIsImZpbHRlck9wdGlvbiIsImdhbW1hQ29udHJhc3RGYWN0b3IiLCJzaWdtb2lkYWxDb250cmFzdEZhY3RvciIsInNpZ21vaWRhbEJpYXNGYWN0b3IiLCJsaW5lYXJSZXNjYWxpbmdGYWN0b3IiLCJzYXR1cmF0aW9uVmFsdWUiLCJmaWx0ZXJFbmFibGVkIiwiZmlsdGVyUmFuZ2UiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2lkZS1wYW5lbC9sYXllci1wYW5lbC9yYXN0ZXItdGlsZS1sYXllci1jb25maWd1cmF0b3IudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCBjb250cmlidXRvcnMgdG8gdGhlIGtlcGxlci5nbCBwcm9qZWN0XG5cbmltcG9ydCBSZWFjdCwge3VzZUVmZmVjdCwgdXNlTWVtb30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5cbmltcG9ydCB7UE1UaWxlc1R5cGV9IGZyb20gJ0BrZXBsZXIuZ2wvY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIGZpbHRlckF2YWlsYWJsZVByZXNldHMsXG4gIGdldEVPQmFuZHMsXG4gIGdldFJhc3RlclN0YXRpc3RpY3NNaW5NYXgsXG4gIGdldFNpbmdsZUJhbmRQcmVzZXRPcHRpb25zLFxuICBpc0NvbG9ybWFwQWxsb3dlZCxcbiAgaXNGaWx0ZXJBbGxvd2VkLFxuICBpc1Jlc2NhbGluZ0FsbG93ZWQsXG4gIGlzU2VhcmNoYWJsZVN0YWMsXG4gIENvbXBsZXRlU1RBQ09iamVjdCxcbiAgR2V0VGlsZURhdGFDdXN0b21Qcm9wcyxcbiAgRGF0YVNvdXJjZVBhcmFtcyxcbiAgUHJlc2V0T3B0aW9uLFxuICBSYXN0ZXJUaWxlTGF5ZXIsXG4gIENBVEVHT1JJQ0FMX0NPTE9STUFQX0lELFxuICBQUkVTRVRfT1BUSU9OUyxcbiAgUkFTVEVSX0NPTE9SX1JFU0VUX1BBUkFNUyxcbiAgREFUQV9TT1VSQ0VfQ09MT1JfREVGQVVMVFNcbn0gZnJvbSAnQGtlcGxlci5nbC9sYXllcnMnO1xuaW1wb3J0IHtGb3JtYXR0ZWRNZXNzYWdlfSBmcm9tICdAa2VwbGVyLmdsL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge2NhcGl0YWxpemVGaXJzdExldHRlciwgZ2V0QXBwbGljYXRpb25Db25maWd9IGZyb20gJ0BrZXBsZXIuZ2wvdXRpbHMnO1xuaW1wb3J0IHtLZXBsZXJUYWJsZSBhcyBLZXBsZXJEYXRhc2V0fSBmcm9tICdAa2VwbGVyLmdsL3RhYmxlJztcbmltcG9ydCB0eXBlIHtTdGFjVHlwZXN9IGZyb20gJ0BrZXBsZXIuZ2wvdHlwZXMnO1xuXG5pbXBvcnQge2dldENvbG9yTWFwTGlzdEl0ZW1Db21wb25lbnR9IGZyb20gJy4vcmFzdGVyLXRpbGUtY29sb3JtYXAtbGlzdC1pdGVtJztcblxuaW1wb3J0IHtcbiAgSW5wdXQsXG4gIFBhbmVsTGFiZWwsXG4gIFBhbmVsTGFiZWxXcmFwcGVyLFxuICBTaWRlUGFuZWxTZWN0aW9uXG59IGZyb20gJy4uLy4uL2NvbW1vbi9zdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgU3dpdGNoIGZyb20gJy4uLy4uL2NvbW1vbi9zd2l0Y2gnO1xuaW1wb3J0IEluZm9IZWxwZXJGYWN0b3J5IGZyb20gJy4uLy4uL2NvbW1vbi9pbmZvLWhlbHBlcic7XG5pbXBvcnQgSXRlbVNlbGVjdG9yIGZyb20gJy4uLy4uL2NvbW1vbi9pdGVtLXNlbGVjdG9yL2l0ZW0tc2VsZWN0b3InO1xuaW1wb3J0IFZpc0NvbmZpZ1NsaWRlckZhY3RvcnkgZnJvbSAnLi4vLi4vc2lkZS1wYW5lbC9sYXllci1wYW5lbC92aXMtY29uZmlnLXNsaWRlcic7XG5pbXBvcnQgTGF5ZXJDb25maWdHcm91cEZhY3RvcnksIHtcbiAgQ29uZmlnR3JvdXBDb2xsYXBzaWJsZUNvbnRlbnRcbn0gZnJvbSAnLi4vLi4vc2lkZS1wYW5lbC9sYXllci1wYW5lbC9sYXllci1jb25maWctZ3JvdXAnO1xuaW1wb3J0IFZpc0NvbmZpZ1N3aXRjaEZhY3RvcnkgZnJvbSAnLi4vLi4vc2lkZS1wYW5lbC9sYXllci1wYW5lbC92aXMtY29uZmlnLXN3aXRjaCc7XG5cbnR5cGUgRU9CYW5kID0gU3RhY1R5cGVzLkJhbmQ7XG5cbmNvbnN0IFNUQUNfU0VBUkNIX1VJX0VOQUJMRUQgPSB0cnVlO1xuXG5jb25zdCBTdHlsZWRWaXNDb25maWdTd2l0Y2ggPSBzdHlsZWQuZGl2YFxuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG5cbiAgLnZpcy1jb25maWctc3dpdGNoX190aXRsZSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgfVxuYDtcblxuY29uc3QgQ3VzdG9tVmlzQ29uZmlnU3dpdGNoID0gKHtcbiAgbGF5ZXI6IHtpZCwgY29uZmlnfSxcbiAgcHJvcGVydHksXG4gIG9uQ2hhbmdlLFxuICBsYWJlbCxcbiAgZGlzYWJsZWRcbn06IHtcbiAgbGF5ZXI6IFJhc3RlclRpbGVMYXllcjtcbiAgcHJvcGVydHk6IHN0cmluZztcbiAgb25DaGFuZ2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkO1xuICBsYWJlbDogc3RyaW5nO1xuICBkaXNhYmxlZDogYm9vbGVhbjtcbn0pID0+IChcbiAgPFNpZGVQYW5lbFNlY3Rpb24gZGlzYWJsZWQ9e0Jvb2xlYW4oZGlzYWJsZWQpfT5cbiAgICA8U3R5bGVkVmlzQ29uZmlnU3dpdGNoIGNsYXNzTmFtZT1cInZpcy1jb25maWctc3dpdGNoXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpcy1jb25maWctc3dpdGNoX190aXRsZVwiPlxuICAgICAgICA8UGFuZWxMYWJlbFdyYXBwZXI+XG4gICAgICAgICAge2xhYmVsID8gKFxuICAgICAgICAgICAgPFBhbmVsTGFiZWw+XG4gICAgICAgICAgICAgIHsobGFiZWwgJiYgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9e2xhYmVsfSAvPikgfHwgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHByb3BlcnR5KX1cbiAgICAgICAgICAgIDwvUGFuZWxMYWJlbD5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgPC9QYW5lbExhYmVsV3JhcHBlcj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2aXMtY29uZmlnLXN3aXRjaF9fc3dpdGNoXCI+XG4gICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICBjaGVja2VkPXtjb25maWcudmlzQ29uZmlnW3Byb3BlcnR5XX1cbiAgICAgICAgICBpZD17YCR7aWR9LSR7cHJvcGVydHl9LXN3aXRjaGB9XG4gICAgICAgICAgb25DaGFuZ2U9eygpID0+IG9uQ2hhbmdlKHtbcHJvcGVydHldOiAhY29uZmlnLnZpc0NvbmZpZ1twcm9wZXJ0eV19KX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvU3R5bGVkVmlzQ29uZmlnU3dpdGNoPlxuICA8L1NpZGVQYW5lbFNlY3Rpb24+XG4pO1xuXG5jb25zdCBTdHlsZWRMYXllckNvbmZpZ3VyYXRvciA9IHN0eWxlZC5kaXZgXG4gIG1hcmdpbi10b3A6IDEycHg7XG5gO1xuXG5jb25zdCBEZXNjcmlwdGlvblRleHQgPSBzdHlsZWQoUGFuZWxMYWJlbClgXG4gIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICBkaXNwbGF5OiBpbmxpbmU7XG4gIGNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLnN1YnRleHRDb2xvcn07XG5cbiAgYSB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgfVxuYDtcblxuLy8gVE9ETzogY29tYmluZSB0aGVzZSB0d28gaGVscGVycyBpbnRvIG9uZVxuZnVuY3Rpb24gZmluZFZpc0NvbmZpZ0l0ZW1CeUlkKGxheWVyLCBwcm9wKSB7XG4gIHJldHVybiBsYXllci52aXNDb25maWdTZXR0aW5nc1twcm9wXS5vcHRpb25zLmZpbmQob3AgPT4gb3AuaWQgPT09IGxheWVyLmNvbmZpZy52aXNDb25maWdbcHJvcF0pO1xufVxuXG5mdW5jdGlvbiBmaW5kSXRlbUJ5SWQobGF5ZXIsIG9wdGlvbnMsIHByb3ApIHtcbiAgLy8gRm9yIG5vdyBpdCdzIHBvc3NpYmxlIHRoYXQgbm9uLXJhc3RlciBtZXRhZGF0YSB3aWxsIGJlIHBhc3NlZCB0byB0aGUgcmFzdGVyIGNvbmZpZ3VyYXRvciwgc29cbiAgLy8gb3B0aW9ucyBtYXkgYmUgbnVsbFxuICByZXR1cm4gb3B0aW9ucz8uZmluZChvcCA9PiBvcC5pZCA9PT0gbGF5ZXIuY29uZmlnLnZpc0NvbmZpZ1twcm9wXSk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgZHJvcCBkb3duIGxhYmVscyBmb3Igc2luZ2xlIGJhbmQgc2VsZWN0b3JcbiAqIEBwYXJhbSBzdGFjIC0gU1RBQyBpdGVtIG1ldGFkYXRhIG9iamVjdFxuICogQHJldHVybnMgYXJyYXkgb2Yge2lkLCBsYWJlbH0gZWxlbWVudHNcbiAqL1xuZnVuY3Rpb24gZ2V0QmFuZFNlbGVjdG9yT3B0aW9ucyhzdGFjOiBDb21wbGV0ZVNUQUNPYmplY3QpOiB7aWQ/OiBzdHJpbmc7IGxhYmVsPzogc3RyaW5nfVtdIHtcbiAgY29uc3QgZW9CYW5kcyA9IGdldEVPQmFuZHMoc3RhYykgfHwgW107XG4gIHJldHVybiBlb0JhbmRzLm1hcCgoZW9CYW5kOiBFT0JhbmQpID0+ICh7XG4gICAgaWQ6IGVvQmFuZC5uYW1lIHx8IGVvQmFuZC5jb21tb25fbmFtZSxcbiAgICBsYWJlbDogZW9CYW5kLmNvbW1vbl9uYW1lXG4gICAgICA/IGAke2VvQmFuZC5uYW1lIHx8IGVvQmFuZC5jb21tb25fbmFtZX0gKCR7ZW9CYW5kLmNvbW1vbl9uYW1lfSlgXG4gICAgICA6IGVvQmFuZC5uYW1lXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2F0ZWdvcmljYWxDb2xvcm1hcExpc3RJdGVtKGNhdGVnb3JpY2FsQ29sb3JNYXApIHtcbiAgbGV0IGNhdGVnb3JpY2FsSXRlbToge2xhYmVsOiBzdHJpbmc7IGlkOiBzdHJpbmd9IHwgdW5kZWZpbmVkO1xuICBpZiAoY2F0ZWdvcmljYWxDb2xvck1hcCkge1xuICAgIGNhdGVnb3JpY2FsSXRlbSA9IHtsYWJlbDogJ0NhdGVnb3JpY2FsJywgaWQ6IENBVEVHT1JJQ0FMX0NPTE9STUFQX0lEfTtcbiAgfVxuICByZXR1cm4gY2F0ZWdvcmljYWxJdGVtO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGRhdGEgc291cmNlIGdsb2JhbCBwaXhlbCBjb2xvciByYW5nZSBpcyBjYWxjdWxhdGVkIGNvcnJlY3RseVxuICogQHBhcmFtIGxheWVyIC0gcmFzdGVyIGxheWVyXG4gKiBAcGFyYW0gc3RhYyAtIFNUQUMgbWV0YWRhdGEgb2JqZWN0XG4gKiBAcGFyYW0gcHJlc2V0IC0gcHJlc2V0IG5hbWVcbiAqIEBwYXJhbSBzaW5nbGVCYW5kUHJlc2V0T3B0aW9ucyAtIG9wdGlvbnMgZm9yIHNpbmdsZSBiYW5kIHByZXNldFxuICogQHJldHVybnMgYm9vbGVhbiB2YWx1ZVxuICovXG5mdW5jdGlvbiBpc0RhdGFTb3VyY2VDb2xvclJhbmdlQXZhaWxhYmxlKFxuICBsYXllcjogUmFzdGVyVGlsZUxheWVyLFxuICBzdGFjOiBDb21wbGV0ZVNUQUNPYmplY3QsXG4gIHByZXNldDogc3RyaW5nLFxuICBzaW5nbGVCYW5kUHJlc2V0T3B0aW9uczogUHJlc2V0T3B0aW9uWydzaW5nbGVCYW5kJ11cbik6IGJvb2xlYW4ge1xuICBsZXQgbWluUGl4ZWxWYWx1ZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGxldCBtYXhQaXhlbFZhbHVlOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgY29uc3QgZGF0YVNvdXJjZVBhcmFtczogRGF0YVNvdXJjZVBhcmFtcyB8IG51bGwgPSBsYXllci5nZXREYXRhU291cmNlUGFyYW1zKHN0YWMsIHByZXNldCwge1xuICAgIHNpbmdsZUJhbmQ6IHNpbmdsZUJhbmRQcmVzZXRPcHRpb25zXG4gIH0pO1xuICBpZiAoZGF0YVNvdXJjZVBhcmFtcykge1xuICAgIG1pblBpeGVsVmFsdWUgPSBkYXRhU291cmNlUGFyYW1zLm1pblBpeGVsVmFsdWU7XG4gICAgbWF4UGl4ZWxWYWx1ZSA9IGRhdGFTb3VyY2VQYXJhbXMubWF4UGl4ZWxWYWx1ZTtcbiAgfVxuICByZXR1cm4gbWluUGl4ZWxWYWx1ZSAhPT0gbnVsbCAmJiBtYXhQaXhlbFZhbHVlICE9PSBudWxsO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgY29sb3IgcGFyYW1ldGVycyBiYXNlZCBvbiBhIGNoYW5nZSBpbiB2aXN1YWxpemF0aW9uIHByZXNldC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGFkanVzdHMgdGhlIGNvbG9yIHByb2Nlc3NpbmcgcGFyYW1ldGVycyB3aGVuIHRoZSB2aXN1YWxpemF0aW9uXG4gKiBwcmVzZXQgY2hhbmdlcywgYmFzZWQgb24gd2hldGhlciB0aGUgcHJlc2V0IGlzIHN3aXRjaGluZyB0byBvciBmcm9tIGFcbiAqIHNpbmdsZS1iYW5kLiBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gYXBwbHkgY29sb3JcbiAqIGVuaGFuY2VtZW50cyBvciByZXNldCBwYXJhbWV0ZXJzIGJhc2VkIG9uIHRoZSBwcmVzZXQgdHJhbnNpdGlvbi5cbiAqXG4gKiBAcGFyYW0gc3RhYyBBIFNUQUMgKFNwYXRpb1RlbXBvcmFsIEFzc2V0IENhdGFsb2cpIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGRhdGFzZXQuXG4gKiBAcGFyYW0gbmV3UHJlc2V0IFRoZSBvbGQgdmlzdWFsaXphdGlvbiBwcmVzZXQgYmVpbmcgYXBwbGllZC5cbiAqIEBwYXJhbSBuZXdQcmVzZXQgVGhlIG5ldyB2aXN1YWxpemF0aW9uIHByZXNldCBiZWluZyBhcHBsaWVkLlxuICogQHJldHVybnMgVGhlIHVwZGF0ZWQgY29sb3IgcGFyYW1ldGVycyB0byBhcHBseS5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlQ29sb3JQYXJhbXNPblByZXNldENoYW5nZShcbiAgc3RhYzogQ29tcGxldGVTVEFDT2JqZWN0LFxuICBvbGRQcmVzZXQ6IHN0cmluZyxcbiAgbmV3UHJlc2V0OiBzdHJpbmdcbikge1xuICBsZXQgY29sb3JQYXJhbXMgPSB7fTtcbiAgY29uc3QgY29sb3JPdmVycmlkZXMgPSBEQVRBX1NPVVJDRV9DT0xPUl9ERUZBVUxUU1tzdGFjLmlkXTtcbiAgaWYgKGNvbG9yT3ZlcnJpZGVzKSByZXR1cm4gY29sb3JQYXJhbXM7XG5cbiAgY29uc3QgYmFuZE9mSW50ZXJlc3QgPSAnc2luZ2xlQmFuZCc7XG4gIGlmIChvbGRQcmVzZXQgPT09IGJhbmRPZkludGVyZXN0ICYmIG5ld1ByZXNldCAhPT0gYmFuZE9mSW50ZXJlc3QpIHtcbiAgICAvLyBlbmNoYW5jZSBjb2xvcnMgZm9yIG11bHRpYmFuZCBjb21iaW5hdGlvbnNcbiAgICBjb2xvclBhcmFtcyA9IGNvbG9yT3ZlcnJpZGVzO1xuICB9IGVsc2UgaWYgKG9sZFByZXNldCAhPT0gYmFuZE9mSW50ZXJlc3QgJiYgbmV3UHJlc2V0ID09PSBiYW5kT2ZJbnRlcmVzdCkge1xuICAgIC8vIHJlc2V0IGltYWdlIHByb2Nlc3NuZyBwYXJhbXNcbiAgICBjb2xvclBhcmFtcyA9IFJBU1RFUl9DT0xPUl9SRVNFVF9QQVJBTVM7XG4gIH1cblxuICByZXR1cm4gY29sb3JQYXJhbXM7XG59XG5cbnR5cGUgUmFzdGVyVGlsZUxheWVyQ29uZmlndXJhdG9yUHJvcHMgPSB7XG4gIGxheWVyOiBSYXN0ZXJUaWxlTGF5ZXI7XG4gIHZpc0NvbmZpZ3VyYXRvclByb3BzOiBhbnk7XG4gIGRhdGFzZXQ6IEtlcGxlckRhdGFzZXQ7XG59O1xuXG5SYXN0ZXJUaWxlTGF5ZXJDb25maWd1cmF0b3JGYWN0b3J5LmRlcHMgPSBbXG4gIExheWVyQ29uZmlnR3JvdXBGYWN0b3J5LFxuICBWaXNDb25maWdTbGlkZXJGYWN0b3J5LFxuICBJbmZvSGVscGVyRmFjdG9yeSxcbiAgVmlzQ29uZmlnU3dpdGNoRmFjdG9yeVxuXTtcblxuZnVuY3Rpb24gUmFzdGVyVGlsZUxheWVyQ29uZmlndXJhdG9yRmFjdG9yeShcbiAgTGF5ZXJDb25maWdHcm91cDogUmV0dXJuVHlwZTx0eXBlb2YgTGF5ZXJDb25maWdHcm91cEZhY3Rvcnk+LFxuICBWaXNDb25maWdTbGlkZXI6IFJldHVyblR5cGU8dHlwZW9mIFZpc0NvbmZpZ1NsaWRlckZhY3Rvcnk+LFxuICBJbmZvSGVscGVyOiBSZXR1cm5UeXBlPHR5cGVvZiBJbmZvSGVscGVyRmFjdG9yeT4sXG4gIFZpc0NvbmZpZ1N3aXRjaDogUmV0dXJuVHlwZTx0eXBlb2YgVmlzQ29uZmlnU3dpdGNoRmFjdG9yeT5cbik6IFJlYWN0LkZDPFJhc3RlclRpbGVMYXllckNvbmZpZ3VyYXRvclByb3BzPiB7XG4gIC8qKlxuICAgKiBXcmFwcGVyIGFyb3VuZCBjb25maWd1cmF0b3IgdG8gY2hlY2sgZm9yIGRhdGFzZXQubWV0YWRhdGEgYmVpbmcgbnVsbC91bmRlZmluZWRcbiAgICovXG4gIGNvbnN0IFNUQUNDaGVja0NvbmZpZ3VyYXRvcldyYXBwZXIgPSAoe1xuICAgIGxheWVyLFxuICAgIHZpc0NvbmZpZ3VyYXRvclByb3BzLFxuICAgIGRhdGFzZXRcbiAgfTogUmFzdGVyVGlsZUxheWVyQ29uZmlndXJhdG9yUHJvcHMpID0+IHtcbiAgICBjb25zdCBzdGFjID0gZGF0YXNldD8ubWV0YWRhdGE7XG5cbiAgICAvLyBJZiBubyBkYXRhc2V0IGlzIGxvYWRlZCBpbnRvIEtlcGxlciwgc3RhYyBjYW4gYmUgdW5kZWZpbmVkXG4gICAgaWYgKCFzdGFjKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJhc3RlclRpbGVMYXllckNvbmZpZ3VyYXRvclxuICAgICAgICBsYXllcj17bGF5ZXJ9XG4gICAgICAgIHZpc0NvbmZpZ3VyYXRvclByb3BzPXt2aXNDb25maWd1cmF0b3JQcm9wc31cbiAgICAgICAgZGF0YXNldD17ZGF0YXNldH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICBjb25zdCBSYXN0ZXJUaWxlTGF5ZXJDb25maWd1cmF0b3I6IFJlYWN0LkZDPFJhc3RlclRpbGVMYXllckNvbmZpZ3VyYXRvclByb3BzPiA9ICh7XG4gICAgbGF5ZXIsXG4gICAgdmlzQ29uZmlndXJhdG9yUHJvcHMsXG4gICAgZGF0YXNldFxuICB9KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgcHJlc2V0LFxuICAgICAgbm9uTGluZWFyUmVzY2FsaW5nLFxuICAgICAgdXNlU1RBQ1NlYXJjaGluZyxcbiAgICAgIGNvbG9yUmFuZ2U6IHtjb2xvck1hcDogY2F0ZWdvcmljYWxDb2xvck1hcH0sXG4gICAgICBkeW5hbWljQ29sb3IsXG4gICAgICBzaW5nbGVCYW5kTmFtZVxuICAgIH0gPSBsYXllci5jb25maWcudmlzQ29uZmlnO1xuXG4gICAgY29uc3Qgc3RhYyA9IGRhdGFzZXQ/Lm1ldGFkYXRhIGFzIEdldFRpbGVEYXRhQ3VzdG9tUHJvcHNbJ3N0YWMnXTtcblxuICAgIGNvbnN0IGF2YWlsYWJsZVByZXNldHMgPSB1c2VNZW1vKCgpID0+IGZpbHRlckF2YWlsYWJsZVByZXNldHMoc3RhYywgUFJFU0VUX09QVElPTlMpLCBbc3RhY10pO1xuXG4gICAgY29uc3QgcHJlc2V0T3B0aW9ucyA9IHVzZU1lbW8oXG4gICAgICAoKSA9PlxuICAgICAgICAoXG4gICAgICAgICAgbGF5ZXIudmlzQ29uZmlnU2V0dGluZ3MucHJlc2V0Lm9wdGlvbnMgYXMgdW5rbm93biBhcyB7XG4gICAgICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICAgICAgbGFiZWw6IHN0cmluZztcbiAgICAgICAgICB9W11cbiAgICAgICAgKS5maWx0ZXIoKHtpZH0pID0+IGF2YWlsYWJsZVByZXNldHM/LmluY2x1ZGVzKGlkKSksXG4gICAgICBbbGF5ZXIudmlzQ29uZmlnU2V0dGluZ3MucHJlc2V0Lm9wdGlvbnMsIGF2YWlsYWJsZVByZXNldHNdXG4gICAgKTtcbiAgICBjb25zdCBzaW5nbGVCYW5kT3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4gZ2V0QmFuZFNlbGVjdG9yT3B0aW9ucyhzdGFjKSwgW3N0YWNdKTtcbiAgICBjb25zdCBjb2xvcm1hcE9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXG4gICAgICAgIC4uLihsYXllci52aXNDb25maWdTZXR0aW5ncy5jb2xvcm1hcElkLm9wdGlvbnMgYXMgdW5rbm93biBhcyB7XG4gICAgICAgICAgaWQ6IHN0cmluZztcbiAgICAgICAgICBsYWJlbDogc3RyaW5nO1xuICAgICAgICB9W10pXG4gICAgICBdO1xuICAgICAgY29uc3QgY2F0ZWdvcmljYWxMaXN0SXRlbSA9IGdldENhdGVnb3JpY2FsQ29sb3JtYXBMaXN0SXRlbShjYXRlZ29yaWNhbENvbG9yTWFwKTtcbiAgICAgIGlmIChjYXRlZ29yaWNhbExpc3RJdGVtKSB7XG4gICAgICAgIG9wdGlvbnMucHVzaChjYXRlZ29yaWNhbExpc3RJdGVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH0sIFtsYXllci52aXNDb25maWdTZXR0aW5ncy5jb2xvcm1hcElkLm9wdGlvbnMsIGNhdGVnb3JpY2FsQ29sb3JNYXBdKTtcblxuICAgIGNvbnN0IHtiYW5kQ29tYmluYXRpb259ID0gUFJFU0VUX09QVElPTlNbcHJlc2V0XSB8fCB7fTtcbiAgICBjb25zdCBjb2xvcm1hcEFsbG93ZWQgPSBpc0NvbG9ybWFwQWxsb3dlZChiYW5kQ29tYmluYXRpb24pO1xuICAgIGNvbnN0IHJlc2NhbGluZ0FsbG93ZWQgPSAhY2F0ZWdvcmljYWxDb2xvck1hcCAmJiBpc1Jlc2NhbGluZ0FsbG93ZWQoYmFuZENvbWJpbmF0aW9uKTtcbiAgICBjb25zdCBmaWx0ZXJBbGxvd2VkID0gaXNGaWx0ZXJBbGxvd2VkKGJhbmRDb21iaW5hdGlvbik7XG5cbiAgICAvLyBIZXJlIHdlIHNob3cgdGhlIFVJIHdoZW4gdXNlU1RBQ1NlYXJjaGluZyBpcyBleHBsaWNpdGx5IHNldCB0byB0cnVlIHNvIHRoYXQgdGhlIFVJIHNob3dzIHVwXG4gICAgY29uc3Qgc3RhY1NlYXJjaEFsbG93ZWQgPSBpc1NlYXJjaGFibGVTdGFjKHN0YWMpIHx8IHVzZVNUQUNTZWFyY2hpbmc7XG5cbiAgICBjb25zdCBzZWxlY3RlZENvbG9ybWFwID1cbiAgICAgIGZpbmRWaXNDb25maWdJdGVtQnlJZChsYXllciwgJ2NvbG9ybWFwSWQnKSB8fFxuICAgICAgZ2V0Q2F0ZWdvcmljYWxDb2xvcm1hcExpc3RJdGVtKGNhdGVnb3JpY2FsQ29sb3JNYXApO1xuICAgIGNvbnN0IHNlbGVjdGVkUHJlc2V0ID0gZmluZFZpc0NvbmZpZ0l0ZW1CeUlkKGxheWVyLCAncHJlc2V0Jyk7XG4gICAgY29uc3Qgc2VsZWN0ZWRTaW5nbGVCYW5kTmFtZSA9IGZpbmRJdGVtQnlJZChsYXllciwgc2luZ2xlQmFuZE9wdGlvbnMsICdzaW5nbGVCYW5kTmFtZScpO1xuXG4gICAgY29uc3Qgc2luZ2xlQmFuZFByZXNldE9wdGlvbnMgPSBnZXRTaW5nbGVCYW5kUHJlc2V0T3B0aW9ucyhzdGFjLCBzaW5nbGVCYW5kTmFtZSk7XG4gICAgY29uc3QgW21pbkNhdGVnb3JpY2FsQmFuZFZhbHVlLCBtYXhDYXRlZ29yaWNhbEJhbmRWYWx1ZV0gPSBnZXRSYXN0ZXJTdGF0aXN0aWNzTWluTWF4KFxuICAgICAgc3RhYyxcbiAgICAgIHByZXNldCxcbiAgICAgIHNpbmdsZUJhbmRQcmVzZXRPcHRpb25zXG4gICAgKTtcbiAgICBjb25zdCBDb2xvck1hcExpc3RJdGVtID0gdXNlTWVtbyhcbiAgICAgICgpID0+XG4gICAgICAgIGdldENvbG9yTWFwTGlzdEl0ZW1Db21wb25lbnQoe1xuICAgICAgICAgIGNvbG9yTWFwOiBjYXRlZ29yaWNhbENvbG9yTWFwLFxuICAgICAgICAgIG1pblZhbHVlOiBtaW5DYXRlZ29yaWNhbEJhbmRWYWx1ZSxcbiAgICAgICAgICBtYXhWYWx1ZTogbWF4Q2F0ZWdvcmljYWxCYW5kVmFsdWVcbiAgICAgICAgfSksXG4gICAgICBbY2F0ZWdvcmljYWxDb2xvck1hcCwgbWluQ2F0ZWdvcmljYWxCYW5kVmFsdWUsIG1heENhdGVnb3JpY2FsQmFuZFZhbHVlXVxuICAgICk7XG4gICAgY29uc3QgaXNEeW5hbWljQ29sb3JzT25seSA9ICFpc0RhdGFTb3VyY2VDb2xvclJhbmdlQXZhaWxhYmxlKFxuICAgICAgbGF5ZXIsXG4gICAgICBzdGFjLFxuICAgICAgcHJlc2V0LFxuICAgICAgc2luZ2xlQmFuZFByZXNldE9wdGlvbnNcbiAgICApO1xuXG4gICAgLy8gRGVmYXVsdCBvZiBgZHluYW1pY0NvbG9yYCBpcyBmYWxzZS4gU2V0IGl0IHRydWUgaWYgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGdldCBkYXRhIHNvdXJjZVxuICAgIC8vIHdpZGUgY29sb3IgcmFuZ2VcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGlzRHluYW1pY0NvbG9yc09ubHkgJiYgIWR5bmFtaWNDb2xvcikge1xuICAgICAgICB2aXNDb25maWd1cmF0b3JQcm9wcy5vbkNoYW5nZSh7ZHluYW1pY0NvbG9yOiB0cnVlfSk7XG4gICAgICB9XG4gICAgfSwgW3Zpc0NvbmZpZ3VyYXRvclByb3BzLCBkeW5hbWljQ29sb3IsIGlzRHluYW1pY0NvbG9yc09ubHldKTtcblxuICAgIGNvbnN0IGVsZXZhdGlvblVJID0gKFxuICAgICAgPD5cbiAgICAgICAgeyhzdGFjLnJhc3RlclNlcnZlclN1cHBvcnRzRWxldmF0aW9uID8/XG4gICAgICAgICAgZ2V0QXBwbGljYXRpb25Db25maWcoKS5yYXN0ZXJTZXJ2ZXJTdXBwb3J0c0VsZXZhdGlvbikgJiZcbiAgICAgICAgICBzdGFjLnJhc3RlclRpbGVTZXJ2ZXJVcmxzPy5sZW5ndGggJiYgKFxuICAgICAgICAgICAgPExheWVyQ29uZmlnR3JvdXBcbiAgICAgICAgICAgICAgey4uLihsYXllci52aXNDb25maWdTZXR0aW5ncy5lbmFibGVUZXJyYWluIHx8IHtsYWJlbDogJ2xheWVyLmNvbG9yJ30pfVxuICAgICAgICAgICAgICB7Li4udmlzQ29uZmlndXJhdG9yUHJvcHN9XG4gICAgICAgICAgICAgIGNvbGxhcHNpYmxlXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDb25maWdHcm91cENvbGxhcHNpYmxlQ29udGVudD5cbiAgICAgICAgICAgICAgICA8VmlzQ29uZmlnU3dpdGNoXG4gICAgICAgICAgICAgICAgICB7Li4udmlzQ29uZmlndXJhdG9yUHJvcHN9XG4gICAgICAgICAgICAgICAgICB7Li4ubGF5ZXIudmlzQ29uZmlnU2V0dGluZ3MuZW5hYmxlVGVycmFpblRvcFZpZXd9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Db25maWdHcm91cENvbGxhcHNpYmxlQ29udGVudD5cbiAgICAgICAgICAgIDwvTGF5ZXJDb25maWdHcm91cD5cbiAgICAgICAgICApfVxuICAgICAgPC8+XG4gICAgKTtcblxuICAgIC8vIEZvciBQTVRpbGVzIGluIHJhc3RlciBmb3JtYXQsIG9ubHkgc2hvdyBvcGFjaXR5IGFuZCB0ZXJyYWluIG9wdGlvbnMgZm9yIG5vd1xuICAgIGlmIChzdGFjLnBtdGlsZXNUeXBlID09PSBQTVRpbGVzVHlwZS5SQVNURVIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTdHlsZWRMYXllckNvbmZpZ3VyYXRvcj5cbiAgICAgICAgICA8TGF5ZXJDb25maWdHcm91cCB7Li4udmlzQ29uZmlndXJhdG9yUHJvcHN9IGxhYmVsPVwiVmlzdWFsIFNldHRpbmdzXCIgY29sbGFwc2libGU9e2ZhbHNlfT5cbiAgICAgICAgICAgIDxWaXNDb25maWdTbGlkZXIgey4uLmxheWVyLnZpc0NvbmZpZ1NldHRpbmdzLm9wYWNpdHl9IHsuLi52aXNDb25maWd1cmF0b3JQcm9wc30gLz5cbiAgICAgICAgICA8L0xheWVyQ29uZmlnR3JvdXA+XG4gICAgICAgICAge2VsZXZhdGlvblVJfVxuICAgICAgICA8L1N0eWxlZExheWVyQ29uZmlndXJhdG9yPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFN0eWxlZExheWVyQ29uZmlndXJhdG9yPlxuICAgICAgICB7YXZhaWxhYmxlUHJlc2V0cyAmJiAoXG4gICAgICAgICAgPExheWVyQ29uZmlnR3JvdXAgey4uLnZpc0NvbmZpZ3VyYXRvclByb3BzfSBsYWJlbD1cIkltYWdlIFNlbGVjdGlvblwiIGNvbGxhcHNpYmxlPXtmYWxzZX0+XG4gICAgICAgICAgICA8U2lkZVBhbmVsU2VjdGlvbj5cbiAgICAgICAgICAgICAgPFBhbmVsTGFiZWxXcmFwcGVyPlxuICAgICAgICAgICAgICAgIDxQYW5lbExhYmVsPlByZXNldDwvUGFuZWxMYWJlbD5cbiAgICAgICAgICAgICAgICA8SW5mb0hlbHBlclxuICAgICAgICAgICAgICAgICAgaWQ9XCJwcmVzZXRcIlxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb249XCJTZWxlY3QgYSBwcmVzZXQgdG8gZGVzY3JpYmUgaG93IHRvIGNvbWJpbmUgc3BlY3RyYWwgYmFuZHMuXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L1BhbmVsTGFiZWxXcmFwcGVyPlxuICAgICAgICAgICAgICA8SXRlbVNlbGVjdG9yXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtcz17c2VsZWN0ZWRQcmVzZXR9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17cHJlc2V0T3B0aW9uc31cbiAgICAgICAgICAgICAgICBtdWx0aVNlbGVjdD17ZmFsc2V9XG4gICAgICAgICAgICAgICAgc2VhcmNoYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgZGlzcGxheU9wdGlvbj1cImxhYmVsXCJcbiAgICAgICAgICAgICAgICBnZXRPcHRpb25WYWx1ZT1cImlkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17bmV3UHJlc2V0ID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJyaWRlcyA9IHVwZGF0ZUNvbG9yUGFyYW1zT25QcmVzZXRDaGFuZ2UoXG4gICAgICAgICAgICAgICAgICAgIHN0YWMsXG4gICAgICAgICAgICAgICAgICAgIHZpc0NvbmZpZ3VyYXRvclByb3BzLmxheWVyLmNvbmZpZy52aXNDb25maWcucHJlc2V0LFxuICAgICAgICAgICAgICAgICAgICBuZXdQcmVzZXQgYXMgc3RyaW5nXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgdmlzQ29uZmlndXJhdG9yUHJvcHMub25DaGFuZ2Uoey4uLm92ZXJyaWRlcywgcHJlc2V0OiBuZXdQcmVzZXR9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7c2VsZWN0ZWRQcmVzZXQ/LmRlc2NyaXB0aW9uID8gKFxuICAgICAgICAgICAgICAgIDxEZXNjcmlwdGlvblRleHQ+XG4gICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRQcmVzZXQ/LmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAge3NlbGVjdGVkUHJlc2V0Py5pbmZvVXJsID8gKFxuICAgICAgICAgICAgICAgICAgICA8YSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCIgaHJlZj17c2VsZWN0ZWRQcmVzZXQ/LmluZm9Vcmx9PlxuICAgICAgICAgICAgICAgICAgICAgIE1vcmUgSW5mb1xuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICA8L0Rlc2NyaXB0aW9uVGV4dD5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8L1NpZGVQYW5lbFNlY3Rpb24+XG5cbiAgICAgICAgICAgIHtzZWxlY3RlZFByZXNldC5pZCA9PT0gJ3NpbmdsZUJhbmQnICYmIChcbiAgICAgICAgICAgICAgPFNpZGVQYW5lbFNlY3Rpb24+XG4gICAgICAgICAgICAgICAgPFBhbmVsTGFiZWxXcmFwcGVyPlxuICAgICAgICAgICAgICAgICAgPFBhbmVsTGFiZWw+U2luZ2xlIEJhbmQgTmFtZTwvUGFuZWxMYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxJbmZvSGVscGVyXG4gICAgICAgICAgICAgICAgICAgIGlkPXtgJHtsYXllci5pZH0tc2luZ2xlLWJhbmQtbmFtZWB9XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPVwiU2VsZWN0IGEgc2luZ2xlIGJhbmQuXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9QYW5lbExhYmVsV3JhcHBlcj5cbiAgICAgICAgICAgICAgICA8SXRlbVNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zPXtzZWxlY3RlZFNpbmdsZUJhbmROYW1lfVxuICAgICAgICAgICAgICAgICAgb3B0aW9ucz17c2luZ2xlQmFuZE9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICBtdWx0aVNlbGVjdD17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICBzZWFyY2hhYmxlPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgIGRpc3BsYXlPcHRpb249XCJsYWJlbFwiXG4gICAgICAgICAgICAgICAgICBnZXRPcHRpb25WYWx1ZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2YWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2aXNDb25maWd1cmF0b3JQcm9wcy5vbkNoYW5nZSh7c2luZ2xlQmFuZE5hbWU6IHZhbH0pO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L1NpZGVQYW5lbFNlY3Rpb24+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7U1RBQ19TRUFSQ0hfVUlfRU5BQkxFRCAmJiBzdGFjU2VhcmNoQWxsb3dlZCAmJiAoXG4gICAgICAgICAgICAgIDxDdXN0b21WaXNDb25maWdTd2l0Y2hcbiAgICAgICAgICAgICAgICB7Li4ubGF5ZXIudmlzQ29uZmlnU2V0dGluZ3MudXNlU1RBQ1NlYXJjaGluZ31cbiAgICAgICAgICAgICAgICB7Li4udmlzQ29uZmlndXJhdG9yUHJvcHN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7U1RBQ19TRUFSQ0hfVUlfRU5BQkxFRCAmJiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge3N0YWNTZWFyY2hBbGxvd2VkICYmIHVzZVNUQUNTZWFyY2hpbmcgPyAoXG4gICAgICAgICAgICAgICAgICA8U2lkZVBhbmVsU2VjdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPFBhbmVsTGFiZWxXcmFwcGVyPlxuICAgICAgICAgICAgICAgICAgICAgIDxQYW5lbExhYmVsPlNUQUMgU2VhcmNoIFByb3ZpZGVyPC9QYW5lbExhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L1BhbmVsTGFiZWxXcmFwcGVyPlxuICAgICAgICAgICAgICAgICAgICA8SXRlbVNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgey4uLmxheWVyLnZpc0NvbmZpZ1NldHRpbmdzLnN0YWNTZWFyY2hQcm92aWRlcn1cbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zPXtmaW5kVmlzQ29uZmlnSXRlbUJ5SWQobGF5ZXIsICdzdGFjU2VhcmNoUHJvdmlkZXInKX1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNob29zZSBzZWFyY2ggcHJvdmlkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIG11bHRpU2VsZWN0PXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hhYmxlPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T3B0aW9uPVwibGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgIGdldE9wdGlvblZhbHVlPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2YWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogY2hlY2sgd2hlbiBzd2l0Y2hpbmcgbGF5ZXJzIHNvIHRoYXQgeW91IGRvbid0IG1pc21hdGNoIGFsbG93ZWQgbW9zYWljcyB3aXRoIGxheWVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzQ29uZmlndXJhdG9yUHJvcHMub25DaGFuZ2Uoe3N0YWNTZWFyY2hQcm92aWRlcjogdmFsfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgICA8UGFuZWxMYWJlbFdyYXBwZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsTGFiZWw+RGF0ZSBSYW5nZTwvUGFuZWxMYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9QYW5lbExhYmVsV3JhcHBlcj5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIGlkPXtgJHtsYXllci5pZH0tc3RhcnREYXRlYH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHt0YXJnZXQ6IHt2YWx1ZX19KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNDb25maWd1cmF0b3JQcm9wcy5vbkNoYW5nZSh7c3RhcnREYXRlOiB2YWx1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2xheWVyLmNvbmZpZy52aXNDb25maWcuc3RhcnREYXRlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9e2Ake2xheWVyLmlkfS1lbmREYXRlYH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHt0YXJnZXQ6IHt2YWx1ZX19KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNDb25maWd1cmF0b3JQcm9wcy5vbkNoYW5nZSh7ZW5kRGF0ZTogdmFsdWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtsYXllci5jb25maWcudmlzQ29uZmlnLmVuZERhdGV9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxEZXNjcmlwdGlvblRleHQ+RGF0ZSBmb3JtYXQgbXVzdCBiZSBcIllZWVktTU0tRERcIjwvRGVzY3JpcHRpb25UZXh0PlxuICAgICAgICAgICAgICAgICAgPC9TaWRlUGFuZWxTZWN0aW9uPlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9MYXllckNvbmZpZ0dyb3VwPlxuICAgICAgICApfVxuXG4gICAgICAgIDxMYXllckNvbmZpZ0dyb3VwIHsuLi52aXNDb25maWd1cmF0b3JQcm9wc30gbGFiZWw9XCJWaXN1YWwgU2V0dGluZ3NcIiBjb2xsYXBzaWJsZT17ZmFsc2V9PlxuICAgICAgICAgIDxWaXNDb25maWdTbGlkZXIgey4uLmxheWVyLnZpc0NvbmZpZ1NldHRpbmdzLm9wYWNpdHl9IHsuLi52aXNDb25maWd1cmF0b3JQcm9wc30gLz5cbiAgICAgICAgICB7Y29sb3JtYXBBbGxvd2VkICYmIChcbiAgICAgICAgICAgIDxTaWRlUGFuZWxTZWN0aW9uPlxuICAgICAgICAgICAgICA8UGFuZWxMYWJlbD5Db2xvcm1hcDwvUGFuZWxMYWJlbD5cbiAgICAgICAgICAgICAgPEl0ZW1TZWxlY3RvclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbXM9e3NlbGVjdGVkQ29sb3JtYXB9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17Y29sb3JtYXBPcHRpb25zfVxuICAgICAgICAgICAgICAgIG11bHRpU2VsZWN0PXtmYWxzZX1cbiAgICAgICAgICAgICAgICBkaXNwbGF5T3B0aW9uPVwibGFiZWxcIlxuICAgICAgICAgICAgICAgIGdldE9wdGlvblZhbHVlPVwiaWRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2YWwgPT4ge1xuICAgICAgICAgICAgICAgICAgdmlzQ29uZmlndXJhdG9yUHJvcHMub25DaGFuZ2Uoe2NvbG9ybWFwSWQ6IHZhbH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgRHJvcERvd25MaW5lSXRlbVJlbmRlckNvbXBvbmVudD17Q29sb3JNYXBMaXN0SXRlbX1cbiAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb249XCJsYWJlbFwiXG4gICAgICAgICAgICAgICAgc2VhcmNoYWJsZVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9TaWRlUGFuZWxTZWN0aW9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvTGF5ZXJDb25maWdHcm91cD5cblxuICAgICAgICB7LyogUmVzY2FsaW5nICovfVxuICAgICAgICB7cmVzY2FsaW5nQWxsb3dlZCAmJiAoXG4gICAgICAgICAgPExheWVyQ29uZmlnR3JvdXAgey4uLnZpc0NvbmZpZ3VyYXRvclByb3BzfSBsYWJlbD1cIlJlc2NhbGluZ1wiPlxuICAgICAgICAgICAgPFZpc0NvbmZpZ1N3aXRjaFxuICAgICAgICAgICAgICB7Li4udmlzQ29uZmlndXJhdG9yUHJvcHN9XG4gICAgICAgICAgICAgIHsuLi5sYXllci52aXNDb25maWdTZXR0aW5ncy5keW5hbWljQ29sb3J9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0R5bmFtaWNDb2xvcnNPbmx5fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxWaXNDb25maWdTd2l0Y2hcbiAgICAgICAgICAgICAgey4uLmxheWVyLnZpc0NvbmZpZ1NldHRpbmdzLm5vbkxpbmVhclJlc2NhbGluZ31cbiAgICAgICAgICAgICAgey4uLnZpc0NvbmZpZ3VyYXRvclByb3BzfVxuICAgICAgICAgICAgICBsYWJlbD17bm9uTGluZWFyUmVzY2FsaW5nID8gJ05vbi1MaW5lYXIgUmVzY2FsaW5nJyA6ICdMaW5lYXIgUmVzY2FsaW5nJ31cbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIHsvKiBUT0RPOiBhZGQgc2xpZGVycyBmb3IgcmVkLCBncmVlbiwgYmx1ZSwgbm90IGEgc2luZ2xlIHNsaWRlciAqL31cbiAgICAgICAgICAgIHtub25MaW5lYXJSZXNjYWxpbmcgPyAoXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPFZpc0NvbmZpZ1NsaWRlclxuICAgICAgICAgICAgICAgICAgey4uLmxheWVyLnZpc0NvbmZpZ1NldHRpbmdzLmdhbW1hQ29udHJhc3RGYWN0b3J9XG4gICAgICAgICAgICAgICAgICB7Li4udmlzQ29uZmlndXJhdG9yUHJvcHN9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8VmlzQ29uZmlnU2xpZGVyXG4gICAgICAgICAgICAgICAgICB7Li4ubGF5ZXIudmlzQ29uZmlnU2V0dGluZ3Muc2lnbW9pZGFsQ29udHJhc3RGYWN0b3J9XG4gICAgICAgICAgICAgICAgICB7Li4udmlzQ29uZmlndXJhdG9yUHJvcHN9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8VmlzQ29uZmlnU2xpZGVyXG4gICAgICAgICAgICAgICAgICB7Li4ubGF5ZXIudmlzQ29uZmlnU2V0dGluZ3Muc2lnbW9pZGFsQmlhc0ZhY3Rvcn1cbiAgICAgICAgICAgICAgICAgIHsuLi52aXNDb25maWd1cmF0b3JQcm9wc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxWaXNDb25maWdTbGlkZXJcbiAgICAgICAgICAgICAgICB7Li4ubGF5ZXIudmlzQ29uZmlnU2V0dGluZ3MubGluZWFyUmVzY2FsaW5nRmFjdG9yfVxuICAgICAgICAgICAgICAgIHsuLi52aXNDb25maWd1cmF0b3JQcm9wc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIDxWaXNDb25maWdTbGlkZXJcbiAgICAgICAgICAgICAgey4uLmxheWVyLnZpc0NvbmZpZ1NldHRpbmdzLnNhdHVyYXRpb25WYWx1ZX1cbiAgICAgICAgICAgICAgey4uLnZpc0NvbmZpZ3VyYXRvclByb3BzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0xheWVyQ29uZmlnR3JvdXA+XG4gICAgICAgICl9XG5cbiAgICAgICAge2ZpbHRlckFsbG93ZWQgJiYgKFxuICAgICAgICAgIDxMYXllckNvbmZpZ0dyb3VwXG4gICAgICAgICAgICB7Li4ubGF5ZXIudmlzQ29uZmlnU2V0dGluZ3MuZmlsdGVyRW5hYmxlZH1cbiAgICAgICAgICAgIHsuLi52aXNDb25maWd1cmF0b3JQcm9wc31cbiAgICAgICAgICAgIGNvbGxhcHNpYmxlXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFZpc0NvbmZpZ1NsaWRlciB7Li4ubGF5ZXIudmlzQ29uZmlnU2V0dGluZ3MuZmlsdGVyUmFuZ2V9IHsuLi52aXNDb25maWd1cmF0b3JQcm9wc30gLz5cbiAgICAgICAgICA8L0xheWVyQ29uZmlnR3JvdXA+XG4gICAgICAgICl9XG5cbiAgICAgICAge2VsZXZhdGlvblVJfVxuICAgICAgPC9TdHlsZWRMYXllckNvbmZpZ3VyYXRvcj5cbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBTVEFDQ2hlY2tDb25maWd1cmF0b3JXcmFwcGVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSYXN0ZXJUaWxlTGF5ZXJDb25maWd1cmF0b3JGYWN0b3J5O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBR0EsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUVBLElBQUFHLFVBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUosT0FBQTtBQW1CQSxJQUFBSyxhQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSxNQUFBLEdBQUFOLE9BQUE7QUFJQSxJQUFBTywyQkFBQSxHQUFBUCxPQUFBO0FBRUEsSUFBQVEsa0JBQUEsR0FBQVIsT0FBQTtBQU1B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