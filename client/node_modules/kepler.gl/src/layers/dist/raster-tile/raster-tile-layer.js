"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getNumRasterTilesBeingLoaded = exports["default"] = exports.LOAD_ELEVATION_AFTER_ZOOM = void 0;
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _typed = require("@deck.gl/core/typed");
var _typed2 = require("@deck.gl/geo-layers/typed");
var _pmtiles = require("@loaders.gl/pmtiles");
var _memoize = _interopRequireDefault(require("lodash/memoize"));
var _typed3 = require("@deck.gl/layers/typed");
var _constants = require("@kepler.gl/constants");
var _deckglLayers = require("@kepler.gl/deckgl-layers");
var _commonUtils = require("@kepler.gl/common-utils");
var _utils = require("@kepler.gl/utils");
var _config = require("./config");
var _gpuUtils = require("./gpu-utils");
var _image = require("./image");
var _rasterTileIcon = _interopRequireDefault(require("./raster-tile-icon"));
var _rasterTileUtils = require("./raster-tile-utils");
var _baseLayer = _interopRequireDefault(require("../base-layer"));
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2["default"])(o), (0, _possibleConstructorReturn2["default"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2["default"])(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, e, r, o) { var p = (0, _get2["default"])((0, _getPrototypeOf2["default"])(1 & o ? t.prototype : t), e, r); return 2 & o ? function (t) { return p.apply(r, t); } : p; } // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
// Adjust tileSize to devicePixelRatio, but not higher than 2 to reduce requests to server
var devicePixelRatio = Math.min(2, typeof window !== 'undefined' && window.devicePixelRatio || 1);

// Global counter that represents the number of tiles currently being loaded across all the raster tile layers
var tilesBeingLoaded = 0;

// This is a temp solution to track loading
var getNumRasterTilesBeingLoaded = exports.getNumRasterTilesBeingLoaded = function getNumRasterTilesBeingLoaded() {
  return tilesBeingLoaded;
};
var LOAD_ELEVATION_AFTER_ZOOM = exports.LOAD_ELEVATION_AFTER_ZOOM = 8.9;
var getShouldLoadTerrain = function getShouldLoadTerrain(stac, mapState, visConfig) {
  var _stac$rasterTileServe, _stac$rasterServerSup;
  return Boolean(
  // we need a raster tile server for elevations even when we user PMTiles
  ((_stac$rasterTileServe = stac.rasterTileServerUrls) === null || _stac$rasterTileServe === void 0 ? void 0 : _stac$rasterTileServe.length) > 0 &&
  // check the switch from the layer configurator
  visConfig.enableTerrain && (
  // disabled in Top view by default
  mapState.dragRotate || visConfig.enableTerrainTopView) && ((_stac$rasterServerSup = stac.rasterServerSupportsElevation) !== null && _stac$rasterServerSup !== void 0 ? _stac$rasterServerSup : (0, _utils.getApplicationConfig)().rasterServerSupportsElevation));
};
var RasterTileLayer = exports["default"] = /*#__PURE__*/function (_KeplerLayer) {
  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
  function RasterTileLayer(props) {
    var _this;
    (0, _classCallCheck2["default"])(this, RasterTileLayer);
    _this = _callSuper(this, RasterTileLayer, [props]);
    /** Min bands image data value, based on the current viewport */
    (0, _defineProperty2["default"])(_this, "minViewportPixelValue", Infinity);
    /** Max bands image data value, based on the current viewport */
    (0, _defineProperty2["default"])(_this, "maxViewportPixelValue", -Infinity);
    /** Memoized method that calculates data source params */
    (0, _defineProperty2["default"])(_this, "getDataSourceParams", void 0);
    _this.registerVisConfig(_config.rasterVisConfigs);

    // No two STAC ids may be the same within a single collection, though it's conceivably possible
    // across multiple STAC collections there could be an id collision. Note: STAC Collection
    // objects don't have a `collection` key; STAC Item objects have a `collection` key (which
    // matches the collection's `id`).
    var resolver = function resolver(stac, preset, presetOptions) {
      var _presetOptions$single, _presetOptions$single2;
      return "".concat(stac.id, "-").concat(stac.collection, "-").concat(preset, "-").concat((_presetOptions$single = presetOptions.singleBand) === null || _presetOptions$single === void 0 ? void 0 : _presetOptions$single.assetId, "-").concat((_presetOptions$single2 = presetOptions.singleBand) === null || _presetOptions$single2 === void 0 ? void 0 : _presetOptions$single2.bandIndex);
    };
    _this.getDataSourceParams = (0, _memoize["default"])(function (stac, preset, presetOptions) {
      return (0, _rasterTileUtils.getDataSourceParams)(stac, preset, presetOptions);
    }, resolver);
    _this.meta = {
      zRange: null
    };
    return _this;
  }
  (0, _inherits2["default"])(RasterTileLayer, _KeplerLayer);
  return (0, _createClass2["default"])(RasterTileLayer, [{
    key: "type",
    get: function get() {
      return _constants.LAYER_TYPES.rasterTile;
    }
  }, {
    key: "name",
    get: function get() {
      return 'Raster Tile';
    }
  }, {
    key: "layerIcon",
    get: function get() {
      return _rasterTileIcon["default"];
    }
  }, {
    key: "supportedDatasetTypes",
    get: function get() {
      return [_constants.DatasetType.RASTER_TILE];
    }
  }, {
    key: "visualChannels",
    get: function get() {
      var categoricalColorLegends = this.config.visConfig.colorRange.colorLegends;
      if (categoricalColorLegends) {
        return {
          color: _superPropGet(RasterTileLayer, "visualChannels", this, 1).color
        };
      } else {
        return {};
      }
    }
  }, {
    key: "requireData",
    get: function get() {
      return true;
    }
  }, {
    key: "getDefaultLayerConfig",
    value: function getDefaultLayerConfig(props) {
      return _objectSpread(_objectSpread({}, _superPropGet(RasterTileLayer, "getDefaultLayerConfig", this, 3)([props])), {}, {
        colorField: {
          analyzerType: '',
          name: 'Category',
          format: '',
          type: 'string',
          fieldIdx: -1,
          valueAccessor: function valueAccessor() {
            return '';
          },
          displayName: 'Category'
        }
      });
    }
  }, {
    key: "getHoverData",
    value: function getHoverData() {
      return null;
    }

    // We can render without columns, so we redefine this method
  }, {
    key: "shouldRenderLayer",
    value: function shouldRenderLayer() {
      return Boolean(this.type && this.config.isVisible);
    }
  }, {
    key: "formatLayerData",
    value: function formatLayerData(datasets, oldLayerData) {
      var _dataset$metadata;
      var dataId = this.config.dataId;
      if (!(0, _commonUtils.notNullorUndefined)(dataId)) {
        return {};
      }
      var dataset = datasets[dataId];

      // call updateData to updateLayerMeta
      var dataUpdateTriggers = this.getDataUpdateTriggers(dataset);
      var triggerChanged = this.getChangedTriggers(dataUpdateTriggers);
      if (triggerChanged && triggerChanged.getMeta) {
        this.updateLayerMeta(dataset);
      }
      var tileSource = null;
      if (((_dataset$metadata = dataset.metadata) === null || _dataset$metadata === void 0 ? void 0 : _dataset$metadata.pmtilesType) === _constants.PMTilesType.RASTER) {
        var metadataUrl = dataset.metadata.metadataUrl;
        // use the old tile source if it exists and matches the new metadataUrl
        var _ref = oldLayerData || {},
          oldDataset = _ref.dataset,
          oldTileSource = _ref.tileSource;
        if (oldDataset === dataset && (oldTileSource === null || oldTileSource === void 0 ? void 0 : oldTileSource.data) === metadataUrl) {
          tileSource = oldLayerData.tileSource;
        } else {
          tileSource = metadataUrl ? _pmtiles.PMTilesSource.createDataSource(metadataUrl, {}) : null;
        }
      }
      return {
        dataset: dataset,
        tileSource: tileSource
      };
    }
  }, {
    key: "updateLayerMeta",
    value: function updateLayerMeta(dataset) {
      if (dataset.type !== _constants.DatasetType.RASTER_TILE) {
        return;
      }
      var stac = dataset.metadata;
      if (stac.pmtilesType === _constants.PMTilesType.RASTER) {
        return this.updateMeta({
          bounds: stac.bounds
        });
      }
      var bounds = (0, _rasterTileUtils.getSTACBounds)(stac);
      if (bounds) {
        // If a STAC Item (i.e. stac.type === 'Feature'), then set map bounds.
        // But we don't want to set bounds for Landsat or Sentinel because it would zoom out to zoom
        // 0, and we don't have low-zoom tiles.
        if (stac.type === 'Feature') {
          this.updateMeta({
            bounds: bounds
          });
        }
      }
    }

    /**
     * Run when adding a new dataset
     */
  }, {
    key: "setInitialLayerConfig",
    value: function setInitialLayerConfig(dataset) {
      var stac = dataset === null || dataset === void 0 ? void 0 : dataset.metadata;
      if (!stac) {
        return this;
      }
      if (stac.pmtilesType === _constants.PMTilesType.RASTER) {
        return this;
      }

      // When a STAC Collection is added, useStacSearching should be true to prevent a black screen
      this.updateLayerVisConfig({
        useSTACSearching: stac.type === 'Collection'
      });

      // Set singleBandName if there is only one band
      var availableBands = (0, _rasterTileUtils.getEOBands)(stac) || [];
      if ((availableBands === null || availableBands === void 0 ? void 0 : availableBands.length) === 1) {
        this.updateLayerVisConfig({
          singleBandName: availableBands[0].name
        });
      }

      // Change the preset if the default one is not allowed
      var availablePresets = (0, _rasterTileUtils.filterAvailablePresets)(stac, _config.PRESET_OPTIONS);
      if (availablePresets !== null && availablePresets !== void 0 && availablePresets.length && !(availablePresets !== null && availablePresets !== void 0 && availablePresets.includes(this.visConfigSettings.preset.defaultValue))) {
        this.updateLayerVisConfig({
          preset: availablePresets[0]
        });
      }

      // Apply improved image processing props only for non single band modes
      var preset = this.config.visConfig.preset;
      var colorDefaults = _config.DATA_SOURCE_COLOR_DEFAULTS[stac.id];
      if (colorDefaults && preset !== 'singleBand') {
        this.updateLayerVisConfig(colorDefaults);
      }

      /*
      LandSat specifies temporal bounds but the valid data is after end date
      const updatedDates = timeRangeToStacTemporalInterval(
        stac as StacTypes.STACCollection,
        this.config.visConfig.startDate,
        this.config.visConfig.endDate
      );
      this.updateLayerVisConfig(updatedDates);
      */

      return this;
    }

    /**
     * Update zRange of viewport. This is necessary so that tiles in extruded mode are shown properly
     * at high elevations: https://github.com/foursquare/studio-monorepo/pull/1892/files
     * Derived from https://github.com/visgl/deck.gl/blob/8d824a4b836fee3bfebe6fc962e0f03d8c1dbd0d/modules/geo-layers/src/terrain-layer/terrain-layer.js#L173-L196
     *
     * @param tiles Array of tiles in current viewport
     */
  }, {
    key: "onViewportLoad",
    value: function onViewportLoad(tiles) {
      this.updateMinMaxPixelValue(tiles);
      var newZRange = (0, _rasterTileUtils.computeZRange)(tiles);
      if (!newZRange) {
        return;
      }
      var zRange = this.meta.zRange;
      if (!zRange || newZRange[0] < zRange[0] || newZRange[1] > zRange[1]) {
        this.meta.zRange = newZRange;
      }
    }

    /**
     * Update viewport-related minPxelValue and maxPixelValue
     * @param tiles - deck.gl tiles
     */
  }, {
    key: "updateMinMaxPixelValue",
    value: function updateMinMaxPixelValue(tiles) {
      var _getMinMaxFromTile2DH = (0, _rasterTileUtils.getMinMaxFromTile2DHeaders)(tiles),
        _getMinMaxFromTile2DH2 = (0, _slicedToArray2["default"])(_getMinMaxFromTile2DH, 2),
        min = _getMinMaxFromTile2DH2[0],
        max = _getMinMaxFromTile2DH2[1];
      this.minViewportPixelValue = min;
      this.maxViewportPixelValue = max;
    }

    /**
     * Calculate min and max values of input raster band image properties
     * and update `minBandsValue` and `maxBandsValue`
     * @param images - raster band image properties
     * @return [min, max] pixel values for the tile
     */
  }, {
    key: "getMinMaxPixelValues",
    value: function getMinMaxPixelValues(images) {
      var minPixelValue = Infinity;
      var maxPixelValue = -Infinity;
      if (images) {
        var _iterator = _createForOfIteratorHelper(images),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var image = _step.value;
            var _getImageMinMax = (0, _rasterTileUtils.getImageMinMax)(image.data),
              _getImageMinMax2 = (0, _slicedToArray2["default"])(_getImageMinMax, 2),
              min = _getImageMinMax2[0],
              max = _getImageMinMax2[1];
            if (typeof min === 'number') {
              minPixelValue = Math.min(min, minPixelValue);
            }
            if (typeof max === 'number') {
              maxPixelValue = Math.max(max, maxPixelValue);
            }
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      }
      return [minPixelValue, maxPixelValue];
    }

    // generate a deck layer
  }, {
    key: "renderLayer",
    value: function renderLayer(opts) {
      var _data$dataset;
      var data = opts.data;
      if ((data === null || data === void 0 || (_data$dataset = data.dataset) === null || _data$dataset === void 0 || (_data$dataset = _data$dataset.metadata) === null || _data$dataset === void 0 ? void 0 : _data$dataset.pmtilesType) === _constants.PMTilesType.RASTER) {
        return this.renderPMTilesLayer(opts);
      }
      return this.renderStacLayer(opts);
    }
  }, {
    key: "renderStacLayer",
    value: function renderStacLayer(opts) {
      var _data$dataset2,
        _this2 = this;
      var data = opts.data,
        mapState = opts.mapState,
        experimentalContext = opts.experimentalContext;
      var stac = data === null || data === void 0 || (_data$dataset2 = data.dataset) === null || _data$dataset2 === void 0 ? void 0 : _data$dataset2.metadata;

      // If a tabular dataset is loaded, and then the layer type is switched from Point to Raster Tile
      // layer, this `stac` object will exist but will not be raster metadata
      if (!stac || !stac.stac_version) {
        return [];
      }
      var visConfig = this.config.visConfig;
      var _this$getDefaultDeckL = this.getDefaultDeckLayerProps(opts),
        id = _this$getDefaultDeckL.id,
        opacity = _this$getDefaultDeckL.opacity,
        visible = _this$getDefaultDeckL.visible;
      var hasShadowEffect = experimentalContext === null || experimentalContext === void 0 ? void 0 : experimentalContext.hasShadowEffect;
      var preset = visConfig.preset,
        colormapId = visConfig.colormapId,
        linearRescaling = visConfig.linearRescaling,
        linearRescalingFactor = visConfig.linearRescalingFactor,
        nonLinearRescaling = visConfig.nonLinearRescaling,
        gammaContrastFactor = visConfig.gammaContrastFactor,
        sigmoidalContrastFactor = visConfig.sigmoidalContrastFactor,
        sigmoidalBiasFactor = visConfig.sigmoidalBiasFactor,
        saturationValue = visConfig.saturationValue,
        filterEnabled = visConfig.filterEnabled,
        filterRange = visConfig.filterRange,
        useSTACSearching = visConfig.useSTACSearching,
        stacSearchProvider = visConfig.stacSearchProvider,
        startDate = visConfig.startDate,
        endDate = visConfig.endDate,
        _stacQuery = visConfig._stacQuery,
        singleBandName = visConfig.singleBandName,
        categoricalColorMap = visConfig.colorRange.colorMap,
        dynamicColor = visConfig.dynamicColor;
      var shouldLoadTerrain = getShouldLoadTerrain(stac, mapState, visConfig);
      if (new Date(endDate) < new Date(startDate)) {
        return [];
      }
      var bandCombination = _config.PRESET_OPTIONS[preset].bandCombination;
      var singleBand = (0, _rasterTileUtils.getSingleBandPresetOptions)(stac, singleBandName);
      var dataSourceParams = this.getDataSourceParams(stac, preset, {
        singleBand: singleBand
      });
      if (!dataSourceParams) {
        return [];
      }
      var minZoom = dataSourceParams.minZoom,
        maxZoom = dataSourceParams.maxZoom,
        globalBounds = dataSourceParams.globalBounds,
        loadAssetIds = dataSourceParams.loadAssetIds,
        loadBandIndexes = dataSourceParams.loadBandIndexes,
        renderBandIndexes = dataSourceParams.renderBandIndexes,
        dataType = dataSourceParams.dataType,
        dsMinPixelValue = dataSourceParams.minPixelValue,
        dsMaxPixelValue = dataSourceParams.maxPixelValue,
        minCategoricalBandValue = dataSourceParams.minCategoricalBandValue,
        maxCategoricalBandValue = dataSourceParams.maxCategoricalBandValue;
      var minPixelValue = !dynamicColor && Number.isFinite(dsMinPixelValue) ? dsMinPixelValue : this.minViewportPixelValue;
      var maxPixelValue = !dynamicColor && Number.isFinite(dsMaxPixelValue) ? dsMaxPixelValue : this.maxViewportPixelValue;
      var getTileDataCustomProps = {
        stac: stac,
        loadAssetIds: loadAssetIds,
        loadBandIndexes: loadBandIndexes,
        colormapId: colormapId,
        shouldLoadTerrain: shouldLoadTerrain,
        globalBounds: globalBounds,
        useSTACSearching: useSTACSearching,
        stacSearchProvider: stacSearchProvider,
        startDate: startDate,
        endDate: endDate,
        _stacQuery: _stacQuery,
        categoricalColorMap: categoricalColorMap,
        minCategoricalBandValue: minCategoricalBandValue,
        maxCategoricalBandValue: maxCategoricalBandValue
      };
      var tileLayer = new _typed2.TileLayer(_objectSpread(_objectSpread({
        id: id,
        minZoom: minZoom,
        maxZoom: maxZoom,
        tileSize: 512 / devicePixelRatio,
        getTileData: function getTileData(args) {
          return _this2.getTileData(_objectSpread(_objectSpread({}, args), getTileDataCustomProps));
        },
        onViewportLoad: this.onViewportLoad.bind(this),
        // @ts-expect-error - TS doesn't know we'll pass appropriate props here
        renderSubLayers: renderSubLayersStac,
        maxRequests: (0, _rasterTileUtils.getMaxRequests)(stac.rasterTileServerUrls || []),
        // Passing visible on to TileLayer is necessary for split view to work
        visible: visible,
        updateTriggers: {
          getTileData: [shouldLoadTerrain,
          // Colormap has changed
          colormapId].concat((0, _toConsumableArray2["default"])(loadAssetIds), (0, _toConsumableArray2["default"])(loadBandIndexes), [useSTACSearching, stacSearchProvider, startDate, endDate, _stacQuery, categoricalColorMap, minCategoricalBandValue, maxCategoricalBandValue])
        }
      }, shouldLoadTerrain ? {
        zRange: this.meta.zRange || null,
        refinementStrategy: 'no-overlap'
      } : {}), {}, {
        renderBandIndexes: renderBandIndexes,
        opacity: opacity,
        linearRescaling: linearRescaling,
        linearRescalingFactor: linearRescalingFactor,
        nonLinearRescaling: nonLinearRescaling,
        minPixelValue: minPixelValue,
        maxPixelValue: maxPixelValue,
        gammaContrastFactor: gammaContrastFactor,
        sigmoidalContrastFactor: sigmoidalContrastFactor,
        sigmoidalBiasFactor: sigmoidalBiasFactor,
        saturationValue: saturationValue,
        bandCombination: bandCombination,
        filterEnabled: filterEnabled,
        filterRange: filterRange,
        dataType: dataType,
        minCategoricalBandValue: minCategoricalBandValue,
        maxCategoricalBandValue: maxCategoricalBandValue,
        hasCategoricalColorMap: Boolean(categoricalColorMap),
        hasShadowEffect: hasShadowEffect
      }));
      return [tileLayer];
    }
  }, {
    key: "renderPMTilesLayer",
    value: function renderPMTilesLayer(opts) {
      var _data$dataset3,
        _this3 = this;
      var _this$getDefaultDeckL2 = this.getDefaultDeckLayerProps(opts),
        id = _this$getDefaultDeckL2.id,
        opacity = _this$getDefaultDeckL2.opacity,
        visible = _this$getDefaultDeckL2.visible;
      var data = opts.data,
        mapState = opts.mapState;
      var metadata = data === null || data === void 0 || (_data$dataset3 = data.dataset) === null || _data$dataset3 === void 0 ? void 0 : _data$dataset3.metadata;
      var visConfig = this.config.visConfig;
      var tileSource = data.tileSource;
      var showTileBorders = false;
      var minZoom = metadata.minZoom || 0;
      var maxZoom = metadata.maxZoom || 30;
      var shouldLoadTerrain = getShouldLoadTerrain(metadata, mapState, visConfig);
      return [new _typed2.TileLayer(_objectSpread({
        id: id,
        getTileData: function getTileData(args) {
          return _this3.getTileDataPMTiles(_objectSpread(_objectSpread({}, args), {}, {
            shouldLoadTerrain: shouldLoadTerrain,
            metadata: metadata
          }), tileSource);
        },
        // Assume the pmtiles file support HTTP/2, so we aren't limited by the browser to a certain number per domain.
        maxRequests: 20,
        pickable: true,
        autoHighlight: showTileBorders,
        onViewportLoad: this.onViewportLoad.bind(this),
        minZoom: minZoom,
        maxZoom: maxZoom,
        tileSize: 512 / devicePixelRatio,
        zoomOffset: devicePixelRatio === 1 ? -1 : 0,
        // @ts-expect-error - TS doesn't know we'll pass appropriate props here
        renderSubLayers: renderSubLayersPMTiles,
        tileSource: tileSource,
        showTileBorders: showTileBorders,
        visible: visible,
        opacity: opacity,
        updateTriggers: {
          getTileData: [shouldLoadTerrain]
        }
      }, shouldLoadTerrain ? {
        zRange: this.meta.zRange || null,
        refinementStrategy: 'no-overlap'
      } : {}))];
    }
  }, {
    key: "getTileData",
    value: function () {
      var _getTileData = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee(props) {
        var shouldLoadTerrain, globalBounds, _props$bbox, west, south, east, north, zoom, assetRequests, terrain, _yield$Promise$all, _yield$Promise$all2, images, _terrain, _this$getMinMaxPixelV, _this$getMinMaxPixelV2, min, max;
        return _regenerator["default"].wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              shouldLoadTerrain = props.shouldLoadTerrain, globalBounds = props.globalBounds, _props$bbox = props.bbox, west = _props$bbox.west, south = _props$bbox.south, east = _props$bbox.east, north = _props$bbox.north, zoom = props.index.z;
              if (!(globalBounds && !(0, _rasterTileUtils.bboxIntersects)(globalBounds, [west, south, east, north]))) {
                _context.next = 3;
                break;
              }
              return _context.abrupt("return", null);
            case 3:
              _context.next = 5;
              return (0, _image.getSTACImageRequests)(props);
            case 5:
              assetRequests = _context.sent;
              if (assetRequests) {
                _context.next = 14;
                break;
              }
              _context.t0 = shouldLoadTerrain && LOAD_ELEVATION_AFTER_ZOOM < zoom;
              if (!_context.t0) {
                _context.next = 12;
                break;
              }
              _context.next = 11;
              return (0, _image.loadTerrain)({
                boundsForGeometry: [west, north, east, south],
                index: props.index,
                signal: props.signal,
                rasterTileServerUrls: props.stac.rasterTileServerUrls || [],
                rasterServerMaxRetries: props.stac.rasterServerMaxRetries,
                rasterServerRetryDelay: props.stac.rasterServerRetryDelay,
                rasterServerServerErrorsToRetry: props.stac.rasterServerServerErrorsToRetry,
                rasterServerMaxPerServerRequests: props.stac.rasterServerMaxPerServerRequests
              });
            case 11:
              _context.t0 = _context.sent;
            case 12:
              terrain = _context.t0;
              return _context.abrupt("return", _objectSpread({
                images: null
              }, terrain ? {
                terrain: terrain
              } : {}));
            case 14:
              tilesBeingLoaded++;

              // Wrap loading images into a try/catch because tiles that are only briefly in view will be
              // aborted. The `AbortController.abort()` creates a DOMException error.
              // Note that since loading is async, try/catch will only work when awaited inside the try block
              _context.prev = 15;
              _context.next = 18;
              return Promise.all([(0, _image.loadImages)(assetRequests, props.colormapId, {
                colorMap: props.categoricalColorMap,
                minValue: props.minCategoricalBandValue,
                maxValue: props.maxCategoricalBandValue
              }), shouldLoadTerrain && LOAD_ELEVATION_AFTER_ZOOM < zoom ? (0, _image.loadTerrain)({
                boundsForGeometry: [west, north, east, south],
                index: props.index,
                signal: props.signal,
                rasterTileServerUrls: props.stac.rasterTileServerUrls || [],
                rasterServerMaxRetries: props.stac.rasterServerMaxRetries,
                rasterServerRetryDelay: props.stac.rasterServerRetryDelay,
                rasterServerServerErrorsToRetry: props.stac.rasterServerServerErrorsToRetry,
                rasterServerMaxPerServerRequests: props.stac.rasterServerMaxPerServerRequests
              }) : null]);
            case 18:
              _yield$Promise$all = _context.sent;
              _yield$Promise$all2 = (0, _slicedToArray2["default"])(_yield$Promise$all, 2);
              images = _yield$Promise$all2[0];
              _terrain = _yield$Promise$all2[1];
              _this$getMinMaxPixelV = this.getMinMaxPixelValues(images.imageBands), _this$getMinMaxPixelV2 = (0, _slicedToArray2["default"])(_this$getMinMaxPixelV, 2), min = _this$getMinMaxPixelV2[0], max = _this$getMinMaxPixelV2[1];
              tilesBeingLoaded--;

              // Add terrain data only if we requested it above
              return _context.abrupt("return", _objectSpread(_objectSpread({
                images: images
              }, _terrain ? {
                terrain: _terrain
              } : {}), {}, {
                minPixelValue: min,
                maxPixelValue: max
              }));
            case 27:
              _context.prev = 27;
              _context.t1 = _context["catch"](15);
              tilesBeingLoaded--;
              if (!(_context.t1.name === 'AbortError')) {
                _context.next = 32;
                break;
              }
              return _context.abrupt("return", null);
            case 32:
              throw _context.t1;
            case 33:
            case "end":
              return _context.stop();
          }
        }, _callee, this, [[15, 27]]);
      }));
      function getTileData(_x) {
        return _getTileData.apply(this, arguments);
      }
      return getTileData;
    }()
  }, {
    key: "getTileDataPMTiles",
    value: function () {
      var _getTileDataPMTiles = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee2(props, tileSource) {
        var shouldLoadTerrain, globalBounds, _props$bbox2, west, south, east, north, zoom, metadata, _yield$Promise$all3, _yield$Promise$all4, image, terrain, minPixelValue, maxPixelValue, _this$getMinMaxPixelV3, _this$getMinMaxPixelV4, min, max;
        return _regenerator["default"].wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              shouldLoadTerrain = props.shouldLoadTerrain, globalBounds = props.globalBounds, _props$bbox2 = props.bbox, west = _props$bbox2.west, south = _props$bbox2.south, east = _props$bbox2.east, north = _props$bbox2.north, zoom = props.index.z, metadata = props.metadata;
              if (!(globalBounds && !(0, _rasterTileUtils.bboxIntersects)(globalBounds, [west, south, east, north]))) {
                _context2.next = 3;
                break;
              }
              return _context2.abrupt("return", null);
            case 3:
              tilesBeingLoaded++;
              _context2.prev = 4;
              _context2.next = 7;
              return Promise.all([tileSource.getTileData(props)]);
            case 7:
              _yield$Promise$all3 = _context2.sent;
              _yield$Promise$all4 = (0, _slicedToArray2["default"])(_yield$Promise$all3, 1);
              image = _yield$Promise$all4[0];
              if (!(image && shouldLoadTerrain && LOAD_ELEVATION_AFTER_ZOOM < zoom)) {
                _context2.next = 16;
                break;
              }
              _context2.next = 13;
              return (0, _image.loadTerrain)({
                boundsForGeometry: [west, north, east, south],
                index: props.index,
                signal: props.signal,
                rasterTileServerUrls: metadata.rasterTileServerUrls,
                rasterServerMaxRetries: metadata.rasterServerMaxRetries,
                rasterServerRetryDelay: metadata.rasterServerRetryDelay,
                rasterServerServerErrorsToRetry: metadata.rasterServerServerErrorsToRetry,
                rasterServerMaxPerServerRequests: metadata.rasterServerMaxPerServerRequests
              });
            case 13:
              _context2.t0 = _context2.sent;
              _context2.next = 17;
              break;
            case 16:
              _context2.t0 = null;
            case 17:
              terrain = _context2.t0;
              minPixelValue = null;
              maxPixelValue = null;
              if (image) {
                _this$getMinMaxPixelV3 = this.getMinMaxPixelValues([{
                  data: image
                }]), _this$getMinMaxPixelV4 = (0, _slicedToArray2["default"])(_this$getMinMaxPixelV3, 2), min = _this$getMinMaxPixelV4[0], max = _this$getMinMaxPixelV4[1];
                minPixelValue = min;
                maxPixelValue = max;
              }
              tilesBeingLoaded--;

              // Add terrain data only if we requested it above
              return _context2.abrupt("return", _objectSpread({
                image: image,
                minPixelValue: minPixelValue,
                maxPixelValue: maxPixelValue
              }, terrain ? {
                terrain: terrain
              } : {}));
            case 25:
              _context2.prev = 25;
              _context2.t1 = _context2["catch"](4);
              tilesBeingLoaded--;
              if (!(_context2.t1.name === 'AbortError')) {
                _context2.next = 30;
                break;
              }
              return _context2.abrupt("return", null);
            case 30:
              throw _context2.t1;
            case 31:
            case "end":
              return _context2.stop();
          }
        }, _callee2, this, [[4, 25]]);
      }));
      function getTileDataPMTiles(_x2, _x3) {
        return _getTileDataPMTiles.apply(this, arguments);
      }
      return getTileDataPMTiles;
    }()
  }], [{
    key: "findDefaultLayerProps",
    value: function findDefaultLayerProps(dataset) {
      if (dataset.type !== _constants.DatasetType.RASTER_TILE) {
        return {
          props: []
        };
      }
      var newLayerProp = {
        dataId: dataset.id,
        label: dataset.label,
        isVisible: true
      };
      return {
        props: [newLayerProp]
      };
    }
  }]);
}(_baseLayer["default"]);
function renderSubLayersStac(props) {
  var tile = props.tile,
    data = props.data,
    globalMinPixelValue = props.minPixelValue,
    globalMaxPixelValue = props.maxPixelValue;
  var bbox = tile.bbox;
  var west = bbox.west,
    south = bbox.south,
    east = bbox.east,
    north = bbox.north;
  if (!data) {
    return [];
  }
  var images = data.images,
    terrain = data.terrain,
    tileMinPixelValue = data.minPixelValue,
    tileMaxPixelValue = data.maxPixelValue;
  if (!images || Array.isArray(images) && images.length === 0) {
    return [];
  }
  var minPixelValue = Number.isFinite(globalMinPixelValue) ? globalMinPixelValue : tileMinPixelValue;
  var maxPixelValue = Number.isFinite(globalMaxPixelValue) ? globalMaxPixelValue : tileMaxPixelValue;
  if (typeof minPixelValue !== 'number' || typeof maxPixelValue !== 'number') {
    return [];
  }
  var _getModules = (0, _gpuUtils.getModules)({
      images: images,
      props: _objectSpread(_objectSpread({}, props), {}, {
        minPixelValue: minPixelValue,
        maxPixelValue: maxPixelValue
      })
    }),
    modules = _getModules.modules,
    moduleProps = _getModules.moduleProps;
  var idSuffix = props.hasShadowEffect ? 'shadow' : '';
  return terrain ? new _deckglLayers.RasterMeshLayer(props, {
    id: "raster-3d-layer-".concat(props.id, "-").concat(idSuffix),
    // Dummy data
    data: [1],
    mesh: terrain,
    images: images,
    modules: modules,
    moduleProps: moduleProps,
    getPolygonOffset: null,
    coordinateSystem: _typed.COORDINATE_SYSTEM.LNGLAT,
    // Color to use if surfaceImage is unavailable
    getColor: [255, 255, 255]
    // material: false
  }) : new _deckglLayers.RasterLayer(props, {
    id: "raster-2d-layer-".concat(props.id, "-").concat(idSuffix),
    images: images,
    modules: modules,
    moduleProps: moduleProps,
    bounds: [west, south, east, north],
    _imageCoordinateSystem: _typed.COORDINATE_SYSTEM.CARTESIAN
  });
}
function renderSubLayersPMTiles(props) {
  var _props$data;
  var tileSource = props.tileSource,
    showTileBorders = props.showTileBorders,
    minZoom = props.minZoom,
    maxZoom = props.maxZoom,
    _props$tile = props.tile,
    zoom = _props$tile.index.z,
    _props$tile$bbox = _props$tile.bbox,
    west = _props$tile$bbox.west,
    south = _props$tile$bbox.south,
    east = _props$tile$bbox.east,
    north = _props$tile$bbox.north;
  var layers = [];
  if ((_props$data = props.data) !== null && _props$data !== void 0 && _props$data.image) {
    switch (tileSource.mimeType) {
      case 'image/png':
      case 'image/jpeg':
      case 'image/webp':
      case 'image/avif':
        layers.push(getRasterLayerPMTiles(props));
        break;
      default:
        break;
    }
  }

  // Debug tile borders
  var borderColor = zoom <= minZoom || zoom >= maxZoom ? [255, 0, 0, 255] : [0, 0, 255, 255];
  if (showTileBorders) {
    layers.push(new _typed3.PathLayer({
      id: "".concat(props.id, "-border"),
      data: [[[west, north], [west, south], [east, south], [east, north], [west, north]]],
      getPath: function getPath(d) {
        return d;
      },
      getColor: borderColor,
      widthMinPixels: 4
    }));
  }
  return layers;
}
function getRasterLayerPMTiles(props) {
  var tile = props.tile,
    data = props.data;
  var bbox = tile.bbox;
  var west = bbox.west,
    south = bbox.south,
    east = bbox.east,
    north = bbox.north;
  if (!(data !== null && data !== void 0 && data.image)) {
    return [];
  }
  var images = {
    imageRgba: {
      data: data.image
    }
  };
  var terrain = data.terrain;
  var _getModules2 = (0, _gpuUtils.getModules)({
      images: images
    }),
    modules = _getModules2.modules,
    moduleProps = _getModules2.moduleProps;
  return terrain ? new _deckglLayers.RasterMeshLayer(props, {
    id: "raster-3d-layer-".concat(props.id),
    // Dummy data
    data: [1],
    mesh: terrain,
    images: images,
    modules: modules,
    moduleProps: moduleProps,
    getPolygonOffset: null,
    coordinateSystem: _typed.COORDINATE_SYSTEM.LNGLAT,
    // Color to use if surfaceImage is unavailable
    getColor: [255, 255, 255]
    // material: false
  }) : new _deckglLayers.RasterLayer(props, {
    id: "raster-2d-layer-".concat(props.id),
    data: null,
    images: images,
    modules: modules,
    moduleProps: moduleProps,
    bounds: [west, south, east, north],
    _imageCoordinateSystem: _typed.COORDINATE_SYSTEM.CARTESIAN
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdHlwZWQiLCJyZXF1aXJlIiwiX3R5cGVkMiIsIl9wbXRpbGVzIiwiX21lbW9pemUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3R5cGVkMyIsIl9jb25zdGFudHMiLCJfZGVja2dsTGF5ZXJzIiwiX2NvbW1vblV0aWxzIiwiX3V0aWxzIiwiX2NvbmZpZyIsIl9ncHVVdGlscyIsIl9pbWFnZSIsIl9yYXN0ZXJUaWxlSWNvbiIsIl9yYXN0ZXJUaWxlVXRpbHMiLCJfYmFzZUxheWVyIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJyIiwiZSIsInQiLCJTeW1ib2wiLCJpdGVyYXRvciIsIkFycmF5IiwiaXNBcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsImxlbmd0aCIsIl9uIiwiRiIsInMiLCJuIiwiZG9uZSIsInZhbHVlIiwiZiIsIlR5cGVFcnJvciIsIm8iLCJhIiwidSIsImNhbGwiLCJuZXh0IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJ0b1N0cmluZyIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJvd25LZXlzIiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImZpbHRlciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiX2NhbGxTdXBlciIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsIkJvb2xlYW4iLCJwcm90b3R5cGUiLCJ2YWx1ZU9mIiwiX3N1cGVyUHJvcEdldCIsInAiLCJfZ2V0MiIsImRldmljZVBpeGVsUmF0aW8iLCJNYXRoIiwibWluIiwid2luZG93IiwidGlsZXNCZWluZ0xvYWRlZCIsImdldE51bVJhc3RlclRpbGVzQmVpbmdMb2FkZWQiLCJleHBvcnRzIiwiTE9BRF9FTEVWQVRJT05fQUZURVJfWk9PTSIsImdldFNob3VsZExvYWRUZXJyYWluIiwic3RhYyIsIm1hcFN0YXRlIiwidmlzQ29uZmlnIiwiX3N0YWMkcmFzdGVyVGlsZVNlcnZlIiwiX3N0YWMkcmFzdGVyU2VydmVyU3VwIiwicmFzdGVyVGlsZVNlcnZlclVybHMiLCJlbmFibGVUZXJyYWluIiwiZHJhZ1JvdGF0ZSIsImVuYWJsZVRlcnJhaW5Ub3BWaWV3IiwicmFzdGVyU2VydmVyU3VwcG9ydHNFbGV2YXRpb24iLCJnZXRBcHBsaWNhdGlvbkNvbmZpZyIsIlJhc3RlclRpbGVMYXllciIsIl9LZXBsZXJMYXllciIsInByb3BzIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiSW5maW5pdHkiLCJyZWdpc3RlclZpc0NvbmZpZyIsInJhc3RlclZpc0NvbmZpZ3MiLCJyZXNvbHZlciIsInByZXNldCIsInByZXNldE9wdGlvbnMiLCJfcHJlc2V0T3B0aW9ucyRzaW5nbGUiLCJfcHJlc2V0T3B0aW9ucyRzaW5nbGUyIiwiY29uY2F0IiwiaWQiLCJjb2xsZWN0aW9uIiwic2luZ2xlQmFuZCIsImFzc2V0SWQiLCJiYW5kSW5kZXgiLCJnZXREYXRhU291cmNlUGFyYW1zIiwibWVtb2l6ZSIsIm1ldGEiLCJ6UmFuZ2UiLCJfaW5oZXJpdHMyIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsImdldCIsIkxBWUVSX1RZUEVTIiwicmFzdGVyVGlsZSIsIlJhc3Rlckljb24iLCJEYXRhc2V0VHlwZSIsIlJBU1RFUl9USUxFIiwiY2F0ZWdvcmljYWxDb2xvckxlZ2VuZHMiLCJjb25maWciLCJjb2xvclJhbmdlIiwiY29sb3JMZWdlbmRzIiwiY29sb3IiLCJnZXREZWZhdWx0TGF5ZXJDb25maWciLCJjb2xvckZpZWxkIiwiYW5hbHl6ZXJUeXBlIiwiZm9ybWF0IiwidHlwZSIsImZpZWxkSWR4IiwidmFsdWVBY2Nlc3NvciIsImRpc3BsYXlOYW1lIiwiZ2V0SG92ZXJEYXRhIiwic2hvdWxkUmVuZGVyTGF5ZXIiLCJpc1Zpc2libGUiLCJmb3JtYXRMYXllckRhdGEiLCJkYXRhc2V0cyIsIm9sZExheWVyRGF0YSIsIl9kYXRhc2V0JG1ldGFkYXRhIiwiZGF0YUlkIiwibm90TnVsbG9yVW5kZWZpbmVkIiwiZGF0YXNldCIsImRhdGFVcGRhdGVUcmlnZ2VycyIsImdldERhdGFVcGRhdGVUcmlnZ2VycyIsInRyaWdnZXJDaGFuZ2VkIiwiZ2V0Q2hhbmdlZFRyaWdnZXJzIiwiZ2V0TWV0YSIsInVwZGF0ZUxheWVyTWV0YSIsInRpbGVTb3VyY2UiLCJtZXRhZGF0YSIsInBtdGlsZXNUeXBlIiwiUE1UaWxlc1R5cGUiLCJSQVNURVIiLCJtZXRhZGF0YVVybCIsIl9yZWYiLCJvbGREYXRhc2V0Iiwib2xkVGlsZVNvdXJjZSIsImRhdGEiLCJQTVRpbGVzU291cmNlIiwiY3JlYXRlRGF0YVNvdXJjZSIsInVwZGF0ZU1ldGEiLCJib3VuZHMiLCJnZXRTVEFDQm91bmRzIiwic2V0SW5pdGlhbExheWVyQ29uZmlnIiwidXBkYXRlTGF5ZXJWaXNDb25maWciLCJ1c2VTVEFDU2VhcmNoaW5nIiwiYXZhaWxhYmxlQmFuZHMiLCJnZXRFT0JhbmRzIiwic2luZ2xlQmFuZE5hbWUiLCJhdmFpbGFibGVQcmVzZXRzIiwiZmlsdGVyQXZhaWxhYmxlUHJlc2V0cyIsIlBSRVNFVF9PUFRJT05TIiwiaW5jbHVkZXMiLCJ2aXNDb25maWdTZXR0aW5ncyIsImRlZmF1bHRWYWx1ZSIsImNvbG9yRGVmYXVsdHMiLCJEQVRBX1NPVVJDRV9DT0xPUl9ERUZBVUxUUyIsIm9uVmlld3BvcnRMb2FkIiwidGlsZXMiLCJ1cGRhdGVNaW5NYXhQaXhlbFZhbHVlIiwibmV3WlJhbmdlIiwiY29tcHV0ZVpSYW5nZSIsIl9nZXRNaW5NYXhGcm9tVGlsZTJESCIsImdldE1pbk1heEZyb21UaWxlMkRIZWFkZXJzIiwiX2dldE1pbk1heEZyb21UaWxlMkRIMiIsIl9zbGljZWRUb0FycmF5MiIsIm1heCIsIm1pblZpZXdwb3J0UGl4ZWxWYWx1ZSIsIm1heFZpZXdwb3J0UGl4ZWxWYWx1ZSIsImdldE1pbk1heFBpeGVsVmFsdWVzIiwiaW1hZ2VzIiwibWluUGl4ZWxWYWx1ZSIsIm1heFBpeGVsVmFsdWUiLCJfaXRlcmF0b3IiLCJfc3RlcCIsImltYWdlIiwiX2dldEltYWdlTWluTWF4IiwiZ2V0SW1hZ2VNaW5NYXgiLCJfZ2V0SW1hZ2VNaW5NYXgyIiwiZXJyIiwicmVuZGVyTGF5ZXIiLCJvcHRzIiwiX2RhdGEkZGF0YXNldCIsInJlbmRlclBNVGlsZXNMYXllciIsInJlbmRlclN0YWNMYXllciIsIl9kYXRhJGRhdGFzZXQyIiwiX3RoaXMyIiwiZXhwZXJpbWVudGFsQ29udGV4dCIsInN0YWNfdmVyc2lvbiIsIl90aGlzJGdldERlZmF1bHREZWNrTCIsImdldERlZmF1bHREZWNrTGF5ZXJQcm9wcyIsIm9wYWNpdHkiLCJ2aXNpYmxlIiwiaGFzU2hhZG93RWZmZWN0IiwiY29sb3JtYXBJZCIsImxpbmVhclJlc2NhbGluZyIsImxpbmVhclJlc2NhbGluZ0ZhY3RvciIsIm5vbkxpbmVhclJlc2NhbGluZyIsImdhbW1hQ29udHJhc3RGYWN0b3IiLCJzaWdtb2lkYWxDb250cmFzdEZhY3RvciIsInNpZ21vaWRhbEJpYXNGYWN0b3IiLCJzYXR1cmF0aW9uVmFsdWUiLCJmaWx0ZXJFbmFibGVkIiwiZmlsdGVyUmFuZ2UiLCJzdGFjU2VhcmNoUHJvdmlkZXIiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiX3N0YWNRdWVyeSIsImNhdGVnb3JpY2FsQ29sb3JNYXAiLCJjb2xvck1hcCIsImR5bmFtaWNDb2xvciIsInNob3VsZExvYWRUZXJyYWluIiwiRGF0ZSIsImJhbmRDb21iaW5hdGlvbiIsImdldFNpbmdsZUJhbmRQcmVzZXRPcHRpb25zIiwiZGF0YVNvdXJjZVBhcmFtcyIsIm1pblpvb20iLCJtYXhab29tIiwiZ2xvYmFsQm91bmRzIiwibG9hZEFzc2V0SWRzIiwibG9hZEJhbmRJbmRleGVzIiwicmVuZGVyQmFuZEluZGV4ZXMiLCJkYXRhVHlwZSIsImRzTWluUGl4ZWxWYWx1ZSIsImRzTWF4UGl4ZWxWYWx1ZSIsIm1pbkNhdGVnb3JpY2FsQmFuZFZhbHVlIiwibWF4Q2F0ZWdvcmljYWxCYW5kVmFsdWUiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImdldFRpbGVEYXRhQ3VzdG9tUHJvcHMiLCJ0aWxlTGF5ZXIiLCJUaWxlTGF5ZXIiLCJ0aWxlU2l6ZSIsImdldFRpbGVEYXRhIiwiYXJncyIsImJpbmQiLCJyZW5kZXJTdWJMYXllcnMiLCJyZW5kZXJTdWJMYXllcnNTdGFjIiwibWF4UmVxdWVzdHMiLCJnZXRNYXhSZXF1ZXN0cyIsInVwZGF0ZVRyaWdnZXJzIiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsInJlZmluZW1lbnRTdHJhdGVneSIsImhhc0NhdGVnb3JpY2FsQ29sb3JNYXAiLCJfZGF0YSRkYXRhc2V0MyIsIl90aGlzMyIsIl90aGlzJGdldERlZmF1bHREZWNrTDIiLCJzaG93VGlsZUJvcmRlcnMiLCJnZXRUaWxlRGF0YVBNVGlsZXMiLCJwaWNrYWJsZSIsImF1dG9IaWdobGlnaHQiLCJ6b29tT2Zmc2V0IiwicmVuZGVyU3ViTGF5ZXJzUE1UaWxlcyIsIl9nZXRUaWxlRGF0YSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwiX3Byb3BzJGJib3giLCJ3ZXN0Iiwic291dGgiLCJlYXN0Iiwibm9ydGgiLCJ6b29tIiwiYXNzZXRSZXF1ZXN0cyIsInRlcnJhaW4iLCJfeWllbGQkUHJvbWlzZSRhbGwiLCJfeWllbGQkUHJvbWlzZSRhbGwyIiwiX3RlcnJhaW4iLCJfdGhpcyRnZXRNaW5NYXhQaXhlbFYiLCJfdGhpcyRnZXRNaW5NYXhQaXhlbFYyIiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwiYmJveCIsImluZGV4IiwieiIsImJib3hJbnRlcnNlY3RzIiwiYWJydXB0IiwiZ2V0U1RBQ0ltYWdlUmVxdWVzdHMiLCJzZW50IiwidDAiLCJsb2FkVGVycmFpbiIsImJvdW5kc0Zvckdlb21ldHJ5Iiwic2lnbmFsIiwicmFzdGVyU2VydmVyTWF4UmV0cmllcyIsInJhc3RlclNlcnZlclJldHJ5RGVsYXkiLCJyYXN0ZXJTZXJ2ZXJTZXJ2ZXJFcnJvcnNUb1JldHJ5IiwicmFzdGVyU2VydmVyTWF4UGVyU2VydmVyUmVxdWVzdHMiLCJQcm9taXNlIiwiYWxsIiwibG9hZEltYWdlcyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJpbWFnZUJhbmRzIiwidDEiLCJzdG9wIiwiX3giLCJfZ2V0VGlsZURhdGFQTVRpbGVzIiwiX2NhbGxlZTIiLCJfcHJvcHMkYmJveDIiLCJfeWllbGQkUHJvbWlzZSRhbGwzIiwiX3lpZWxkJFByb21pc2UkYWxsNCIsIl90aGlzJGdldE1pbk1heFBpeGVsVjMiLCJfdGhpcyRnZXRNaW5NYXhQaXhlbFY0IiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiX3gyIiwiX3gzIiwiZmluZERlZmF1bHRMYXllclByb3BzIiwibmV3TGF5ZXJQcm9wIiwibGFiZWwiLCJLZXBsZXJMYXllciIsInRpbGUiLCJnbG9iYWxNaW5QaXhlbFZhbHVlIiwiZ2xvYmFsTWF4UGl4ZWxWYWx1ZSIsInRpbGVNaW5QaXhlbFZhbHVlIiwidGlsZU1heFBpeGVsVmFsdWUiLCJfZ2V0TW9kdWxlcyIsImdldE1vZHVsZXMiLCJtb2R1bGVzIiwibW9kdWxlUHJvcHMiLCJpZFN1ZmZpeCIsIlJhc3Rlck1lc2hMYXllciIsIm1lc2giLCJnZXRQb2x5Z29uT2Zmc2V0IiwiY29vcmRpbmF0ZVN5c3RlbSIsIkNPT1JESU5BVEVfU1lTVEVNIiwiTE5HTEFUIiwiZ2V0Q29sb3IiLCJSYXN0ZXJMYXllciIsIl9pbWFnZUNvb3JkaW5hdGVTeXN0ZW0iLCJDQVJURVNJQU4iLCJfcHJvcHMkZGF0YSIsIl9wcm9wcyR0aWxlIiwiX3Byb3BzJHRpbGUkYmJveCIsImxheWVycyIsIm1pbWVUeXBlIiwiZ2V0UmFzdGVyTGF5ZXJQTVRpbGVzIiwiYm9yZGVyQ29sb3IiLCJQYXRoTGF5ZXIiLCJnZXRQYXRoIiwiZCIsIndpZHRoTWluUGl4ZWxzIiwiaW1hZ2VSZ2JhIiwiX2dldE1vZHVsZXMyIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3Jhc3Rlci10aWxlL3Jhc3Rlci10aWxlLWxheWVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCBjb250cmlidXRvcnMgdG8gdGhlIGtlcGxlci5nbCBwcm9qZWN0XG5cbmltcG9ydCB7Q09PUkRJTkFURV9TWVNURU0sIExheWVyIGFzIERlY2tMYXllcn0gZnJvbSAnQGRlY2suZ2wvY29yZS90eXBlZCc7XG5pbXBvcnQge1RpbGVMYXllciwgR2VvQm91bmRpbmdCb3h9IGZyb20gJ0BkZWNrLmdsL2dlby1sYXllcnMvdHlwZWQnO1xuaW1wb3J0IHtQTVRpbGVzU291cmNlLCBQTVRpbGVzVGlsZVNvdXJjZX0gZnJvbSAnQGxvYWRlcnMuZ2wvcG10aWxlcyc7XG5pbXBvcnQge1RleHR1cmUyRFByb3BzfSBmcm9tICdAbHVtYS5nbC93ZWJnbCc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICdsb2Rhc2gvbWVtb2l6ZSc7XG5cbmltcG9ydCB7UGF0aExheWVyfSBmcm9tICdAZGVjay5nbC9sYXllcnMvdHlwZWQnO1xuaW1wb3J0IHtEYXRhc2V0VHlwZSwgUE1UaWxlc1R5cGUsIExBWUVSX1RZUEVTfSBmcm9tICdAa2VwbGVyLmdsL2NvbnN0YW50cyc7XG5pbXBvcnQge1Jhc3RlckxheWVyLCBSYXN0ZXJNZXNoTGF5ZXJ9IGZyb20gJ0BrZXBsZXIuZ2wvZGVja2dsLWxheWVycyc7XG5pbXBvcnQge1xuICBMYXllckJhc2VDb25maWcsXG4gIExheWVyQ29sb3JDb25maWcsXG4gIExheWVySGVpZ2h0Q29uZmlnLFxuICBWaXN1YWxDaGFubmVsLFxuICBWaXNDb25maWdDb2xvclJhbmdlLFxuICBWaXNDb25maWdTZWxlY3Rpb24sXG4gIFZpc0NvbmZpZ0Jvb2xlYW4sXG4gIFZpc0NvbmZpZ0lucHV0LFxuICBWaXNDb25maWdSYW5nZSxcbiAgVmlzQ29uZmlnTnVtYmVyXG59IGZyb20gJ0BrZXBsZXIuZ2wvdHlwZXMnO1xuXG5pbXBvcnQge25vdE51bGxvclVuZGVmaW5lZH0gZnJvbSAnQGtlcGxlci5nbC9jb21tb24tdXRpbHMnO1xuaW1wb3J0IHtEYXRhc2V0cywgS2VwbGVyVGFibGUgYXMgS2VwbGVyRGF0YXNldCwgVmVjdG9yVGlsZU1ldGFkYXRhfSBmcm9tICdAa2VwbGVyLmdsL3RhYmxlJztcbmltcG9ydCB7Z2V0QXBwbGljYXRpb25Db25maWd9IGZyb20gJ0BrZXBsZXIuZ2wvdXRpbHMnO1xuXG5pbXBvcnQge3Jhc3RlclZpc0NvbmZpZ3MsIFBSRVNFVF9PUFRJT05TLCBEQVRBX1NPVVJDRV9DT0xPUl9ERUZBVUxUU30gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHtnZXRNb2R1bGVzfSBmcm9tICcuL2dwdS11dGlscyc7XG5pbXBvcnQge2dldFNUQUNJbWFnZVJlcXVlc3RzLCBsb2FkSW1hZ2VzLCBsb2FkVGVycmFpbn0gZnJvbSAnLi9pbWFnZSc7XG5pbXBvcnQgUmFzdGVySWNvbiBmcm9tICcuL3Jhc3Rlci10aWxlLWljb24nO1xuaW1wb3J0IHtcbiAgZ2V0RGF0YVNvdXJjZVBhcmFtcyxcbiAgZ2V0TWF4UmVxdWVzdHMsXG4gIGJib3hJbnRlcnNlY3RzLFxuICBjb21wdXRlWlJhbmdlLFxuICBnZXRTVEFDQm91bmRzLFxuICBnZXRFT0JhbmRzLFxuICBmaWx0ZXJBdmFpbGFibGVQcmVzZXRzLFxuICBnZXRTaW5nbGVCYW5kUHJlc2V0T3B0aW9ucyxcbiAgZ2V0SW1hZ2VNaW5NYXgsXG4gIGdldE1pbk1heEZyb21UaWxlMkRIZWFkZXJzXG59IGZyb20gJy4vcmFzdGVyLXRpbGUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgR2V0VGlsZURhdGFDdXN0b21Qcm9wcyxcbiAgR2V0VGlsZURhdGFEZWZhdWx0UHJvcHMsXG4gIEdldFRpbGVEYXRhUHJvcHMsXG4gIFJlbmRlclN1YkxheWVyc1Byb3BzLFxuICBHZXRUaWxlRGF0YU91dHB1dCxcbiAgRGF0YVNvdXJjZVBhcmFtcyxcbiAgS2VwbGVyUmFzdGVyRGF0YXNldCxcbiAgVGlsZTJESGVhZGVyLFxuICBQcmVzZXRPcHRpb24sXG4gIENvbXBsZXRlU1RBQ09iamVjdFxufSBmcm9tICcuL3R5cGVzJztcblxuaW1wb3J0IHtGaW5kRGVmYXVsdExheWVyUHJvcHNSZXR1cm5WYWx1ZX0gZnJvbSAnLi4vbGF5ZXItdXRpbHMnO1xuaW1wb3J0IHtkZWZhdWx0IGFzIEtlcGxlckxheWVyLCBMYXllckJhc2VDb25maWdQYXJ0aWFsfSBmcm9tICcuLi9iYXNlLWxheWVyJztcblxuLy8gQWRqdXN0IHRpbGVTaXplIHRvIGRldmljZVBpeGVsUmF0aW8sIGJ1dCBub3QgaGlnaGVyIHRoYW4gMiB0byByZWR1Y2UgcmVxdWVzdHMgdG8gc2VydmVyXG5jb25zdCBkZXZpY2VQaXhlbFJhdGlvOiBudW1iZXIgPSBNYXRoLm1pbihcbiAgMixcbiAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSB8fCAxXG4pO1xuXG4vLyBHbG9iYWwgY291bnRlciB0aGF0IHJlcHJlc2VudHMgdGhlIG51bWJlciBvZiB0aWxlcyBjdXJyZW50bHkgYmVpbmcgbG9hZGVkIGFjcm9zcyBhbGwgdGhlIHJhc3RlciB0aWxlIGxheWVyc1xubGV0IHRpbGVzQmVpbmdMb2FkZWQgPSAwO1xuXG4vLyBUaGlzIGlzIGEgdGVtcCBzb2x1dGlvbiB0byB0cmFjayBsb2FkaW5nXG5leHBvcnQgY29uc3QgZ2V0TnVtUmFzdGVyVGlsZXNCZWluZ0xvYWRlZCA9ICgpID0+IHtcbiAgcmV0dXJuIHRpbGVzQmVpbmdMb2FkZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgTE9BRF9FTEVWQVRJT05fQUZURVJfWk9PTSA9IDguOTtcblxuY29uc3QgZ2V0U2hvdWxkTG9hZFRlcnJhaW4gPSAoc3RhYywgbWFwU3RhdGUsIHZpc0NvbmZpZykgPT4ge1xuICByZXR1cm4gQm9vbGVhbihcbiAgICAvLyB3ZSBuZWVkIGEgcmFzdGVyIHRpbGUgc2VydmVyIGZvciBlbGV2YXRpb25zIGV2ZW4gd2hlbiB3ZSB1c2VyIFBNVGlsZXNcbiAgICBzdGFjLnJhc3RlclRpbGVTZXJ2ZXJVcmxzPy5sZW5ndGggPiAwICYmXG4gICAgICAvLyBjaGVjayB0aGUgc3dpdGNoIGZyb20gdGhlIGxheWVyIGNvbmZpZ3VyYXRvclxuICAgICAgdmlzQ29uZmlnLmVuYWJsZVRlcnJhaW4gJiZcbiAgICAgIC8vIGRpc2FibGVkIGluIFRvcCB2aWV3IGJ5IGRlZmF1bHRcbiAgICAgIChtYXBTdGF0ZS5kcmFnUm90YXRlIHx8IHZpc0NvbmZpZy5lbmFibGVUZXJyYWluVG9wVmlldykgJiZcbiAgICAgIChzdGFjLnJhc3RlclNlcnZlclN1cHBvcnRzRWxldmF0aW9uID8/IGdldEFwcGxpY2F0aW9uQ29uZmlnKCkucmFzdGVyU2VydmVyU3VwcG9ydHNFbGV2YXRpb24pXG4gICk7XG59O1xuXG5leHBvcnQgdHlwZSBSYXN0ZXJUaWxlTGF5ZXJWaXNDb25maWdDb21tb25TZXR0aW5ncyA9IHtcbiAgb3BhY2l0eTogVmlzQ29uZmlnTnVtYmVyO1xuICBlbmFibGVUZXJyYWluOiBWaXNDb25maWdCb29sZWFuO1xuICBlbmFibGVUZXJyYWluVG9wVmlldzogVmlzQ29uZmlnQm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFJhc3RlclRpbGVMYXllclZpc0NvbmZpZ1NldHRpbmdzID0gUmFzdGVyVGlsZUxheWVyVmlzQ29uZmlnQ29tbW9uU2V0dGluZ3MgJiB7XG4gIHByZXNldDogVmlzQ29uZmlnU2VsZWN0aW9uO1xuICB1c2VTVEFDU2VhcmNoaW5nOiBWaXNDb25maWdCb29sZWFuO1xuICBzdGFjU2VhcmNoUHJvdmlkZXI6IFZpc0NvbmZpZ1NlbGVjdGlvbjtcbiAgc3RhcnREYXRlOiBWaXNDb25maWdJbnB1dDtcbiAgZW5kRGF0ZTogVmlzQ29uZmlnSW5wdXQ7XG4gIGR5bmFtaWNDb2xvcjogVmlzQ29uZmlnQm9vbGVhbjtcbiAgY29sb3JtYXBJZDogVmlzQ29uZmlnU2VsZWN0aW9uO1xuICBjb2xvclJhbmdlOiBWaXNDb25maWdDb2xvclJhbmdlO1xuICBsaW5lYXJSZXNjYWxpbmdGYWN0b3I6IFZpc0NvbmZpZ1JhbmdlO1xuICBub25MaW5lYXJSZXNjYWxpbmc6IFZpc0NvbmZpZ0Jvb2xlYW47XG4gIGdhbW1hQ29udHJhc3RGYWN0b3I6IFZpc0NvbmZpZ051bWJlcjtcbiAgc2lnbW9pZGFsQ29udHJhc3RGYWN0b3I6IFZpc0NvbmZpZ051bWJlcjtcbiAgc2lnbW9pZGFsQmlhc0ZhY3RvcjogVmlzQ29uZmlnTnVtYmVyO1xuICBzYXR1cmF0aW9uVmFsdWU6IFZpc0NvbmZpZ051bWJlcjtcbiAgZmlsdGVyRW5hYmxlZDogVmlzQ29uZmlnQm9vbGVhbjtcbiAgZmlsdGVyUmFuZ2U6IFZpc0NvbmZpZ1JhbmdlO1xuICBfc3RhY1F1ZXJ5OiBWaXNDb25maWdJbnB1dDtcbiAgc2luZ2xlQmFuZE5hbWU6IFZpc0NvbmZpZ1NlbGVjdGlvbjtcbn07XG5cbnR5cGUgUmFzdGVyVGlsZUxheWVyTWV0YSA9IHtcbiAgelJhbmdlOiBudW1iZXJbXSB8IG51bGw7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXN0ZXJUaWxlTGF5ZXIgZXh0ZW5kcyBLZXBsZXJMYXllciB7XG4gIGRlY2xhcmUgdmlzQ29uZmlnU2V0dGluZ3M6IFJhc3RlclRpbGVMYXllclZpc0NvbmZpZ1NldHRpbmdzO1xuICBkZWNsYXJlIG1ldGE6IFJhc3RlclRpbGVMYXllck1ldGE7XG5cbiAgLyoqIE1pbiBiYW5kcyBpbWFnZSBkYXRhIHZhbHVlLCBiYXNlZCBvbiB0aGUgY3VycmVudCB2aWV3cG9ydCAqL1xuICBtaW5WaWV3cG9ydFBpeGVsVmFsdWUgPSBJbmZpbml0eTtcbiAgLyoqIE1heCBiYW5kcyBpbWFnZSBkYXRhIHZhbHVlLCBiYXNlZCBvbiB0aGUgY3VycmVudCB2aWV3cG9ydCAqL1xuICBtYXhWaWV3cG9ydFBpeGVsVmFsdWUgPSAtSW5maW5pdHk7XG4gIC8qKiBNZW1vaXplZCBtZXRob2QgdGhhdCBjYWxjdWxhdGVzIGRhdGEgc291cmNlIHBhcmFtcyAqL1xuXG4gIGdldERhdGFTb3VyY2VQYXJhbXM6IChcbiAgICBzdGFjOiBDb21wbGV0ZVNUQUNPYmplY3QsXG4gICAgcHJlc2V0OiBzdHJpbmcsXG4gICAgcHJlc2V0T3B0aW9uczogUHJlc2V0T3B0aW9uXG4gICkgPT4gRGF0YVNvdXJjZVBhcmFtcyB8IG51bGw7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5yZWdpc3RlclZpc0NvbmZpZyhyYXN0ZXJWaXNDb25maWdzKTtcblxuICAgIC8vIE5vIHR3byBTVEFDIGlkcyBtYXkgYmUgdGhlIHNhbWUgd2l0aGluIGEgc2luZ2xlIGNvbGxlY3Rpb24sIHRob3VnaCBpdCdzIGNvbmNlaXZhYmx5IHBvc3NpYmxlXG4gICAgLy8gYWNyb3NzIG11bHRpcGxlIFNUQUMgY29sbGVjdGlvbnMgdGhlcmUgY291bGQgYmUgYW4gaWQgY29sbGlzaW9uLiBOb3RlOiBTVEFDIENvbGxlY3Rpb25cbiAgICAvLyBvYmplY3RzIGRvbid0IGhhdmUgYSBgY29sbGVjdGlvbmAga2V5OyBTVEFDIEl0ZW0gb2JqZWN0cyBoYXZlIGEgYGNvbGxlY3Rpb25gIGtleSAod2hpY2hcbiAgICAvLyBtYXRjaGVzIHRoZSBjb2xsZWN0aW9uJ3MgYGlkYCkuXG4gICAgY29uc3QgcmVzb2x2ZXIgPSAoc3RhYzogQ29tcGxldGVTVEFDT2JqZWN0LCBwcmVzZXQ6IHN0cmluZywgcHJlc2V0T3B0aW9uczogUHJlc2V0T3B0aW9uKSA9PlxuICAgICAgYCR7c3RhYy5pZH0tJHtzdGFjLmNvbGxlY3Rpb259LSR7cHJlc2V0fS0ke3ByZXNldE9wdGlvbnMuc2luZ2xlQmFuZD8uYXNzZXRJZH0tJHtwcmVzZXRPcHRpb25zLnNpbmdsZUJhbmQ/LmJhbmRJbmRleH1gO1xuICAgIHRoaXMuZ2V0RGF0YVNvdXJjZVBhcmFtcyA9IG1lbW9pemUoXG4gICAgICAoc3RhYywgcHJlc2V0LCBwcmVzZXRPcHRpb25zKSA9PiBnZXREYXRhU291cmNlUGFyYW1zKHN0YWMsIHByZXNldCwgcHJlc2V0T3B0aW9ucyksXG4gICAgICByZXNvbHZlclxuICAgICk7XG5cbiAgICB0aGlzLm1ldGEgPSB7elJhbmdlOiBudWxsfTtcbiAgfVxuXG4gIHN0YXRpYyBmaW5kRGVmYXVsdExheWVyUHJvcHMoZGF0YXNldDogS2VwbGVyRGF0YXNldCk6IEZpbmREZWZhdWx0TGF5ZXJQcm9wc1JldHVyblZhbHVlIHtcbiAgICBpZiAoZGF0YXNldC50eXBlICE9PSBEYXRhc2V0VHlwZS5SQVNURVJfVElMRSkge1xuICAgICAgcmV0dXJuIHtwcm9wczogW119O1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0xheWVyUHJvcCA9IHtcbiAgICAgIGRhdGFJZDogZGF0YXNldC5pZCxcbiAgICAgIGxhYmVsOiBkYXRhc2V0LmxhYmVsLFxuICAgICAgaXNWaXNpYmxlOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiB7cHJvcHM6IFtuZXdMYXllclByb3BdfTtcbiAgfVxuXG4gIGdldCB0eXBlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIExBWUVSX1RZUEVTLnJhc3RlclRpbGU7XG4gIH1cblxuICBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnUmFzdGVyIFRpbGUnO1xuICB9XG5cbiAgZ2V0IGxheWVySWNvbigpOiBLZXBsZXJMYXllclsnbGF5ZXJJY29uJ10ge1xuICAgIHJldHVybiBSYXN0ZXJJY29uO1xuICB9XG5cbiAgZ2V0IHN1cHBvcnRlZERhdGFzZXRUeXBlcygpOiBEYXRhc2V0VHlwZVtdIHtcbiAgICByZXR1cm4gW0RhdGFzZXRUeXBlLlJBU1RFUl9USUxFXTtcbiAgfVxuXG4gIGdldCB2aXN1YWxDaGFubmVscygpOiBSZWNvcmQ8c3RyaW5nLCBWaXN1YWxDaGFubmVsPiB7XG4gICAgY29uc3Qge1xuICAgICAgdmlzQ29uZmlnOiB7XG4gICAgICAgIGNvbG9yUmFuZ2U6IHtjb2xvckxlZ2VuZHM6IGNhdGVnb3JpY2FsQ29sb3JMZWdlbmRzfVxuICAgICAgfVxuICAgIH0gPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoY2F0ZWdvcmljYWxDb2xvckxlZ2VuZHMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbG9yOiBzdXBlci52aXN1YWxDaGFubmVscy5jb2xvclxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfVxuXG4gIGdldCByZXF1aXJlRGF0YSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGdldERlZmF1bHRMYXllckNvbmZpZyhcbiAgICBwcm9wczogTGF5ZXJCYXNlQ29uZmlnUGFydGlhbFxuICApOiBMYXllckJhc2VDb25maWcgJiBQYXJ0aWFsPExheWVyQ29sb3JDb25maWcgJiBMYXllckhlaWdodENvbmZpZz4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci5nZXREZWZhdWx0TGF5ZXJDb25maWcocHJvcHMpLFxuICAgICAgY29sb3JGaWVsZDoge1xuICAgICAgICBhbmFseXplclR5cGU6ICcnLFxuICAgICAgICBuYW1lOiAnQ2F0ZWdvcnknLFxuICAgICAgICBmb3JtYXQ6ICcnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZmllbGRJZHg6IC0xLFxuICAgICAgICB2YWx1ZUFjY2Vzc29yOiAoKSA9PiAnJyxcbiAgICAgICAgZGlzcGxheU5hbWU6ICdDYXRlZ29yeSdcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZ2V0SG92ZXJEYXRhKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gV2UgY2FuIHJlbmRlciB3aXRob3V0IGNvbHVtbnMsIHNvIHdlIHJlZGVmaW5lIHRoaXMgbWV0aG9kXG4gIHNob3VsZFJlbmRlckxheWVyKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMudHlwZSAmJiB0aGlzLmNvbmZpZy5pc1Zpc2libGUpO1xuICB9XG5cbiAgZm9ybWF0TGF5ZXJEYXRhKGRhdGFzZXRzOiBEYXRhc2V0cywgb2xkTGF5ZXJEYXRhPzogYW55KSB7XG4gICAgY29uc3Qge2RhdGFJZH0gPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoIW5vdE51bGxvclVuZGVmaW5lZChkYXRhSWQpKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IGRhdGFzZXQgPSBkYXRhc2V0c1tkYXRhSWRdO1xuXG4gICAgLy8gY2FsbCB1cGRhdGVEYXRhIHRvIHVwZGF0ZUxheWVyTWV0YVxuICAgIGNvbnN0IGRhdGFVcGRhdGVUcmlnZ2VycyA9IHRoaXMuZ2V0RGF0YVVwZGF0ZVRyaWdnZXJzKGRhdGFzZXQpO1xuICAgIGNvbnN0IHRyaWdnZXJDaGFuZ2VkID0gdGhpcy5nZXRDaGFuZ2VkVHJpZ2dlcnMoZGF0YVVwZGF0ZVRyaWdnZXJzKTtcblxuICAgIGlmICh0cmlnZ2VyQ2hhbmdlZCAmJiB0cmlnZ2VyQ2hhbmdlZC5nZXRNZXRhKSB7XG4gICAgICB0aGlzLnVwZGF0ZUxheWVyTWV0YShkYXRhc2V0IGFzIEtlcGxlclJhc3RlckRhdGFzZXQpO1xuICAgIH1cblxuICAgIGxldCB0aWxlU291cmNlOiBQTVRpbGVzVGlsZVNvdXJjZSB8IG51bGwgPSBudWxsO1xuICAgIGlmIChkYXRhc2V0Lm1ldGFkYXRhPy5wbXRpbGVzVHlwZSA9PT0gUE1UaWxlc1R5cGUuUkFTVEVSKSB7XG4gICAgICBjb25zdCBtZXRhZGF0YVVybCA9IGRhdGFzZXQubWV0YWRhdGEubWV0YWRhdGFVcmw7XG4gICAgICAvLyB1c2UgdGhlIG9sZCB0aWxlIHNvdXJjZSBpZiBpdCBleGlzdHMgYW5kIG1hdGNoZXMgdGhlIG5ldyBtZXRhZGF0YVVybFxuICAgICAgY29uc3Qge2RhdGFzZXQ6IG9sZERhdGFzZXQsIHRpbGVTb3VyY2U6IG9sZFRpbGVTb3VyY2V9ID0gb2xkTGF5ZXJEYXRhIHx8IHt9O1xuICAgICAgaWYgKG9sZERhdGFzZXQgPT09IGRhdGFzZXQgJiYgb2xkVGlsZVNvdXJjZT8uZGF0YSA9PT0gbWV0YWRhdGFVcmwpIHtcbiAgICAgICAgdGlsZVNvdXJjZSA9IG9sZExheWVyRGF0YS50aWxlU291cmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGlsZVNvdXJjZSA9IG1ldGFkYXRhVXJsID8gUE1UaWxlc1NvdXJjZS5jcmVhdGVEYXRhU291cmNlKG1ldGFkYXRhVXJsLCB7fSkgOiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7ZGF0YXNldCwgdGlsZVNvdXJjZX07XG4gIH1cblxuICB1cGRhdGVMYXllck1ldGEoZGF0YXNldDogS2VwbGVyUmFzdGVyRGF0YXNldCk6IHZvaWQge1xuICAgIGlmIChkYXRhc2V0LnR5cGUgIT09IERhdGFzZXRUeXBlLlJBU1RFUl9USUxFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhYyA9IGRhdGFzZXQubWV0YWRhdGE7XG4gICAgaWYgKHN0YWMucG10aWxlc1R5cGUgPT09IFBNVGlsZXNUeXBlLlJBU1RFUikge1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlTWV0YSh7XG4gICAgICAgIGJvdW5kczogc3RhYy5ib3VuZHNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGJvdW5kcyA9IGdldFNUQUNCb3VuZHMoc3RhYyk7XG4gICAgaWYgKGJvdW5kcykge1xuICAgICAgLy8gSWYgYSBTVEFDIEl0ZW0gKGkuZS4gc3RhYy50eXBlID09PSAnRmVhdHVyZScpLCB0aGVuIHNldCBtYXAgYm91bmRzLlxuICAgICAgLy8gQnV0IHdlIGRvbid0IHdhbnQgdG8gc2V0IGJvdW5kcyBmb3IgTGFuZHNhdCBvciBTZW50aW5lbCBiZWNhdXNlIGl0IHdvdWxkIHpvb20gb3V0IHRvIHpvb21cbiAgICAgIC8vIDAsIGFuZCB3ZSBkb24ndCBoYXZlIGxvdy16b29tIHRpbGVzLlxuICAgICAgaWYgKHN0YWMudHlwZSA9PT0gJ0ZlYXR1cmUnKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTWV0YSh7Ym91bmRzfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJ1biB3aGVuIGFkZGluZyBhIG5ldyBkYXRhc2V0XG4gICAqL1xuICBzZXRJbml0aWFsTGF5ZXJDb25maWcoZGF0YXNldDogS2VwbGVyRGF0YXNldCk6IFJhc3RlclRpbGVMYXllciB7XG4gICAgY29uc3Qgc3RhYyA9IGRhdGFzZXQ/Lm1ldGFkYXRhIGFzIEdldFRpbGVEYXRhQ3VzdG9tUHJvcHNbJ3N0YWMnXTtcblxuICAgIGlmICghc3RhYykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaWYgKHN0YWMucG10aWxlc1R5cGUgPT09IFBNVGlsZXNUeXBlLlJBU1RFUikge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gV2hlbiBhIFNUQUMgQ29sbGVjdGlvbiBpcyBhZGRlZCwgdXNlU3RhY1NlYXJjaGluZyBzaG91bGQgYmUgdHJ1ZSB0byBwcmV2ZW50IGEgYmxhY2sgc2NyZWVuXG4gICAgdGhpcy51cGRhdGVMYXllclZpc0NvbmZpZyh7XG4gICAgICB1c2VTVEFDU2VhcmNoaW5nOiBzdGFjLnR5cGUgPT09ICdDb2xsZWN0aW9uJ1xuICAgIH0pO1xuXG4gICAgLy8gU2V0IHNpbmdsZUJhbmROYW1lIGlmIHRoZXJlIGlzIG9ubHkgb25lIGJhbmRcbiAgICBjb25zdCBhdmFpbGFibGVCYW5kcyA9IGdldEVPQmFuZHMoc3RhYykgfHwgW107XG4gICAgaWYgKGF2YWlsYWJsZUJhbmRzPy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRoaXMudXBkYXRlTGF5ZXJWaXNDb25maWcoe3NpbmdsZUJhbmROYW1lOiBhdmFpbGFibGVCYW5kc1swXS5uYW1lfSk7XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBwcmVzZXQgaWYgdGhlIGRlZmF1bHQgb25lIGlzIG5vdCBhbGxvd2VkXG4gICAgY29uc3QgYXZhaWxhYmxlUHJlc2V0cyA9IGZpbHRlckF2YWlsYWJsZVByZXNldHMoc3RhYywgUFJFU0VUX09QVElPTlMpO1xuICAgIGlmIChcbiAgICAgIGF2YWlsYWJsZVByZXNldHM/Lmxlbmd0aCAmJlxuICAgICAgIWF2YWlsYWJsZVByZXNldHM/LmluY2x1ZGVzKHRoaXMudmlzQ29uZmlnU2V0dGluZ3MucHJlc2V0LmRlZmF1bHRWYWx1ZSBhcyBzdHJpbmcpXG4gICAgKSB7XG4gICAgICB0aGlzLnVwZGF0ZUxheWVyVmlzQ29uZmlnKHtwcmVzZXQ6IGF2YWlsYWJsZVByZXNldHNbMF19KTtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBpbXByb3ZlZCBpbWFnZSBwcm9jZXNzaW5nIHByb3BzIG9ubHkgZm9yIG5vbiBzaW5nbGUgYmFuZCBtb2Rlc1xuICAgIGNvbnN0IHByZXNldCA9IHRoaXMuY29uZmlnLnZpc0NvbmZpZy5wcmVzZXQ7XG4gICAgY29uc3QgY29sb3JEZWZhdWx0cyA9IERBVEFfU09VUkNFX0NPTE9SX0RFRkFVTFRTW3N0YWMuaWRdO1xuICAgIGlmIChjb2xvckRlZmF1bHRzICYmIHByZXNldCAhPT0gJ3NpbmdsZUJhbmQnKSB7XG4gICAgICB0aGlzLnVwZGF0ZUxheWVyVmlzQ29uZmlnKGNvbG9yRGVmYXVsdHMpO1xuICAgIH1cblxuICAgIC8qXG4gICAgTGFuZFNhdCBzcGVjaWZpZXMgdGVtcG9yYWwgYm91bmRzIGJ1dCB0aGUgdmFsaWQgZGF0YSBpcyBhZnRlciBlbmQgZGF0ZVxuICAgIGNvbnN0IHVwZGF0ZWREYXRlcyA9IHRpbWVSYW5nZVRvU3RhY1RlbXBvcmFsSW50ZXJ2YWwoXG4gICAgICBzdGFjIGFzIFN0YWNUeXBlcy5TVEFDQ29sbGVjdGlvbixcbiAgICAgIHRoaXMuY29uZmlnLnZpc0NvbmZpZy5zdGFydERhdGUsXG4gICAgICB0aGlzLmNvbmZpZy52aXNDb25maWcuZW5kRGF0ZVxuICAgICk7XG4gICAgdGhpcy51cGRhdGVMYXllclZpc0NvbmZpZyh1cGRhdGVkRGF0ZXMpO1xuICAgICovXG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgelJhbmdlIG9mIHZpZXdwb3J0LiBUaGlzIGlzIG5lY2Vzc2FyeSBzbyB0aGF0IHRpbGVzIGluIGV4dHJ1ZGVkIG1vZGUgYXJlIHNob3duIHByb3Blcmx5XG4gICAqIGF0IGhpZ2ggZWxldmF0aW9uczogaHR0cHM6Ly9naXRodWIuY29tL2ZvdXJzcXVhcmUvc3R1ZGlvLW1vbm9yZXBvL3B1bGwvMTg5Mi9maWxlc1xuICAgKiBEZXJpdmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Zpc2dsL2RlY2suZ2wvYmxvYi84ZDgyNGE0YjgzNmZlZTNiZmViZTZmYzk2MmUwZjAzZDhjMWRiZDBkL21vZHVsZXMvZ2VvLWxheWVycy9zcmMvdGVycmFpbi1sYXllci90ZXJyYWluLWxheWVyLmpzI0wxNzMtTDE5NlxuICAgKlxuICAgKiBAcGFyYW0gdGlsZXMgQXJyYXkgb2YgdGlsZXMgaW4gY3VycmVudCB2aWV3cG9ydFxuICAgKi9cbiAgb25WaWV3cG9ydExvYWQodGlsZXM6IChUaWxlMkRIZWFkZXIgfCBudWxsKVtdKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVNaW5NYXhQaXhlbFZhbHVlKHRpbGVzKTtcbiAgICBjb25zdCBuZXdaUmFuZ2UgPSBjb21wdXRlWlJhbmdlKHRpbGVzKTtcbiAgICBpZiAoIW5ld1pSYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHt6UmFuZ2V9ID0gdGhpcy5tZXRhO1xuICAgIGlmICghelJhbmdlIHx8IG5ld1pSYW5nZVswXSA8IHpSYW5nZVswXSB8fCBuZXdaUmFuZ2VbMV0gPiB6UmFuZ2VbMV0pIHtcbiAgICAgIHRoaXMubWV0YS56UmFuZ2UgPSBuZXdaUmFuZ2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB2aWV3cG9ydC1yZWxhdGVkIG1pblB4ZWxWYWx1ZSBhbmQgbWF4UGl4ZWxWYWx1ZVxuICAgKiBAcGFyYW0gdGlsZXMgLSBkZWNrLmdsIHRpbGVzXG4gICAqL1xuICB1cGRhdGVNaW5NYXhQaXhlbFZhbHVlKHRpbGVzOiAoVGlsZTJESGVhZGVyIHwgbnVsbClbXSk6IHZvaWQge1xuICAgIGNvbnN0IFttaW4sIG1heF0gPSBnZXRNaW5NYXhGcm9tVGlsZTJESGVhZGVycyh0aWxlcyk7XG4gICAgdGhpcy5taW5WaWV3cG9ydFBpeGVsVmFsdWUgPSBtaW47XG4gICAgdGhpcy5tYXhWaWV3cG9ydFBpeGVsVmFsdWUgPSBtYXg7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIG1pbiBhbmQgbWF4IHZhbHVlcyBvZiBpbnB1dCByYXN0ZXIgYmFuZCBpbWFnZSBwcm9wZXJ0aWVzXG4gICAqIGFuZCB1cGRhdGUgYG1pbkJhbmRzVmFsdWVgIGFuZCBgbWF4QmFuZHNWYWx1ZWBcbiAgICogQHBhcmFtIGltYWdlcyAtIHJhc3RlciBiYW5kIGltYWdlIHByb3BlcnRpZXNcbiAgICogQHJldHVybiBbbWluLCBtYXhdIHBpeGVsIHZhbHVlcyBmb3IgdGhlIHRpbGVcbiAgICovXG4gIGdldE1pbk1heFBpeGVsVmFsdWVzKGltYWdlczogVGV4dHVyZTJEUHJvcHNbXSB8IG51bGwpOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICBsZXQgbWluUGl4ZWxWYWx1ZSA9IEluZmluaXR5O1xuICAgIGxldCBtYXhQaXhlbFZhbHVlID0gLUluZmluaXR5O1xuICAgIGlmIChpbWFnZXMpIHtcbiAgICAgIGZvciAoY29uc3QgaW1hZ2Ugb2YgaW1hZ2VzKSB7XG4gICAgICAgIGNvbnN0IFttaW4sIG1heF0gPSBnZXRJbWFnZU1pbk1heChpbWFnZS5kYXRhKTtcbiAgICAgICAgaWYgKHR5cGVvZiBtaW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgbWluUGl4ZWxWYWx1ZSA9IE1hdGgubWluKG1pbiwgbWluUGl4ZWxWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBtYXggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgbWF4UGl4ZWxWYWx1ZSA9IE1hdGgubWF4KG1heCwgbWF4UGl4ZWxWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFttaW5QaXhlbFZhbHVlLCBtYXhQaXhlbFZhbHVlXTtcbiAgfVxuXG4gIC8vIGdlbmVyYXRlIGEgZGVjayBsYXllclxuICByZW5kZXJMYXllcihvcHRzKTogVGlsZUxheWVyPGFueT5bXSB7XG4gICAgY29uc3Qge2RhdGF9ID0gb3B0cztcblxuICAgIGlmIChkYXRhPy5kYXRhc2V0Py5tZXRhZGF0YT8ucG10aWxlc1R5cGUgPT09IFBNVGlsZXNUeXBlLlJBU1RFUikge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUE1UaWxlc0xheWVyKG9wdHMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJTdGFjTGF5ZXIob3B0cyk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclN0YWNMYXllcihvcHRzKTogVGlsZUxheWVyPGFueT5bXSB7XG4gICAgY29uc3Qge2RhdGEsIG1hcFN0YXRlLCBleHBlcmltZW50YWxDb250ZXh0fSA9IG9wdHM7XG4gICAgY29uc3Qgc3RhYyA9IGRhdGE/LmRhdGFzZXQ/Lm1ldGFkYXRhIGFzIEdldFRpbGVEYXRhQ3VzdG9tUHJvcHNbJ3N0YWMnXTtcblxuICAgIC8vIElmIGEgdGFidWxhciBkYXRhc2V0IGlzIGxvYWRlZCwgYW5kIHRoZW4gdGhlIGxheWVyIHR5cGUgaXMgc3dpdGNoZWQgZnJvbSBQb2ludCB0byBSYXN0ZXIgVGlsZVxuICAgIC8vIGxheWVyLCB0aGlzIGBzdGFjYCBvYmplY3Qgd2lsbCBleGlzdCBidXQgd2lsbCBub3QgYmUgcmFzdGVyIG1ldGFkYXRhXG4gICAgaWYgKCFzdGFjIHx8ICFzdGFjLnN0YWNfdmVyc2lvbikge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHt2aXNDb25maWd9ID0gdGhpcy5jb25maWc7XG4gICAgY29uc3Qge2lkLCBvcGFjaXR5LCB2aXNpYmxlfSA9IHRoaXMuZ2V0RGVmYXVsdERlY2tMYXllclByb3BzKG9wdHMpO1xuXG4gICAgY29uc3QgaGFzU2hhZG93RWZmZWN0ID0gZXhwZXJpbWVudGFsQ29udGV4dD8uaGFzU2hhZG93RWZmZWN0O1xuXG4gICAgY29uc3Qge1xuICAgICAgcHJlc2V0LFxuICAgICAgY29sb3JtYXBJZCxcbiAgICAgIGxpbmVhclJlc2NhbGluZyxcbiAgICAgIGxpbmVhclJlc2NhbGluZ0ZhY3RvcixcbiAgICAgIG5vbkxpbmVhclJlc2NhbGluZyxcbiAgICAgIGdhbW1hQ29udHJhc3RGYWN0b3IsXG4gICAgICBzaWdtb2lkYWxDb250cmFzdEZhY3RvcixcbiAgICAgIHNpZ21vaWRhbEJpYXNGYWN0b3IsXG4gICAgICBzYXR1cmF0aW9uVmFsdWUsXG4gICAgICBmaWx0ZXJFbmFibGVkLFxuICAgICAgZmlsdGVyUmFuZ2UsXG4gICAgICB1c2VTVEFDU2VhcmNoaW5nLFxuICAgICAgc3RhY1NlYXJjaFByb3ZpZGVyLFxuICAgICAgc3RhcnREYXRlLFxuICAgICAgZW5kRGF0ZSxcbiAgICAgIF9zdGFjUXVlcnksXG4gICAgICBzaW5nbGVCYW5kTmFtZSxcbiAgICAgIGNvbG9yUmFuZ2U6IHtjb2xvck1hcDogY2F0ZWdvcmljYWxDb2xvck1hcH0sXG4gICAgICBkeW5hbWljQ29sb3JcbiAgICB9ID0gdmlzQ29uZmlnO1xuXG4gICAgY29uc3Qgc2hvdWxkTG9hZFRlcnJhaW4gPSBnZXRTaG91bGRMb2FkVGVycmFpbihzdGFjLCBtYXBTdGF0ZSwgdmlzQ29uZmlnKTtcblxuICAgIGlmIChuZXcgRGF0ZShlbmREYXRlKSA8IG5ldyBEYXRlKHN0YXJ0RGF0ZSkpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCB7YmFuZENvbWJpbmF0aW9ufSA9IFBSRVNFVF9PUFRJT05TW3ByZXNldF07XG5cbiAgICBjb25zdCBzaW5nbGVCYW5kID0gZ2V0U2luZ2xlQmFuZFByZXNldE9wdGlvbnMoc3RhYywgc2luZ2xlQmFuZE5hbWUpO1xuICAgIGNvbnN0IGRhdGFTb3VyY2VQYXJhbXM6IERhdGFTb3VyY2VQYXJhbXMgfCBudWxsID0gdGhpcy5nZXREYXRhU291cmNlUGFyYW1zKHN0YWMsIHByZXNldCwge1xuICAgICAgc2luZ2xlQmFuZFxuICAgIH0pO1xuXG4gICAgaWYgKCFkYXRhU291cmNlUGFyYW1zKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgbWluWm9vbSxcbiAgICAgIG1heFpvb20sXG4gICAgICBnbG9iYWxCb3VuZHMsXG4gICAgICBsb2FkQXNzZXRJZHMsXG4gICAgICBsb2FkQmFuZEluZGV4ZXMsXG4gICAgICByZW5kZXJCYW5kSW5kZXhlcyxcbiAgICAgIGRhdGFUeXBlLFxuICAgICAgbWluUGl4ZWxWYWx1ZTogZHNNaW5QaXhlbFZhbHVlLFxuICAgICAgbWF4UGl4ZWxWYWx1ZTogZHNNYXhQaXhlbFZhbHVlLFxuICAgICAgbWluQ2F0ZWdvcmljYWxCYW5kVmFsdWUsXG4gICAgICBtYXhDYXRlZ29yaWNhbEJhbmRWYWx1ZVxuICAgIH0gPSBkYXRhU291cmNlUGFyYW1zO1xuXG4gICAgY29uc3QgbWluUGl4ZWxWYWx1ZSA9XG4gICAgICAhZHluYW1pY0NvbG9yICYmIE51bWJlci5pc0Zpbml0ZShkc01pblBpeGVsVmFsdWUpXG4gICAgICAgID8gZHNNaW5QaXhlbFZhbHVlXG4gICAgICAgIDogdGhpcy5taW5WaWV3cG9ydFBpeGVsVmFsdWU7XG4gICAgY29uc3QgbWF4UGl4ZWxWYWx1ZSA9XG4gICAgICAhZHluYW1pY0NvbG9yICYmIE51bWJlci5pc0Zpbml0ZShkc01heFBpeGVsVmFsdWUpXG4gICAgICAgID8gZHNNYXhQaXhlbFZhbHVlXG4gICAgICAgIDogdGhpcy5tYXhWaWV3cG9ydFBpeGVsVmFsdWU7XG5cbiAgICBjb25zdCBnZXRUaWxlRGF0YUN1c3RvbVByb3BzOiBHZXRUaWxlRGF0YUN1c3RvbVByb3BzID0ge1xuICAgICAgc3RhYyxcbiAgICAgIGxvYWRBc3NldElkcyxcbiAgICAgIGxvYWRCYW5kSW5kZXhlcyxcbiAgICAgIGNvbG9ybWFwSWQsXG4gICAgICBzaG91bGRMb2FkVGVycmFpbixcbiAgICAgIGdsb2JhbEJvdW5kcyxcbiAgICAgIHVzZVNUQUNTZWFyY2hpbmcsXG4gICAgICBzdGFjU2VhcmNoUHJvdmlkZXIsXG4gICAgICBzdGFydERhdGUsXG4gICAgICBlbmREYXRlLFxuICAgICAgX3N0YWNRdWVyeSxcbiAgICAgIGNhdGVnb3JpY2FsQ29sb3JNYXAsXG4gICAgICBtaW5DYXRlZ29yaWNhbEJhbmRWYWx1ZSxcbiAgICAgIG1heENhdGVnb3JpY2FsQmFuZFZhbHVlXG4gICAgfTtcblxuICAgIGNvbnN0IHRpbGVMYXllciA9IG5ldyBUaWxlTGF5ZXI8YW55LCBSZW5kZXJTdWJMYXllcnNQcm9wcz4oe1xuICAgICAgaWQsXG4gICAgICBtaW5ab29tLFxuICAgICAgbWF4Wm9vbSxcbiAgICAgIHRpbGVTaXplOiA1MTIgLyBkZXZpY2VQaXhlbFJhdGlvLFxuICAgICAgZ2V0VGlsZURhdGE6IChhcmdzOiBhbnkpID0+IHRoaXMuZ2V0VGlsZURhdGEoey4uLmFyZ3MsIC4uLmdldFRpbGVEYXRhQ3VzdG9tUHJvcHN9KSxcbiAgICAgIG9uVmlld3BvcnRMb2FkOiB0aGlzLm9uVmlld3BvcnRMb2FkLmJpbmQodGhpcyksXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMgZG9lc24ndCBrbm93IHdlJ2xsIHBhc3MgYXBwcm9wcmlhdGUgcHJvcHMgaGVyZVxuICAgICAgcmVuZGVyU3ViTGF5ZXJzOiByZW5kZXJTdWJMYXllcnNTdGFjLFxuICAgICAgbWF4UmVxdWVzdHM6IGdldE1heFJlcXVlc3RzKHN0YWMucmFzdGVyVGlsZVNlcnZlclVybHMgfHwgW10pLFxuICAgICAgLy8gUGFzc2luZyB2aXNpYmxlIG9uIHRvIFRpbGVMYXllciBpcyBuZWNlc3NhcnkgZm9yIHNwbGl0IHZpZXcgdG8gd29ya1xuICAgICAgdmlzaWJsZSxcbiAgICAgIHVwZGF0ZVRyaWdnZXJzOiB7XG4gICAgICAgIGdldFRpbGVEYXRhOiBbXG4gICAgICAgICAgc2hvdWxkTG9hZFRlcnJhaW4sXG4gICAgICAgICAgLy8gQ29sb3JtYXAgaGFzIGNoYW5nZWRcbiAgICAgICAgICBjb2xvcm1hcElkLFxuICAgICAgICAgIC8vIGFzc2V0cyB0byBiZSBsb2FkZWQgaGFzIGNoYW5nZWRcbiAgICAgICAgICAuLi5sb2FkQXNzZXRJZHMsXG4gICAgICAgICAgLy8gYmFuZCBpbmRleGVzIHRvIGJlIGxvYWRlZCBoYXMgY2hhbmdlZFxuICAgICAgICAgIC4uLmxvYWRCYW5kSW5kZXhlcyxcbiAgICAgICAgICB1c2VTVEFDU2VhcmNoaW5nLFxuICAgICAgICAgIHN0YWNTZWFyY2hQcm92aWRlcixcbiAgICAgICAgICBzdGFydERhdGUsXG4gICAgICAgICAgZW5kRGF0ZSxcbiAgICAgICAgICBfc3RhY1F1ZXJ5LFxuICAgICAgICAgIGNhdGVnb3JpY2FsQ29sb3JNYXAsXG4gICAgICAgICAgbWluQ2F0ZWdvcmljYWxCYW5kVmFsdWUsXG4gICAgICAgICAgbWF4Q2F0ZWdvcmljYWxCYW5kVmFsdWVcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIC8vIFByb3BzIGZvciAzRCBtb2RlXG4gICAgICAuLi4oc2hvdWxkTG9hZFRlcnJhaW5cbiAgICAgICAgPyB7XG4gICAgICAgICAgICB6UmFuZ2U6IHRoaXMubWV0YS56UmFuZ2UgfHwgbnVsbCxcbiAgICAgICAgICAgIHJlZmluZW1lbnRTdHJhdGVneTogJ25vLW92ZXJsYXAnXG4gICAgICAgICAgfVxuICAgICAgICA6IHt9KSxcbiAgICAgIHJlbmRlckJhbmRJbmRleGVzLFxuICAgICAgb3BhY2l0eSxcbiAgICAgIGxpbmVhclJlc2NhbGluZyxcbiAgICAgIGxpbmVhclJlc2NhbGluZ0ZhY3RvcixcbiAgICAgIG5vbkxpbmVhclJlc2NhbGluZyxcbiAgICAgIG1pblBpeGVsVmFsdWUsXG4gICAgICBtYXhQaXhlbFZhbHVlLFxuICAgICAgZ2FtbWFDb250cmFzdEZhY3RvcixcbiAgICAgIHNpZ21vaWRhbENvbnRyYXN0RmFjdG9yLFxuICAgICAgc2lnbW9pZGFsQmlhc0ZhY3RvcixcbiAgICAgIHNhdHVyYXRpb25WYWx1ZSxcbiAgICAgIGJhbmRDb21iaW5hdGlvbixcbiAgICAgIGZpbHRlckVuYWJsZWQsXG4gICAgICBmaWx0ZXJSYW5nZSxcbiAgICAgIGRhdGFUeXBlLFxuICAgICAgbWluQ2F0ZWdvcmljYWxCYW5kVmFsdWUsXG4gICAgICBtYXhDYXRlZ29yaWNhbEJhbmRWYWx1ZSxcbiAgICAgIGhhc0NhdGVnb3JpY2FsQ29sb3JNYXA6IEJvb2xlYW4oY2F0ZWdvcmljYWxDb2xvck1hcCksXG4gICAgICBoYXNTaGFkb3dFZmZlY3RcbiAgICB9KTtcblxuICAgIHJldHVybiBbdGlsZUxheWVyXTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyUE1UaWxlc0xheWVyKG9wdHMpOiBUaWxlTGF5ZXI8YW55PltdIHtcbiAgICBjb25zdCB7aWQsIG9wYWNpdHksIHZpc2libGV9ID0gdGhpcy5nZXREZWZhdWx0RGVja0xheWVyUHJvcHMob3B0cyk7XG5cbiAgICBjb25zdCB7ZGF0YSwgbWFwU3RhdGV9ID0gb3B0cztcbiAgICBjb25zdCBtZXRhZGF0YSA9IGRhdGE/LmRhdGFzZXQ/Lm1ldGFkYXRhIGFzIFZlY3RvclRpbGVNZXRhZGF0YTtcbiAgICBjb25zdCB7dmlzQ29uZmlnfSA9IHRoaXMuY29uZmlnO1xuXG4gICAgY29uc3QgdGlsZVNvdXJjZSA9IGRhdGEudGlsZVNvdXJjZTtcbiAgICBjb25zdCBzaG93VGlsZUJvcmRlcnMgPSBmYWxzZTtcbiAgICBjb25zdCBtaW5ab29tID0gbWV0YWRhdGEubWluWm9vbSB8fCAwO1xuICAgIGNvbnN0IG1heFpvb20gPSBtZXRhZGF0YS5tYXhab29tIHx8IDMwO1xuXG4gICAgY29uc3Qgc2hvdWxkTG9hZFRlcnJhaW4gPSBnZXRTaG91bGRMb2FkVGVycmFpbihtZXRhZGF0YSwgbWFwU3RhdGUsIHZpc0NvbmZpZyk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgbmV3IFRpbGVMYXllcjxhbnksIFJhc3RlclRpbGVMYXllclZpc0NvbmZpZ0NvbW1vblNldHRpbmdzPih7XG4gICAgICAgIGlkLFxuICAgICAgICBnZXRUaWxlRGF0YTogKGFyZ3M6IGFueSkgPT5cbiAgICAgICAgICB0aGlzLmdldFRpbGVEYXRhUE1UaWxlcyh7Li4uYXJncywgc2hvdWxkTG9hZFRlcnJhaW4sIG1ldGFkYXRhfSwgdGlsZVNvdXJjZSksXG5cbiAgICAgICAgLy8gQXNzdW1lIHRoZSBwbXRpbGVzIGZpbGUgc3VwcG9ydCBIVFRQLzIsIHNvIHdlIGFyZW4ndCBsaW1pdGVkIGJ5IHRoZSBicm93c2VyIHRvIGEgY2VydGFpbiBudW1iZXIgcGVyIGRvbWFpbi5cbiAgICAgICAgbWF4UmVxdWVzdHM6IDIwLFxuXG4gICAgICAgIHBpY2thYmxlOiB0cnVlLFxuICAgICAgICBhdXRvSGlnaGxpZ2h0OiBzaG93VGlsZUJvcmRlcnMsXG5cbiAgICAgICAgb25WaWV3cG9ydExvYWQ6IHRoaXMub25WaWV3cG9ydExvYWQuYmluZCh0aGlzKSxcblxuICAgICAgICBtaW5ab29tLFxuICAgICAgICBtYXhab29tLFxuICAgICAgICB0aWxlU2l6ZTogNTEyIC8gZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgem9vbU9mZnNldDogZGV2aWNlUGl4ZWxSYXRpbyA9PT0gMSA/IC0xIDogMCxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTIGRvZXNuJ3Qga25vdyB3ZSdsbCBwYXNzIGFwcHJvcHJpYXRlIHByb3BzIGhlcmVcbiAgICAgICAgcmVuZGVyU3ViTGF5ZXJzOiByZW5kZXJTdWJMYXllcnNQTVRpbGVzLFxuXG4gICAgICAgIHRpbGVTb3VyY2UsXG4gICAgICAgIHNob3dUaWxlQm9yZGVycyxcblxuICAgICAgICB2aXNpYmxlLFxuICAgICAgICBvcGFjaXR5LFxuXG4gICAgICAgIHVwZGF0ZVRyaWdnZXJzOiB7XG4gICAgICAgICAgZ2V0VGlsZURhdGE6IFtzaG91bGRMb2FkVGVycmFpbl1cbiAgICAgICAgfSxcbiAgICAgICAgLy8gUHJvcHMgZm9yIDNEIG1vZGVcbiAgICAgICAgLi4uKHNob3VsZExvYWRUZXJyYWluXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIHpSYW5nZTogdGhpcy5tZXRhLnpSYW5nZSB8fCBudWxsLFxuICAgICAgICAgICAgICByZWZpbmVtZW50U3RyYXRlZ3k6ICduby1vdmVybGFwJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDoge30pXG4gICAgICB9KVxuICAgIF07XG4gIH1cblxuICBhc3luYyBnZXRUaWxlRGF0YShwcm9wczogR2V0VGlsZURhdGFQcm9wcyk6IFByb21pc2U8R2V0VGlsZURhdGFPdXRwdXQ+IHtcbiAgICBjb25zdCB7XG4gICAgICBzaG91bGRMb2FkVGVycmFpbixcbiAgICAgIGdsb2JhbEJvdW5kcyxcbiAgICAgIGJib3g6IHt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGh9LFxuICAgICAgaW5kZXg6IHt6OiB6b29tfVxuICAgIH0gPSBwcm9wcztcblxuICAgIGlmIChnbG9iYWxCb3VuZHMgJiYgIWJib3hJbnRlcnNlY3RzKGdsb2JhbEJvdW5kcywgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0pKSB7XG4gICAgICAvLyB0aWxlIGlzIG91dHNpZGUgb2YgU1RBQyBvYmplY3QncyBib3VuZGluZyBib3g7IGRvbid0IGZldGNoIHRpbGVcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGFzc2V0UmVxdWVzdHMgPSBhd2FpdCBnZXRTVEFDSW1hZ2VSZXF1ZXN0cyhwcm9wcyk7XG4gICAgLy8gTm8gYXNzZXRzIHRvIGxvYWQsIG1vc3QgbGlrZWx5IGR1ZSB0byBwcm9wcyBiZWluZyBpbnZhbGlkL3Vuc3VwcG9ydGVkXG4gICAgaWYgKCFhc3NldFJlcXVlc3RzKSB7XG4gICAgICAvLyBXZSBzdGlsbCBpc3N1ZSB0aGUgbG9hZFRlcnJhaW4gcmVxdWVzdCBpZiBhcHBsaWNhYmxlXG4gICAgICBjb25zdCB0ZXJyYWluID1cbiAgICAgICAgc2hvdWxkTG9hZFRlcnJhaW4gJiZcbiAgICAgICAgTE9BRF9FTEVWQVRJT05fQUZURVJfWk9PTSA8IHpvb20gJiZcbiAgICAgICAgKGF3YWl0IGxvYWRUZXJyYWluKHtcbiAgICAgICAgICBib3VuZHNGb3JHZW9tZXRyeTogW3dlc3QsIG5vcnRoLCBlYXN0LCBzb3V0aF0sXG4gICAgICAgICAgaW5kZXg6IHByb3BzLmluZGV4LFxuICAgICAgICAgIHNpZ25hbDogcHJvcHMuc2lnbmFsLFxuICAgICAgICAgIHJhc3RlclRpbGVTZXJ2ZXJVcmxzOiBwcm9wcy5zdGFjLnJhc3RlclRpbGVTZXJ2ZXJVcmxzIHx8IFtdLFxuICAgICAgICAgIHJhc3RlclNlcnZlck1heFJldHJpZXM6IHByb3BzLnN0YWMucmFzdGVyU2VydmVyTWF4UmV0cmllcyxcbiAgICAgICAgICByYXN0ZXJTZXJ2ZXJSZXRyeURlbGF5OiBwcm9wcy5zdGFjLnJhc3RlclNlcnZlclJldHJ5RGVsYXksXG4gICAgICAgICAgcmFzdGVyU2VydmVyU2VydmVyRXJyb3JzVG9SZXRyeTogcHJvcHMuc3RhYy5yYXN0ZXJTZXJ2ZXJTZXJ2ZXJFcnJvcnNUb1JldHJ5LFxuICAgICAgICAgIHJhc3RlclNlcnZlck1heFBlclNlcnZlclJlcXVlc3RzOiBwcm9wcy5zdGFjLnJhc3RlclNlcnZlck1heFBlclNlcnZlclJlcXVlc3RzXG4gICAgICAgIH0pKTtcbiAgICAgIHJldHVybiB7aW1hZ2VzOiBudWxsLCAuLi4odGVycmFpbiA/IHt0ZXJyYWlufSA6IHt9KX07XG4gICAgfVxuXG4gICAgdGlsZXNCZWluZ0xvYWRlZCsrO1xuXG4gICAgLy8gV3JhcCBsb2FkaW5nIGltYWdlcyBpbnRvIGEgdHJ5L2NhdGNoIGJlY2F1c2UgdGlsZXMgdGhhdCBhcmUgb25seSBicmllZmx5IGluIHZpZXcgd2lsbCBiZVxuICAgIC8vIGFib3J0ZWQuIFRoZSBgQWJvcnRDb250cm9sbGVyLmFib3J0KClgIGNyZWF0ZXMgYSBET01FeGNlcHRpb24gZXJyb3IuXG4gICAgLy8gTm90ZSB0aGF0IHNpbmNlIGxvYWRpbmcgaXMgYXN5bmMsIHRyeS9jYXRjaCB3aWxsIG9ubHkgd29yayB3aGVuIGF3YWl0ZWQgaW5zaWRlIHRoZSB0cnkgYmxvY2tcbiAgICB0cnkge1xuICAgICAgY29uc3QgW2ltYWdlcywgdGVycmFpbl0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGxvYWRJbWFnZXMoYXNzZXRSZXF1ZXN0cywgcHJvcHMuY29sb3JtYXBJZCwge1xuICAgICAgICAgIGNvbG9yTWFwOiBwcm9wcy5jYXRlZ29yaWNhbENvbG9yTWFwLFxuICAgICAgICAgIG1pblZhbHVlOiBwcm9wcy5taW5DYXRlZ29yaWNhbEJhbmRWYWx1ZSxcbiAgICAgICAgICBtYXhWYWx1ZTogcHJvcHMubWF4Q2F0ZWdvcmljYWxCYW5kVmFsdWVcbiAgICAgICAgfSksXG4gICAgICAgIHNob3VsZExvYWRUZXJyYWluICYmIExPQURfRUxFVkFUSU9OX0FGVEVSX1pPT00gPCB6b29tXG4gICAgICAgICAgPyBsb2FkVGVycmFpbih7XG4gICAgICAgICAgICAgIGJvdW5kc0Zvckdlb21ldHJ5OiBbd2VzdCwgbm9ydGgsIGVhc3QsIHNvdXRoXSxcbiAgICAgICAgICAgICAgaW5kZXg6IHByb3BzLmluZGV4LFxuICAgICAgICAgICAgICBzaWduYWw6IHByb3BzLnNpZ25hbCxcbiAgICAgICAgICAgICAgcmFzdGVyVGlsZVNlcnZlclVybHM6IHByb3BzLnN0YWMucmFzdGVyVGlsZVNlcnZlclVybHMgfHwgW10sXG4gICAgICAgICAgICAgIHJhc3RlclNlcnZlck1heFJldHJpZXM6IHByb3BzLnN0YWMucmFzdGVyU2VydmVyTWF4UmV0cmllcyxcbiAgICAgICAgICAgICAgcmFzdGVyU2VydmVyUmV0cnlEZWxheTogcHJvcHMuc3RhYy5yYXN0ZXJTZXJ2ZXJSZXRyeURlbGF5LFxuICAgICAgICAgICAgICByYXN0ZXJTZXJ2ZXJTZXJ2ZXJFcnJvcnNUb1JldHJ5OiBwcm9wcy5zdGFjLnJhc3RlclNlcnZlclNlcnZlckVycm9yc1RvUmV0cnksXG4gICAgICAgICAgICAgIHJhc3RlclNlcnZlck1heFBlclNlcnZlclJlcXVlc3RzOiBwcm9wcy5zdGFjLnJhc3RlclNlcnZlck1heFBlclNlcnZlclJlcXVlc3RzXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogbnVsbFxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IFttaW4sIG1heF0gPSB0aGlzLmdldE1pbk1heFBpeGVsVmFsdWVzKGltYWdlcy5pbWFnZUJhbmRzKTtcbiAgICAgIHRpbGVzQmVpbmdMb2FkZWQtLTtcblxuICAgICAgLy8gQWRkIHRlcnJhaW4gZGF0YSBvbmx5IGlmIHdlIHJlcXVlc3RlZCBpdCBhYm92ZVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW1hZ2VzLFxuICAgICAgICAuLi4odGVycmFpbiA/IHt0ZXJyYWlufSA6IHt9KSxcbiAgICAgICAgbWluUGl4ZWxWYWx1ZTogbWluLFxuICAgICAgICBtYXhQaXhlbFZhbHVlOiBtYXhcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRpbGVzQmVpbmdMb2FkZWQtLTtcbiAgICAgIGlmICgoZXJyb3IgYXMgYW55KS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgLy8gdGlsZSB3YXMgYWJvcnRlZFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gU29tZSBvdGhlciB1bmhhbmRsZWQgZXJyb3JcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFRpbGVEYXRhUE1UaWxlcyhcbiAgICBwcm9wczogR2V0VGlsZURhdGFEZWZhdWx0UHJvcHMgJiB7XG4gICAgICBzaG91bGRMb2FkVGVycmFpbjogYm9vbGVhbjtcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIHJhc3RlclRpbGVTZXJ2ZXJVcmxzOiBzdHJpbmdbXTtcbiAgICAgICAgcmFzdGVyU2VydmVyTWF4UmV0cmllcz86IG51bWJlcjtcbiAgICAgICAgcmFzdGVyU2VydmVyUmV0cnlEZWxheT86IG51bWJlcjtcbiAgICAgICAgcmFzdGVyU2VydmVyU2VydmVyRXJyb3JzVG9SZXRyeT86IG51bWJlcltdO1xuICAgICAgICByYXN0ZXJTZXJ2ZXJNYXhQZXJTZXJ2ZXJSZXF1ZXN0cz86IG51bWJlcjtcbiAgICAgIH07XG4gICAgICBnbG9iYWxCb3VuZHM6IERhdGFTb3VyY2VQYXJhbXNbJ2dsb2JhbEJvdW5kcyddO1xuICAgIH0sXG4gICAgdGlsZVNvdXJjZVxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNob3VsZExvYWRUZXJyYWluLFxuICAgICAgZ2xvYmFsQm91bmRzLFxuICAgICAgYmJveDoge3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aH0sXG4gICAgICBpbmRleDoge3o6IHpvb219LFxuICAgICAgbWV0YWRhdGFcbiAgICB9ID0gcHJvcHM7XG5cbiAgICBpZiAoZ2xvYmFsQm91bmRzICYmICFiYm94SW50ZXJzZWN0cyhnbG9iYWxCb3VuZHMsIFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdKSkge1xuICAgICAgLy8gdGlsZSBpcyBvdXRzaWRlIG9mIFNUQUMgb2JqZWN0J3MgYm91bmRpbmcgYm94OyBkb24ndCBmZXRjaCB0aWxlXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0aWxlc0JlaW5nTG9hZGVkKys7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgW2ltYWdlXSA9IGF3YWl0IFByb21pc2UuYWxsKFt0aWxlU291cmNlLmdldFRpbGVEYXRhKHByb3BzKV0pO1xuICAgICAgLy8gRm9yIG53byBjaGVjayBpZiB0aGUgYmFzZSB0aWxlIGV4aXN0cywgYXMgdGhpcyBjYW4gY2F1c2UgbG9hZGluZyB0byBnZXQgc3R1Y2sgd2l0aCBcInNwYXJzZVwiIFBNVGlsZXMuXG4gICAgICBjb25zdCB0ZXJyYWluID1cbiAgICAgICAgaW1hZ2UgJiYgc2hvdWxkTG9hZFRlcnJhaW4gJiYgTE9BRF9FTEVWQVRJT05fQUZURVJfWk9PTSA8IHpvb21cbiAgICAgICAgICA/IGF3YWl0IGxvYWRUZXJyYWluKHtcbiAgICAgICAgICAgICAgYm91bmRzRm9yR2VvbWV0cnk6IFt3ZXN0LCBub3J0aCwgZWFzdCwgc291dGhdLFxuICAgICAgICAgICAgICBpbmRleDogcHJvcHMuaW5kZXgsXG4gICAgICAgICAgICAgIHNpZ25hbDogcHJvcHMuc2lnbmFsLFxuICAgICAgICAgICAgICByYXN0ZXJUaWxlU2VydmVyVXJsczogbWV0YWRhdGEucmFzdGVyVGlsZVNlcnZlclVybHMsXG4gICAgICAgICAgICAgIHJhc3RlclNlcnZlck1heFJldHJpZXM6IG1ldGFkYXRhLnJhc3RlclNlcnZlck1heFJldHJpZXMsXG4gICAgICAgICAgICAgIHJhc3RlclNlcnZlclJldHJ5RGVsYXk6IG1ldGFkYXRhLnJhc3RlclNlcnZlclJldHJ5RGVsYXksXG4gICAgICAgICAgICAgIHJhc3RlclNlcnZlclNlcnZlckVycm9yc1RvUmV0cnk6IG1ldGFkYXRhLnJhc3RlclNlcnZlclNlcnZlckVycm9yc1RvUmV0cnksXG4gICAgICAgICAgICAgIHJhc3RlclNlcnZlck1heFBlclNlcnZlclJlcXVlc3RzOiBtZXRhZGF0YS5yYXN0ZXJTZXJ2ZXJNYXhQZXJTZXJ2ZXJSZXF1ZXN0c1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IG51bGw7XG5cbiAgICAgIGxldCBtaW5QaXhlbFZhbHVlOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICAgIGxldCBtYXhQaXhlbFZhbHVlOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICBjb25zdCBbbWluLCBtYXhdID0gdGhpcy5nZXRNaW5NYXhQaXhlbFZhbHVlcyhbe2RhdGE6IGltYWdlfV0pO1xuICAgICAgICBtaW5QaXhlbFZhbHVlID0gbWluO1xuICAgICAgICBtYXhQaXhlbFZhbHVlID0gbWF4O1xuICAgICAgfVxuICAgICAgdGlsZXNCZWluZ0xvYWRlZC0tO1xuXG4gICAgICAvLyBBZGQgdGVycmFpbiBkYXRhIG9ubHkgaWYgd2UgcmVxdWVzdGVkIGl0IGFib3ZlXG4gICAgICByZXR1cm4ge2ltYWdlLCBtaW5QaXhlbFZhbHVlLCBtYXhQaXhlbFZhbHVlLCAuLi4odGVycmFpbiA/IHt0ZXJyYWlufSA6IHt9KX07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRpbGVzQmVpbmdMb2FkZWQtLTtcblxuICAgICAgaWYgKChlcnJvciBhcyBFcnJvcikubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIC8vIHRpbGUgd2FzIGFib3J0ZWRcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNvbWUgb3RoZXIgdW5oYW5kbGVkIGVycm9yXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyU3ViTGF5ZXJzU3RhYyhwcm9wczogUmVuZGVyU3ViTGF5ZXJzUHJvcHMpOiBEZWNrTGF5ZXI8YW55PiB8IERlY2tMYXllcjxhbnk+W10ge1xuICBjb25zdCB7XG4gICAgdGlsZSxcbiAgICBkYXRhLFxuICAgIG1pblBpeGVsVmFsdWU6IGdsb2JhbE1pblBpeGVsVmFsdWUsXG4gICAgbWF4UGl4ZWxWYWx1ZTogZ2xvYmFsTWF4UGl4ZWxWYWx1ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGJib3ggPSB0aWxlLmJib3ggYXMgR2VvQm91bmRpbmdCb3g7XG4gIGNvbnN0IHt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGh9ID0gYmJveDtcblxuICBpZiAoIWRhdGEpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCB7XG4gICAgaW1hZ2VzLFxuICAgIHRlcnJhaW4sXG4gICAgbWluUGl4ZWxWYWx1ZTogdGlsZU1pblBpeGVsVmFsdWUsXG4gICAgbWF4UGl4ZWxWYWx1ZTogdGlsZU1heFBpeGVsVmFsdWVcbiAgfSA9IGRhdGE7XG4gIGlmICghaW1hZ2VzIHx8IChBcnJheS5pc0FycmF5KGltYWdlcykgJiYgaW1hZ2VzLmxlbmd0aCA9PT0gMCkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCBtaW5QaXhlbFZhbHVlID0gTnVtYmVyLmlzRmluaXRlKGdsb2JhbE1pblBpeGVsVmFsdWUpXG4gICAgPyBnbG9iYWxNaW5QaXhlbFZhbHVlXG4gICAgOiB0aWxlTWluUGl4ZWxWYWx1ZTtcbiAgY29uc3QgbWF4UGl4ZWxWYWx1ZSA9IE51bWJlci5pc0Zpbml0ZShnbG9iYWxNYXhQaXhlbFZhbHVlKVxuICAgID8gZ2xvYmFsTWF4UGl4ZWxWYWx1ZVxuICAgIDogdGlsZU1heFBpeGVsVmFsdWU7XG4gIGlmICh0eXBlb2YgbWluUGl4ZWxWYWx1ZSAhPT0gJ251bWJlcicgfHwgdHlwZW9mIG1heFBpeGVsVmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3Qge21vZHVsZXMsIG1vZHVsZVByb3BzfSA9IGdldE1vZHVsZXMoe1xuICAgIGltYWdlcyxcbiAgICBwcm9wczogey4uLnByb3BzLCBtaW5QaXhlbFZhbHVlLCBtYXhQaXhlbFZhbHVlfVxuICB9KTtcblxuICBjb25zdCBpZFN1ZmZpeCA9IHByb3BzLmhhc1NoYWRvd0VmZmVjdCA/ICdzaGFkb3cnIDogJyc7XG5cbiAgcmV0dXJuIHRlcnJhaW5cbiAgICA/IG5ldyBSYXN0ZXJNZXNoTGF5ZXIocHJvcHMsIHtcbiAgICAgICAgaWQ6IGByYXN0ZXItM2QtbGF5ZXItJHtwcm9wcy5pZH0tJHtpZFN1ZmZpeH1gLFxuICAgICAgICAvLyBEdW1teSBkYXRhXG4gICAgICAgIGRhdGE6IFsxXSxcbiAgICAgICAgbWVzaDogdGVycmFpbixcbiAgICAgICAgaW1hZ2VzLFxuICAgICAgICBtb2R1bGVzLFxuICAgICAgICBtb2R1bGVQcm9wcyxcblxuICAgICAgICBnZXRQb2x5Z29uT2Zmc2V0OiBudWxsLFxuICAgICAgICBjb29yZGluYXRlU3lzdGVtOiBDT09SRElOQVRFX1NZU1RFTS5MTkdMQVQsXG4gICAgICAgIC8vIENvbG9yIHRvIHVzZSBpZiBzdXJmYWNlSW1hZ2UgaXMgdW5hdmFpbGFibGVcbiAgICAgICAgZ2V0Q29sb3I6IFsyNTUsIDI1NSwgMjU1XVxuICAgICAgICAvLyBtYXRlcmlhbDogZmFsc2VcbiAgICAgIH0pXG4gICAgOiBuZXcgUmFzdGVyTGF5ZXIocHJvcHMsIHtcbiAgICAgICAgaWQ6IGByYXN0ZXItMmQtbGF5ZXItJHtwcm9wcy5pZH0tJHtpZFN1ZmZpeH1gLFxuICAgICAgICBpbWFnZXMsXG4gICAgICAgIG1vZHVsZXMsXG4gICAgICAgIG1vZHVsZVByb3BzLFxuICAgICAgICBib3VuZHM6IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdLFxuICAgICAgICBfaW1hZ2VDb29yZGluYXRlU3lzdGVtOiBDT09SRElOQVRFX1NZU1RFTS5DQVJURVNJQU5cbiAgICAgIH0pO1xufVxuXG5mdW5jdGlvbiByZW5kZXJTdWJMYXllcnNQTVRpbGVzKHByb3BzOiB7XG4gIGlkOiBzdHJpbmc7XG4gIGRhdGE6IGFueTtcbiAgdGlsZVNvdXJjZTogYW55O1xuICBzaG93VGlsZUJvcmRlcnM6IGFueTtcbiAgbWluWm9vbTogYW55O1xuICBtYXhab29tOiBhbnk7XG4gIHRpbGU6IGFueTtcbn0pIHtcbiAgY29uc3Qge1xuICAgIHRpbGVTb3VyY2UsXG4gICAgc2hvd1RpbGVCb3JkZXJzLFxuICAgIG1pblpvb20sXG4gICAgbWF4Wm9vbSxcbiAgICB0aWxlOiB7XG4gICAgICBpbmRleDoge3o6IHpvb219LFxuICAgICAgYmJveDoge3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aH1cbiAgICB9XG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBsYXllcnM6IGFueVtdID0gW107XG5cbiAgaWYgKHByb3BzLmRhdGE/LmltYWdlKSB7XG4gICAgc3dpdGNoICh0aWxlU291cmNlLm1pbWVUeXBlKSB7XG4gICAgICBjYXNlICdpbWFnZS9wbmcnOlxuICAgICAgY2FzZSAnaW1hZ2UvanBlZyc6XG4gICAgICBjYXNlICdpbWFnZS93ZWJwJzpcbiAgICAgIGNhc2UgJ2ltYWdlL2F2aWYnOlxuICAgICAgICBsYXllcnMucHVzaChnZXRSYXN0ZXJMYXllclBNVGlsZXMocHJvcHMpKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIERlYnVnIHRpbGUgYm9yZGVyc1xuICBjb25zdCBib3JkZXJDb2xvciA9IHpvb20gPD0gbWluWm9vbSB8fCB6b29tID49IG1heFpvb20gPyBbMjU1LCAwLCAwLCAyNTVdIDogWzAsIDAsIDI1NSwgMjU1XTtcbiAgaWYgKHNob3dUaWxlQm9yZGVycykge1xuICAgIGxheWVycy5wdXNoKFxuICAgICAgbmV3IFBhdGhMYXllcih7XG4gICAgICAgIGlkOiBgJHtwcm9wcy5pZH0tYm9yZGVyYCxcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIFtcbiAgICAgICAgICAgIFt3ZXN0LCBub3J0aF0sXG4gICAgICAgICAgICBbd2VzdCwgc291dGhdLFxuICAgICAgICAgICAgW2Vhc3QsIHNvdXRoXSxcbiAgICAgICAgICAgIFtlYXN0LCBub3J0aF0sXG4gICAgICAgICAgICBbd2VzdCwgbm9ydGhdXG4gICAgICAgICAgXVxuICAgICAgICBdLFxuICAgICAgICBnZXRQYXRoOiBkID0+IGQsXG4gICAgICAgIGdldENvbG9yOiBib3JkZXJDb2xvciBhcyBhbnksXG4gICAgICAgIHdpZHRoTWluUGl4ZWxzOiA0XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbGF5ZXJzO1xufVxuXG5mdW5jdGlvbiBnZXRSYXN0ZXJMYXllclBNVGlsZXMocHJvcHM6IHtpZDogc3RyaW5nOyBkYXRhOiBhbnk7IHRpbGU6IGFueX0pIHtcbiAgY29uc3Qge3RpbGUsIGRhdGF9ID0gcHJvcHM7XG4gIGNvbnN0IGJib3ggPSB0aWxlLmJib3ggYXMgR2VvQm91bmRpbmdCb3g7XG4gIGNvbnN0IHt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGh9ID0gYmJveDtcblxuICBpZiAoIWRhdGE/LmltYWdlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgaW1hZ2VzID0ge2ltYWdlUmdiYToge2RhdGE6IGRhdGEuaW1hZ2V9fTtcbiAgY29uc3Qge3RlcnJhaW59ID0gZGF0YTtcblxuICBjb25zdCB7bW9kdWxlcywgbW9kdWxlUHJvcHN9ID0gZ2V0TW9kdWxlcyh7XG4gICAgaW1hZ2VzXG4gIH0pO1xuXG4gIHJldHVybiB0ZXJyYWluXG4gICAgPyBuZXcgUmFzdGVyTWVzaExheWVyKHByb3BzLCB7XG4gICAgICAgIGlkOiBgcmFzdGVyLTNkLWxheWVyLSR7cHJvcHMuaWR9YCxcbiAgICAgICAgLy8gRHVtbXkgZGF0YVxuICAgICAgICBkYXRhOiBbMV0sXG4gICAgICAgIG1lc2g6IHRlcnJhaW4sXG4gICAgICAgIGltYWdlcyxcbiAgICAgICAgbW9kdWxlcyxcbiAgICAgICAgbW9kdWxlUHJvcHMsXG5cbiAgICAgICAgZ2V0UG9seWdvbk9mZnNldDogbnVsbCxcbiAgICAgICAgY29vcmRpbmF0ZVN5c3RlbTogQ09PUkRJTkFURV9TWVNURU0uTE5HTEFULFxuICAgICAgICAvLyBDb2xvciB0byB1c2UgaWYgc3VyZmFjZUltYWdlIGlzIHVuYXZhaWxhYmxlXG4gICAgICAgIGdldENvbG9yOiBbMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgLy8gbWF0ZXJpYWw6IGZhbHNlXG4gICAgICB9KVxuICAgIDogbmV3IFJhc3RlckxheWVyKHByb3BzLCB7XG4gICAgICAgIGlkOiBgcmFzdGVyLTJkLWxheWVyLSR7cHJvcHMuaWR9YCxcbiAgICAgICAgZGF0YTogbnVsbCBhcyBuZXZlcixcbiAgICAgICAgaW1hZ2VzLFxuICAgICAgICBtb2R1bGVzLFxuICAgICAgICBtb2R1bGVQcm9wcyxcbiAgICAgICAgYm91bmRzOiBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSxcbiAgICAgICAgX2ltYWdlQ29vcmRpbmF0ZVN5c3RlbTogQ09PUkRJTkFURV9TWVNURU0uQ0FSVEVTSUFOXG4gICAgICB9KTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBRixPQUFBO0FBRUEsSUFBQUcsUUFBQSxHQUFBQyxzQkFBQSxDQUFBSixPQUFBO0FBRUEsSUFBQUssT0FBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sVUFBQSxHQUFBTixPQUFBO0FBQ0EsSUFBQU8sYUFBQSxHQUFBUCxPQUFBO0FBY0EsSUFBQVEsWUFBQSxHQUFBUixPQUFBO0FBRUEsSUFBQVMsTUFBQSxHQUFBVCxPQUFBO0FBRUEsSUFBQVUsT0FBQSxHQUFBVixPQUFBO0FBQ0EsSUFBQVcsU0FBQSxHQUFBWCxPQUFBO0FBQ0EsSUFBQVksTUFBQSxHQUFBWixPQUFBO0FBQ0EsSUFBQWEsZUFBQSxHQUFBVCxzQkFBQSxDQUFBSixPQUFBO0FBQ0EsSUFBQWMsZ0JBQUEsR0FBQWQsT0FBQTtBQTBCQSxJQUFBZSxVQUFBLEdBQUFYLHNCQUFBLENBQUFKLE9BQUE7QUFBNkUsU0FBQWdCLDJCQUFBQyxDQUFBLEVBQUFDLENBQUEsUUFBQUMsQ0FBQSx5QkFBQUMsTUFBQSxJQUFBSCxDQUFBLENBQUFHLE1BQUEsQ0FBQUMsUUFBQSxLQUFBSixDQUFBLHFCQUFBRSxDQUFBLFFBQUFHLEtBQUEsQ0FBQUMsT0FBQSxDQUFBTixDQUFBLE1BQUFFLENBQUEsR0FBQUssMkJBQUEsQ0FBQVAsQ0FBQSxNQUFBQyxDQUFBLElBQUFELENBQUEsdUJBQUFBLENBQUEsQ0FBQVEsTUFBQSxJQUFBTixDQUFB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