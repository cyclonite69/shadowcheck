"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.aiAssistantReducer = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _reduxActions = require("redux-actions");
var _actions = require("../actions");
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; } // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
// Initial state for the reducer
var initialConfig = {
  isReady: false,
  provider: 'openai',
  model: 'gpt-4o',
  apiKey: '',
  baseUrl: 'http://localhost:11434/api',
  temperature: 0.0,
  topP: 1.0
};
var initialState = {
  config: initialConfig,
  messages: [],
  screenshotToAsk: {
    startScreenCapture: false,
    screenCaptured: ''
  }
};
var aiAssistantReducer = exports.aiAssistantReducer = (0, _reduxActions.handleActions)((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])({}, _actions.UPDATE_AI_ASSISTANT_CONFIG, updateAiAssistantConfigHandler), _actions.UPDATE_AI_ASSISTANT_MESSAGES, updateAiAssistantMessagesHandler), _actions.SET_START_SCREEN_CAPTURE, setStartScreenCaptureHandler), _actions.SET_SCREEN_CAPTURED, setScreenCapturedHandler), _actions.SET_MAP_BOUNDARY, setMapBoundaryHandler), initialState);
function updateAiAssistantConfigHandler(state, action) {
  return _objectSpread(_objectSpread({}, state), {}, {
    config: _objectSpread(_objectSpread({}, state.config), action.payload)
  });
}
function updateAiAssistantMessagesHandler(state, action) {
  return _objectSpread(_objectSpread({}, state), {}, {
    messages: action.payload
  });
}
function setStartScreenCaptureHandler(state, action) {
  return _objectSpread(_objectSpread({}, state), {}, {
    screenshotToAsk: {
      startScreenCapture: action.payload,
      screenCaptured: ''
    }
  });
}
function setScreenCapturedHandler(state, action) {
  return _objectSpread(_objectSpread({}, state), {}, {
    screenshotToAsk: _objectSpread(_objectSpread({}, state.screenshotToAsk), {}, {
      screenCaptured: action.payload
    })
  });
}
function setMapBoundaryHandler(state, action) {
  return _objectSpread(_objectSpread({}, state), {}, {
    keplerGl: _objectSpread(_objectSpread({}, state.keplerGl), {}, {
      mapBoundary: action.payload
    })
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVkdXhBY3Rpb25zIiwicmVxdWlyZSIsIl9hY3Rpb25zIiwib3duS2V5cyIsImUiLCJyIiwidCIsIk9iamVjdCIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJvIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJpbml0aWFsQ29uZmlnIiwiaXNSZWFkeSIsInByb3ZpZGVyIiwibW9kZWwiLCJhcGlLZXkiLCJiYXNlVXJsIiwidGVtcGVyYXR1cmUiLCJ0b3BQIiwiaW5pdGlhbFN0YXRlIiwiY29uZmlnIiwibWVzc2FnZXMiLCJzY3JlZW5zaG90VG9Bc2siLCJzdGFydFNjcmVlbkNhcHR1cmUiLCJzY3JlZW5DYXB0dXJlZCIsImFpQXNzaXN0YW50UmVkdWNlciIsImV4cG9ydHMiLCJoYW5kbGVBY3Rpb25zIiwiVVBEQVRFX0FJX0FTU0lTVEFOVF9DT05GSUciLCJ1cGRhdGVBaUFzc2lzdGFudENvbmZpZ0hhbmRsZXIiLCJVUERBVEVfQUlfQVNTSVNUQU5UX01FU1NBR0VTIiwidXBkYXRlQWlBc3Npc3RhbnRNZXNzYWdlc0hhbmRsZXIiLCJTRVRfU1RBUlRfU0NSRUVOX0NBUFRVUkUiLCJzZXRTdGFydFNjcmVlbkNhcHR1cmVIYW5kbGVyIiwiU0VUX1NDUkVFTl9DQVBUVVJFRCIsInNldFNjcmVlbkNhcHR1cmVkSGFuZGxlciIsIlNFVF9NQVBfQk9VTkRBUlkiLCJzZXRNYXBCb3VuZGFyeUhhbmRsZXIiLCJzdGF0ZSIsImFjdGlvbiIsInBheWxvYWQiLCJrZXBsZXJHbCIsIm1hcEJvdW5kYXJ5Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FpLWFzc2lzdGFudC9zcmMvcmVkdWNlcnMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IGNvbnRyaWJ1dG9ycyB0byB0aGUga2VwbGVyLmdsIHByb2plY3RcblxuaW1wb3J0IHtBY3Rpb24sIGhhbmRsZUFjdGlvbnN9IGZyb20gJ3JlZHV4LWFjdGlvbnMnO1xuaW1wb3J0IHtcbiAgVVBEQVRFX0FJX0FTU0lTVEFOVF9DT05GSUcsXG4gIFVQREFURV9BSV9BU1NJU1RBTlRfTUVTU0FHRVMsXG4gIFNFVF9TVEFSVF9TQ1JFRU5fQ0FQVFVSRSxcbiAgU0VUX1NDUkVFTl9DQVBUVVJFRCxcbiAgU0VUX01BUF9CT1VOREFSWVxufSBmcm9tICcuLi9hY3Rpb25zJztcbmltcG9ydCB7TWVzc2FnZU1vZGVsfSBmcm9tICdAb3BlbmFzc2lzdGFudC9jb3JlJztcblxuZXhwb3J0IHR5cGUgQWlBc3Npc3RhbnRDb25maWcgPSB7XG4gIGlzUmVhZHk6IGJvb2xlYW47XG4gIHByb3ZpZGVyOiBzdHJpbmc7XG4gIG1vZGVsOiBzdHJpbmc7XG4gIGFwaUtleTogc3RyaW5nO1xuICBiYXNlVXJsPzogc3RyaW5nO1xuICB0ZW1wZXJhdHVyZTogbnVtYmVyO1xuICB0b3BQOiBudW1iZXI7XG4gIG1hcGJveFRva2VuPzogc3RyaW5nO1xufTtcblxuLy8gSW5pdGlhbCBzdGF0ZSBmb3IgdGhlIHJlZHVjZXJcbmNvbnN0IGluaXRpYWxDb25maWc6IEFpQXNzaXN0YW50Q29uZmlnID0ge1xuICBpc1JlYWR5OiBmYWxzZSxcbiAgcHJvdmlkZXI6ICdvcGVuYWknLFxuICBtb2RlbDogJ2dwdC00bycsXG4gIGFwaUtleTogJycsXG4gIGJhc2VVcmw6ICdodHRwOi8vbG9jYWxob3N0OjExNDM0L2FwaScsXG4gIHRlbXBlcmF0dXJlOiAwLjAsXG4gIHRvcFA6IDEuMFxufTtcblxuZXhwb3J0IHR5cGUgQWlBc3Npc3RhbnRTdGF0ZSA9IHtcbiAgY29uZmlnOiBBaUFzc2lzdGFudENvbmZpZztcbiAgbWVzc2FnZXM6IE1lc3NhZ2VNb2RlbFtdO1xuICBzY3JlZW5zaG90VG9Bc2s6IHtcbiAgICBzdGFydFNjcmVlbkNhcHR1cmU6IGJvb2xlYW47XG4gICAgc2NyZWVuQ2FwdHVyZWQ6IHN0cmluZztcbiAgfTtcbiAga2VwbGVyR2w/OiB7XG4gICAgbWFwQm91bmRhcnk/OiB7XG4gICAgICBudzogW251bWJlciwgbnVtYmVyXTtcbiAgICAgIHNlOiBbbnVtYmVyLCBudW1iZXJdO1xuICAgIH07XG4gIH07XG59O1xuXG5jb25zdCBpbml0aWFsU3RhdGU6IEFpQXNzaXN0YW50U3RhdGUgPSB7XG4gIGNvbmZpZzogaW5pdGlhbENvbmZpZyxcbiAgbWVzc2FnZXM6IFtdLFxuICBzY3JlZW5zaG90VG9Bc2s6IHtcbiAgICBzdGFydFNjcmVlbkNhcHR1cmU6IGZhbHNlLFxuICAgIHNjcmVlbkNhcHR1cmVkOiAnJ1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYWlBc3Npc3RhbnRSZWR1Y2VyID0gaGFuZGxlQWN0aW9uczxBaUFzc2lzdGFudFN0YXRlLCBhbnk+KFxuICB7XG4gICAgW1VQREFURV9BSV9BU1NJU1RBTlRfQ09ORklHXTogdXBkYXRlQWlBc3Npc3RhbnRDb25maWdIYW5kbGVyLFxuICAgIFtVUERBVEVfQUlfQVNTSVNUQU5UX01FU1NBR0VTXTogdXBkYXRlQWlBc3Npc3RhbnRNZXNzYWdlc0hhbmRsZXIsXG4gICAgW1NFVF9TVEFSVF9TQ1JFRU5fQ0FQVFVSRV06IHNldFN0YXJ0U2NyZWVuQ2FwdHVyZUhhbmRsZXIsXG4gICAgW1NFVF9TQ1JFRU5fQ0FQVFVSRURdOiBzZXRTY3JlZW5DYXB0dXJlZEhhbmRsZXIsXG4gICAgW1NFVF9NQVBfQk9VTkRBUlldOiBzZXRNYXBCb3VuZGFyeUhhbmRsZXJcbiAgfSxcbiAgaW5pdGlhbFN0YXRlXG4pO1xuXG5mdW5jdGlvbiB1cGRhdGVBaUFzc2lzdGFudENvbmZpZ0hhbmRsZXIoXG4gIHN0YXRlOiBBaUFzc2lzdGFudFN0YXRlLFxuICBhY3Rpb246IEFjdGlvbjxBaUFzc2lzdGFudENvbmZpZz5cbikge1xuICByZXR1cm4ge1xuICAgIC4uLnN0YXRlLFxuICAgIGNvbmZpZzogey4uLnN0YXRlLmNvbmZpZywgLi4uYWN0aW9uLnBheWxvYWR9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUFpQXNzaXN0YW50TWVzc2FnZXNIYW5kbGVyKHN0YXRlOiBBaUFzc2lzdGFudFN0YXRlLCBhY3Rpb246IEFjdGlvbjxNZXNzYWdlTW9kZWxbXT4pIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5zdGF0ZSxcbiAgICBtZXNzYWdlczogYWN0aW9uLnBheWxvYWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2V0U3RhcnRTY3JlZW5DYXB0dXJlSGFuZGxlcihzdGF0ZTogQWlBc3Npc3RhbnRTdGF0ZSwgYWN0aW9uOiBBY3Rpb248Ym9vbGVhbj4pIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5zdGF0ZSxcbiAgICBzY3JlZW5zaG90VG9Bc2s6IHtzdGFydFNjcmVlbkNhcHR1cmU6IGFjdGlvbi5wYXlsb2FkLCBzY3JlZW5DYXB0dXJlZDogJyd9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNldFNjcmVlbkNhcHR1cmVkSGFuZGxlcihzdGF0ZTogQWlBc3Npc3RhbnRTdGF0ZSwgYWN0aW9uOiBBY3Rpb248c3RyaW5nPikge1xuICByZXR1cm4ge1xuICAgIC4uLnN0YXRlLFxuICAgIHNjcmVlbnNob3RUb0Fzazogey4uLnN0YXRlLnNjcmVlbnNob3RUb0Fzaywgc2NyZWVuQ2FwdHVyZWQ6IGFjdGlvbi5wYXlsb2FkfVxuICB9O1xufVxuXG5mdW5jdGlvbiBzZXRNYXBCb3VuZGFyeUhhbmRsZXIoXG4gIHN0YXRlOiBBaUFzc2lzdGFudFN0YXRlLFxuICBhY3Rpb246IEFjdGlvbjx7bnc6IFtudW1iZXIsIG51bWJlcl07IHNlOiBbbnVtYmVyLCBudW1iZXJdfT5cbikge1xuICByZXR1cm4ge1xuICAgIC4uLnN0YXRlLFxuICAgIGtlcGxlckdsOiB7XG4gICAgICAuLi5zdGF0ZS5rZXBsZXJHbCxcbiAgICAgIG1hcEJvdW5kYXJ5OiBhY3Rpb24ucGF5bG9hZFxuICAgIH1cbiAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHQSxJQUFBQSxhQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxRQUFBLEdBQUFELE9BQUE7QUFNb0IsU0FBQUUsUUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFFBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxJQUFBLENBQUFKLENBQUEsT0FBQUcsTUFBQSxDQUFBRSxxQkFBQSxRQUFBQyxDQUFBLEdBQUFILE1BQUEsQ0FBQUUscUJBQUEsQ0FBQUwsQ0FBQSxHQUFBQyxDQUFBLEtBQUFLLENBQUEsR0FBQUEsQ0FBQSxDQUFBQyxNQUFBLFdBQUFOLENBQUEsV0FBQUUsTUFBQSxDQUFBSyx3QkFBQSxDQUFBUixDQUFBLEVBQUFDLENBQUEsRUFBQVEsVUFBQSxPQUFBUCxDQUFBLENBQUFRLElBQUEsQ0FBQUMsS0FBQSxDQUFBVCxDQUFBLEVBQUFJLENBQUEsWUFBQUosQ0FBQTtBQUFBLFNBQUFVLGNBQUFaLENBQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFZLFNBQUEsQ0FBQUMsTUFBQSxFQUFBYixDQUFBLFVBQUFDLENBQUEsV0FBQVcsU0FBQSxDQUFBWixDQUFBLElBQUFZLFNBQUEsQ0FBQVosQ0FBQSxRQUFBQSxDQUFBLE9BQUFGLE9BQUEsQ0FBQUksTUFBQSxDQUFBRCxDQUFBLE9BQUFhLE9BQUEsV0FBQWQsQ0FBQSxRQUFBZSxnQkFBQSxhQUFBaEIsQ0FBQSxFQUFBQyxDQUFBLEVBQUFDLENBQUEsQ0FBQUQsQ0FBQSxTQUFBRSxNQUFBLENBQUFjLHlCQUFBLEdBQUFkLE1BQUEsQ0FBQWUsZ0JBQUEsQ0FBQWxCLENBQUEsRUFBQUcsTUFBQSxDQUFBYyx5QkFBQSxDQUFBZixDQUFBLEtBQUFILE9BQUEsQ0FBQUksTUFBQSxDQUFBRCxDQUFBLEdBQUFhLE9BQUEsV0FBQWQsQ0FBQSxJQUFBRSxNQUFBLENBQUFnQixjQUFB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