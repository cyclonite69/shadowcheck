"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = PlotContainerFactory;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireWildcard(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/react"));
var _reselect = require("reselect");
var _styledComponents = _interopRequireDefault(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/styled-components"));
var _reactMapGl = require("react-map-gl");
var _debounce = _interopRequireDefault(require("lodash/debounce"));
var _utils = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/utils/src");
var _reducers = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/reducers/src");
var _mapContainer = _interopRequireDefault(require("./map-container"));
var _mapsLayout = _interopRequireDefault(require("./maps-layout"));
var _mapViewStateContext = require("./map-view-state-context");
var _constants = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/constants/src");
var _templateObject, _templateObject2; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
// libraries
function _getRequireWildcardCache(e) {
  if ("function" != typeof WeakMap) return null;
  var r = new WeakMap(),
    t = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {
    return e ? t : r;
  })(e);
}
function _interopRequireWildcard(e, r) {
  if (!r && e && e.__esModule) return e;
  if (null === e || "object" != _typeof(e) && "function" != typeof e) return {
    "default": e
  };
  var t = _getRequireWildcardCache(r);
  if (t && t.has(e)) return t.get(e);
  var n = {
      __proto__: null
    },
    a = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) {
    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];
  }
  return n["default"] = e, t && t.set(e, n), n;
}
function ownKeys(e, r) {
  var t = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e);
    r && (o = o.filter(function (r) {
      return Object.getOwnPropertyDescriptor(e, r).enumerable;
    })), t.push.apply(t, o);
  }
  return t;
}
function _objectSpread(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {
      (0, _defineProperty2["default"])(e, r, t[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));
    });
  }
  return e;
}
function _callSuper(t, o, e) {
  return o = (0, _getPrototypeOf2["default"])(o), (0, _possibleConstructorReturn2["default"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2["default"])(t).constructor) : o.apply(t, e));
}
function _isNativeReflectConstruct() {
  try {
    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch (t) {}
  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {
    return !!t;
  })();
}
var CLASS_FILTER = ['maplibregl-control-container', 'mapboxgl-control-container', 'attrition-link', 'attrition-logo', 'map-control__panel-split-viewport-tools'];
var DOM_FILTER_FUNC = function DOM_FILTER_FUNC(node) {
  return !CLASS_FILTER.includes(node.className);
};
var OUT_OF_SCREEN_POSITION = -9999;
PlotContainerFactory.deps = [_mapContainer["default"], _mapsLayout["default"]];

// Remove mapbox logo in exported map, because it contains non-ascii characters
// Remove split viewport UI controls from exported images when the legend is shown
var StyledPlotContainer = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  .maplibregl-ctrl-bottom-left,\n  .maplibregl-ctrl-bottom-right,\n  .maplibre-attribution-container,\n  .mapboxgl-ctrl-bottom-left,\n  .mapboxgl-ctrl-bottom-right,\n  .mapbox-attribution-container,\n  .map-control__panel-split-viewport-tools {\n    display: none;\n  }\n\n  position: absolute;\n  top: ", "px;\n  left: ", "px;\n"])), OUT_OF_SCREEN_POSITION, OUT_OF_SCREEN_POSITION);
var StyledMapContainer = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  width: ", "px;\n  height: ", "px;\n  display: flex;\n"])), function (props) {
  return props.width;
}, function (props) {
  return props.height;
});
function PlotContainerFactory(MapContainer, MapsLayout) {
  var PlotContainer = /*#__PURE__*/function (_Component) {
    function PlotContainer(_props) {
      var _this;
      (0, _classCallCheck2["default"])(this, PlotContainer);
      _this = _callSuper(this, PlotContainer, [_props]);
      (0, _defineProperty2["default"])(_this, "plottingAreaRef", /*#__PURE__*/(0, _react.createRef)());
      (0, _defineProperty2["default"])(_this, "mapStyleSelector", function (props) {
        return props.mapFields.mapStyle;
      });
      (0, _defineProperty2["default"])(_this, "mapScaleSelector", function (props) {
        var imageSize = props.exportImageSetting.imageSize;
        var mapState = props.mapFields.mapState;
        if (imageSize.scale) {
          return imageSize.scale;
        }
        var scale = (0, _utils.getScaleFromImageSize)(imageSize.imageW, imageSize.imageH, mapState.width * (mapState.isSplit ? 2 : 1), mapState.height);
        return scale > 0 ? scale : 1;
      });
      (0, _defineProperty2["default"])(_this, "scaledMapStyleSelector", (0, _reselect.createSelector)(_this.mapStyleSelector, _this.mapScaleSelector, function (mapStyle, scale) {
        return _objectSpread(_objectSpread({}, mapStyle), {}, {
          bottomMapStyle: (0, _utils.scaleMapStyleByResolution)(mapStyle.bottomMapStyle, scale),
          topMapStyle: (0, _utils.scaleMapStyleByResolution)(mapStyle.topMapStyle, scale)
        });
      }));
      (0, _defineProperty2["default"])(_this, "_onMapRender", function (map) {
        if (map.isStyleLoaded()) {
          _this._retrieveNewScreenshot();
        }
      });
      (0, _defineProperty2["default"])(_this, "_retrieveNewScreenshot", function () {
        if (_this.plottingAreaRef.current) {
          var _this$props$exportIma = _this.props.exportImageSetting,
            imageSize = _this$props$exportIma.imageSize,
            escapeXhtmlForWebpack = _this$props$exportIma.escapeXhtmlForWebpack;
          (0, _utils.convertToPng)(_this.plottingAreaRef.current, {
            filter: DOM_FILTER_FUNC,
            width: imageSize.imageW,
            height: imageSize.imageH,
            escapeXhtmlForWebpack: escapeXhtmlForWebpack
          }).then(_this.props.setExportImageDataUri)["catch"](function (err) {
            _this.props.setExportImageError(err);
            if (_this.props.enableErrorNotification) {
              _this.props.addNotification((0, _utils.exportImageError)({
                err: err
              }));
            }
          });
        }
      });
      _this._onMapRender = (0, _debounce["default"])(_this._onMapRender, 500);
      _this._retrieveNewScreenshot = (0, _debounce["default"])(_this._retrieveNewScreenshot, 500);
      _this.state = {
        plotEffects: _this.getEffectsForPlot()
      };
      return _this;
    }
    (0, _inherits2["default"])(PlotContainer, _Component);
    return (0, _createClass2["default"])(PlotContainer, [{
      key: "getEffectsForPlot",
      value: function getEffectsForPlot() {
        return this.props.mapFields.visState.effects.map(function (effect) {
          return effect.clone();
        });
      }
    }, {
      key: "componentDidMount",
      value: function componentDidMount() {
        this.props.setExportImageSetting({
          processing: true
        });
      }
    }, {
      key: "componentDidUpdate",
      value: function componentDidUpdate(prevProps) {
        var _this2 = this;
        // re-fetch the new screenshot only when ratio legend or resolution changes
        var checks = ['ratio', 'resolution', 'legend'];
        var shouldRetrieveScreenshot = checks.some(function (item) {
          return _this2.props.exportImageSetting[item] !== prevProps.exportImageSetting[item];
        });
        if (shouldRetrieveScreenshot) {
          this.props.setExportImageSetting({
            processing: true
          });
          this._retrieveNewScreenshot();
        }
      }
    }, {
      key: "render",
      value: function render() {
        var _this$props = this.props,
          exportImageSetting = _this$props.exportImageSetting,
          mapFields = _this$props.mapFields,
          _this$props$splitMaps = _this$props.splitMaps,
          splitMaps = _this$props$splitMaps === void 0 ? [] : _this$props$splitMaps;
        var mapState = mapFields.mapState,
          visState = mapFields.visState;
        var layers = visState.layers,
          layerData = visState.layerData;
        var imageSize = exportImageSetting.imageSize,
          legend = exportImageSetting.legend;
        var isSplit = splitMaps && splitMaps.length > 1;
        var size = {
          width: (imageSize === null || imageSize === void 0 ? void 0 : imageSize.imageW) || 1,
          height: (imageSize === null || imageSize === void 0 ? void 0 : imageSize.imageH) || 1
        };
        var width = size.width / (isSplit ? 2 : 1);
        var height = size.height;
        var scale = this.mapScaleSelector(this.props);
        var newMapState = _objectSpread(_objectSpread({}, mapState), {}, {
          width: width,
          height: height,
          zoom: mapState.zoom + (Math.log2(scale) || 0)
        });

        // center and all layer bounds
        if (exportImageSetting.center) {
          var renderedLayers = layers.filter(function (layer, idx) {
            return layer.id !== _constants.GEOCODER_LAYER_ID && layer.shouldRenderLayer(layerData[idx]);
          });
          var bounds = (0, _reducers.findMapBounds)(renderedLayers);
          var centerAndZoom = (0, _utils.getCenterAndZoomFromBounds)(bounds, {
            width: width,
            height: height
          });
          if (centerAndZoom) {
            var zoom = Number.isFinite(centerAndZoom.zoom) ? centerAndZoom.zoom : mapState.zoom;
            newMapState.longitude = centerAndZoom.center[0];
            newMapState.latitude = centerAndZoom.center[1];
            newMapState.zoom = zoom + Number(Math.log2(scale) || 0);
          }
        }
        var mapProps = _objectSpread(_objectSpread({}, mapFields), {}, {
          mapStyle: this.scaledMapStyleSelector(this.props),
          // override viewport based on export settings
          mapState: newMapState,
          mapControls: {
            // override map legend visibility
            mapLegend: {
              show: legend,
              active: true
            }
          },
          MapComponent: _reactMapGl.Map,
          onMapRender: this._onMapRender,
          isExport: true,
          deckGlProps: _objectSpread(_objectSpread({}, mapFields.deckGlProps), {}, {
            glOptions: {
              preserveDrawingBuffer: true,
              useDevicePixels: false
            }
          }),
          visState: _objectSpread(_objectSpread({}, mapFields.visState), {}, {
            // Make sure to use effects not associated with a different WebGL context
            effects: this.state.plotEffects
          })
        });
        var mapContainers = !isSplit ? /*#__PURE__*/_react["default"].createElement(MapContainer, (0, _extends2["default"])({
          index: 0,
          primary: true
        }, mapProps)) : /*#__PURE__*/_react["default"].createElement(MapsLayout, {
          className: "plot-container-maps",
          mapState: newMapState
        }, splitMaps.map(function (settings, index) {
          return /*#__PURE__*/_react["default"].createElement(MapContainer, (0, _extends2["default"])({
            key: index,
            index: index,
            primary: index === 1
          }, mapProps));
        }));
        return /*#__PURE__*/_react["default"].createElement(StyledPlotContainer, {
          className: "export-map-instance"
        }, /*#__PURE__*/_react["default"].createElement(StyledMapContainer, {
          ref: this.plottingAreaRef,
          width: size.width,
          height: size.height
        }, /*#__PURE__*/_react["default"].createElement(_mapViewStateContext.MapViewStateContextProvider, {
          mapState: newMapState
        }, mapContainers)));
      }
    }]);
  }(_react.Component);
  return PlotContainer;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVzZWxlY3QiLCJfc3R5bGVkQ29tcG9uZW50cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcmVhY3RNYXBHbCIsIl9kZWJvdW5jZSIsIl91dGlscyIsIl9yZWR1Y2VycyIsIl9tYXBDb250YWluZXIiLCJfbWFwc0xheW91dCIsIl9tYXBWaWV3U3RhdGVDb250ZXh0IiwiX2NvbnN0YW50cyIsIl90ZW1wbGF0ZU9iamVjdCIsIl90ZW1wbGF0ZU9iamVjdDIiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJvd25LZXlzIiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJfY2FsbFN1cGVyIiwiX2dldFByb3RvdHlwZU9mMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiY29uc3RydWN0b3IiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsIkNMQVNTX0ZJTFRFUiIsIkRPTV9GSUxURVJfRlVOQyIsIm5vZGUiLCJpbmNsdWRlcyIsImNsYXNzTmFtZSIsIk9VVF9PRl9TQ1JFRU5fUE9TSVRJT04iLCJQbG90Q29udGFpbmVyRmFjdG9yeSIsImRlcHMiLCJTdHlsZWRQbG90Q29udGFpbmVyIiwiZGl2IiwiX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbDIiLCJTdHlsZWRNYXBDb250YWluZXIiLCJwcm9wcyIsIndpZHRoIiwiaGVpZ2h0IiwiTWFwQ29udGFpbmVyIiwiTWFwc0xheW91dCIsIlBsb3RDb250YWluZXIiLCJfQ29tcG9uZW50IiwiX3Byb3BzIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiY3JlYXRlUmVmIiwibWFwRmllbGRzIiwibWFwU3R5bGUiLCJpbWFnZVNpemUiLCJleHBvcnRJbWFnZVNldHRpbmciLCJtYXBTdGF0ZSIsInNjYWxlIiwiZ2V0U2NhbGVGcm9tSW1hZ2VTaXplIiwiaW1hZ2VXIiwiaW1hZ2VIIiwiaXNTcGxpdCIsImNyZWF0ZVNlbGVjdG9yIiwibWFwU3R5bGVTZWxlY3RvciIsIm1hcFNjYWxlU2VsZWN0b3IiLCJib3R0b21NYXBTdHlsZSIsInNjYWxlTWFwU3R5bGVCeVJlc29sdXRpb24iLCJ0b3BNYXBTdHlsZSIsIm1hcCIsImlzU3R5bGVMb2FkZWQiLCJfcmV0cmlldmVOZXdTY3JlZW5zaG90IiwicGxvdHRpbmdBcmVhUmVmIiwiY3VycmVudCIsIl90aGlzJHByb3BzJGV4cG9ydEltYSIsImVzY2FwZVhodG1sRm9yV2VicGFjayIsImNvbnZlcnRUb1BuZyIsInRoZW4iLCJzZXRFeHBvcnRJbWFnZURhdGFVcmkiLCJlcnIiLCJzZXRFeHBvcnRJbWFnZUVycm9yIiwiZW5hYmxlRXJyb3JOb3RpZmljYXRpb24iLCJhZGROb3RpZmljYXRpb24iLCJleHBvcnRJbWFnZUVycm9yIiwiX29uTWFwUmVuZGVyIiwic3RhdGUiLCJwbG90RWZmZWN0cyIsImdldEVmZmVjdHNGb3JQbG90IiwiX2luaGVyaXRzMiIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsInZpc1N0YXRlIiwiZWZmZWN0cyIsImVmZmVjdCIsImNsb25lIiwiY29tcG9uZW50RGlkTW91bnQiLCJzZXRFeHBvcnRJbWFnZVNldHRpbmciLCJwcm9jZXNzaW5nIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwiX3RoaXMyIiwiY2hlY2tzIiwic2hvdWxkUmV0cmlldmVTY3JlZW5zaG90Iiwic29tZSIsIml0ZW0iLCJyZW5kZXIiLCJfdGhpcyRwcm9wcyIsIl90aGlzJHByb3BzJHNwbGl0TWFwcyIsInNwbGl0TWFwcyIsImxheWVycyIsImxheWVyRGF0YSIsImxlZ2VuZCIsInNpemUiLCJuZXdNYXBTdGF0ZSIsInpvb20iLCJNYXRoIiwibG9nMiIsImNlbnRlciIsInJlbmRlcmVkTGF5ZXJzIiwibGF5ZXIiLCJpZHgiLCJpZCIsIkdFT0NPREVSX0xBWUVSX0lEIiwic2hvdWxkUmVuZGVyTGF5ZXIiLCJib3VuZHMiLCJmaW5kTWFwQm91bmRzIiwiY2VudGVyQW5kWm9vbSIsImdldENlbnRlckFuZFpvb21Gcm9tQm91bmRzIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJsb25naXR1ZGUiLCJsYXRpdHVkZSIsIm1hcFByb3BzIiwic2NhbGVkTWFwU3R5bGVTZWxlY3RvciIsIm1hcENvbnRyb2xzIiwibWFwTGVnZW5kIiwic2hvdyIsImFjdGl2ZSIsIk1hcENvbXBvbmVudCIsIk1hcCIsIm9uTWFwUmVuZGVyIiwiaXNFeHBvcnQiLCJkZWNrR2xQcm9wcyIsImdsT3B0aW9ucyIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsInVzZURldmljZVBpeGVscyIsIm1hcENvbnRhaW5lcnMiLCJjcmVhdGVFbGVtZW50IiwiX2V4dGVuZHMyIiwiaW5kZXgiLCJwcmltYXJ5Iiwic2V0dGluZ3MiLCJyZWYiLCJNYXBWaWV3U3RhdGVDb250ZXh0UHJvdmlkZXIiLCJDb21wb25lbnQiXSwic291cmNlcyI6WyIuLi9zcmMvcGxvdC1jb250YWluZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCBjb250cmlidXRvcnMgdG8gdGhlIGtlcGxlci5nbCBwcm9qZWN0XG5cbi8vIGxpYnJhcmllc1xuaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50LCBjcmVhdGVSZWZ9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7Y3JlYXRlU2VsZWN0b3J9IGZyb20gJ3Jlc2VsZWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHtNYXB9IGZyb20gJ3JlYWN0LW1hcC1nbCc7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJztcbmltcG9ydCB7XG4gIGV4cG9ydEltYWdlRXJyb3IsXG4gIHNjYWxlTWFwU3R5bGVCeVJlc29sdXRpb24sXG4gIGdldENlbnRlckFuZFpvb21Gcm9tQm91bmRzLFxuICBjb252ZXJ0VG9QbmcsXG4gIGdldFNjYWxlRnJvbUltYWdlU2l6ZVxufSBmcm9tICdAa2VwbGVyLmdsL3V0aWxzJztcbmltcG9ydCB7ZmluZE1hcEJvdW5kc30gZnJvbSAnQGtlcGxlci5nbC9yZWR1Y2Vycyc7XG5pbXBvcnQgTWFwQ29udGFpbmVyRmFjdG9yeSBmcm9tICcuL21hcC1jb250YWluZXInO1xuaW1wb3J0IE1hcHNMYXlvdXRGYWN0b3J5IGZyb20gJy4vbWFwcy1sYXlvdXQnO1xuaW1wb3J0IHtNYXBWaWV3U3RhdGVDb250ZXh0UHJvdmlkZXJ9IGZyb20gJy4vbWFwLXZpZXctc3RhdGUtY29udGV4dCc7XG5cbmltcG9ydCB7R0VPQ09ERVJfTEFZRVJfSUQsIEV4cG9ydEltYWdlfSBmcm9tICdAa2VwbGVyLmdsL2NvbnN0YW50cyc7XG5pbXBvcnQge0VmZmVjdCwgU3BsaXRNYXB9IGZyb20gJ0BrZXBsZXIuZ2wvdHlwZXMnO1xuaW1wb3J0IHtcbiAgQWN0aW9uSGFuZGxlcixcbiAgYWRkTm90aWZpY2F0aW9uLFxuICBzZXRFeHBvcnRJbWFnZURhdGFVcmksXG4gIHNldEV4cG9ydEltYWdlRXJyb3IsXG4gIHNldEV4cG9ydEltYWdlU2V0dGluZ1xufSBmcm9tICdAa2VwbGVyLmdsL2FjdGlvbnMnO1xuaW1wb3J0IHttYXBGaWVsZHNTZWxlY3Rvcn0gZnJvbSAnLi9rZXBsZXItZ2wnO1xuXG5jb25zdCBDTEFTU19GSUxURVIgPSBbXG4gICdtYXBsaWJyZWdsLWNvbnRyb2wtY29udGFpbmVyJyxcbiAgJ21hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyJyxcbiAgJ2F0dHJpdGlvbi1saW5rJyxcbiAgJ2F0dHJpdGlvbi1sb2dvJyxcbiAgJ21hcC1jb250cm9sX19wYW5lbC1zcGxpdC12aWV3cG9ydC10b29scydcbl07XG5jb25zdCBET01fRklMVEVSX0ZVTkMgPSBub2RlID0+ICFDTEFTU19GSUxURVIuaW5jbHVkZXMobm9kZS5jbGFzc05hbWUpO1xuY29uc3QgT1VUX09GX1NDUkVFTl9QT1NJVElPTiA9IC05OTk5O1xuXG5QbG90Q29udGFpbmVyRmFjdG9yeS5kZXBzID0gW01hcENvbnRhaW5lckZhY3RvcnksIE1hcHNMYXlvdXRGYWN0b3J5XTtcblxuLy8gUmVtb3ZlIG1hcGJveCBsb2dvIGluIGV4cG9ydGVkIG1hcCwgYmVjYXVzZSBpdCBjb250YWlucyBub24tYXNjaWkgY2hhcmFjdGVyc1xuLy8gUmVtb3ZlIHNwbGl0IHZpZXdwb3J0IFVJIGNvbnRyb2xzIGZyb20gZXhwb3J0ZWQgaW1hZ2VzIHdoZW4gdGhlIGxlZ2VuZCBpcyBzaG93blxuY29uc3QgU3R5bGVkUGxvdENvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG4gIC5tYXBsaWJyZWdsLWN0cmwtYm90dG9tLWxlZnQsXG4gIC5tYXBsaWJyZWdsLWN0cmwtYm90dG9tLXJpZ2h0LFxuICAubWFwbGlicmUtYXR0cmlidXRpb24tY29udGFpbmVyLFxuICAubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdCxcbiAgLm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0LFxuICAubWFwYm94LWF0dHJpYnV0aW9uLWNvbnRhaW5lcixcbiAgLm1hcC1jb250cm9sX19wYW5lbC1zcGxpdC12aWV3cG9ydC10b29scyB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAke09VVF9PRl9TQ1JFRU5fUE9TSVRJT059cHg7XG4gIGxlZnQ6ICR7T1VUX09GX1NDUkVFTl9QT1NJVElPTn1weDtcbmA7XG5cbmludGVyZmFjZSBTdHlsZWRNYXBDb250YWluZXJQcm9wcyB7XG4gIHdpZHRoPzogbnVtYmVyO1xuICBoZWlnaHQ/OiBudW1iZXI7XG59XG5cbmNvbnN0IFN0eWxlZE1hcENvbnRhaW5lciA9IHN0eWxlZC5kaXY8U3R5bGVkTWFwQ29udGFpbmVyUHJvcHM+YFxuICB3aWR0aDogJHtwcm9wcyA9PiBwcm9wcy53aWR0aH1weDtcbiAgaGVpZ2h0OiAke3Byb3BzID0+IHByb3BzLmhlaWdodH1weDtcbiAgZGlzcGxheTogZmxleDtcbmA7XG5cbmludGVyZmFjZSBQbG90Q29udGFpbmVyUHJvcHMge1xuICB3aWR0aD86IG51bWJlcjtcbiAgaGVpZ2h0PzogbnVtYmVyO1xuICBleHBvcnRJbWFnZVNldHRpbmc6IEV4cG9ydEltYWdlO1xuICBhZGROb3RpZmljYXRpb246IEFjdGlvbkhhbmRsZXI8dHlwZW9mIGFkZE5vdGlmaWNhdGlvbj47XG4gIG1hcEZpZWxkczogUmV0dXJuVHlwZTx0eXBlb2YgbWFwRmllbGRzU2VsZWN0b3I+O1xuICBzZXRFeHBvcnRJbWFnZVNldHRpbmc6IHR5cGVvZiBzZXRFeHBvcnRJbWFnZVNldHRpbmc7XG4gIHNldEV4cG9ydEltYWdlRGF0YVVyaTogdHlwZW9mIHNldEV4cG9ydEltYWdlRGF0YVVyaTtcbiAgc2V0RXhwb3J0SW1hZ2VFcnJvcjogdHlwZW9mIHNldEV4cG9ydEltYWdlRXJyb3I7XG4gIHNwbGl0TWFwcz86IFNwbGl0TWFwW107XG4gIGVuYWJsZUVycm9yTm90aWZpY2F0aW9uPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFBsb3RDb250YWluZXJTdGF0ZSB7XG4gIHBsb3RFZmZlY3RzOiBFZmZlY3RbXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGxvdENvbnRhaW5lckZhY3RvcnkoXG4gIE1hcENvbnRhaW5lcjogUmV0dXJuVHlwZTx0eXBlb2YgTWFwQ29udGFpbmVyRmFjdG9yeT4sXG4gIE1hcHNMYXlvdXQ6IFJldHVyblR5cGU8dHlwZW9mIE1hcHNMYXlvdXRGYWN0b3J5PlxuKTogUmVhY3QuQ29tcG9uZW50VHlwZTxQbG90Q29udGFpbmVyUHJvcHM+IHtcbiAgY2xhc3MgUGxvdENvbnRhaW5lciBleHRlbmRzIENvbXBvbmVudDxQbG90Q29udGFpbmVyUHJvcHMsIFBsb3RDb250YWluZXJTdGF0ZT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICBzdXBlcihwcm9wcyk7XG4gICAgICB0aGlzLl9vbk1hcFJlbmRlciA9IGRlYm91bmNlKHRoaXMuX29uTWFwUmVuZGVyLCA1MDApO1xuICAgICAgdGhpcy5fcmV0cmlldmVOZXdTY3JlZW5zaG90ID0gZGVib3VuY2UodGhpcy5fcmV0cmlldmVOZXdTY3JlZW5zaG90LCA1MDApO1xuXG4gICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICBwbG90RWZmZWN0czogdGhpcy5nZXRFZmZlY3RzRm9yUGxvdCgpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RWZmZWN0c0ZvclBsb3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5tYXBGaWVsZHMudmlzU3RhdGUuZWZmZWN0cy5tYXAoZWZmZWN0ID0+IGVmZmVjdC5jbG9uZSgpKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMucHJvcHMuc2V0RXhwb3J0SW1hZ2VTZXR0aW5nKHtwcm9jZXNzaW5nOiB0cnVlfSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgLy8gcmUtZmV0Y2ggdGhlIG5ldyBzY3JlZW5zaG90IG9ubHkgd2hlbiByYXRpbyBsZWdlbmQgb3IgcmVzb2x1dGlvbiBjaGFuZ2VzXG4gICAgICBjb25zdCBjaGVja3MgPSBbJ3JhdGlvJywgJ3Jlc29sdXRpb24nLCAnbGVnZW5kJ107XG4gICAgICBjb25zdCBzaG91bGRSZXRyaWV2ZVNjcmVlbnNob3QgPSBjaGVja3Muc29tZShcbiAgICAgICAgaXRlbSA9PiB0aGlzLnByb3BzLmV4cG9ydEltYWdlU2V0dGluZ1tpdGVtXSAhPT0gcHJldlByb3BzLmV4cG9ydEltYWdlU2V0dGluZ1tpdGVtXVxuICAgICAgKTtcbiAgICAgIGlmIChzaG91bGRSZXRyaWV2ZVNjcmVlbnNob3QpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5zZXRFeHBvcnRJbWFnZVNldHRpbmcoe3Byb2Nlc3Npbmc6IHRydWV9KTtcbiAgICAgICAgdGhpcy5fcmV0cmlldmVOZXdTY3JlZW5zaG90KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGxvdHRpbmdBcmVhUmVmID0gY3JlYXRlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuXG4gICAgbWFwU3R5bGVTZWxlY3RvciA9IHByb3BzID0+IHByb3BzLm1hcEZpZWxkcy5tYXBTdHlsZTtcbiAgICBtYXBTY2FsZVNlbGVjdG9yID0gcHJvcHMgPT4ge1xuICAgICAgY29uc3Qge2ltYWdlU2l6ZX0gPSBwcm9wcy5leHBvcnRJbWFnZVNldHRpbmc7XG4gICAgICBjb25zdCB7bWFwU3RhdGV9ID0gcHJvcHMubWFwRmllbGRzO1xuICAgICAgaWYgKGltYWdlU2l6ZS5zY2FsZSkge1xuICAgICAgICByZXR1cm4gaW1hZ2VTaXplLnNjYWxlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzY2FsZSA9IGdldFNjYWxlRnJvbUltYWdlU2l6ZShcbiAgICAgICAgaW1hZ2VTaXplLmltYWdlVyxcbiAgICAgICAgaW1hZ2VTaXplLmltYWdlSCxcbiAgICAgICAgbWFwU3RhdGUud2lkdGggKiAobWFwU3RhdGUuaXNTcGxpdCA/IDIgOiAxKSxcbiAgICAgICAgbWFwU3RhdGUuaGVpZ2h0XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gc2NhbGUgPiAwID8gc2NhbGUgOiAxO1xuICAgIH07XG5cbiAgICBzY2FsZWRNYXBTdHlsZVNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3IoXG4gICAgICB0aGlzLm1hcFN0eWxlU2VsZWN0b3IsXG4gICAgICB0aGlzLm1hcFNjYWxlU2VsZWN0b3IsXG4gICAgICAobWFwU3R5bGUsIHNjYWxlKSA9PiAoe1xuICAgICAgICAuLi5tYXBTdHlsZSxcbiAgICAgICAgYm90dG9tTWFwU3R5bGU6IHNjYWxlTWFwU3R5bGVCeVJlc29sdXRpb24obWFwU3R5bGUuYm90dG9tTWFwU3R5bGUsIHNjYWxlKSxcbiAgICAgICAgdG9wTWFwU3R5bGU6IHNjYWxlTWFwU3R5bGVCeVJlc29sdXRpb24obWFwU3R5bGUudG9wTWFwU3R5bGUsIHNjYWxlKVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgX29uTWFwUmVuZGVyID0gbWFwID0+IHtcbiAgICAgIGlmIChtYXAuaXNTdHlsZUxvYWRlZCgpKSB7XG4gICAgICAgIHRoaXMuX3JldHJpZXZlTmV3U2NyZWVuc2hvdCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcmV0cmlldmVOZXdTY3JlZW5zaG90ID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMucGxvdHRpbmdBcmVhUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3Qge2ltYWdlU2l6ZSwgZXNjYXBlWGh0bWxGb3JXZWJwYWNrfSA9IHRoaXMucHJvcHMuZXhwb3J0SW1hZ2VTZXR0aW5nO1xuICAgICAgICBjb252ZXJ0VG9QbmcodGhpcy5wbG90dGluZ0FyZWFSZWYuY3VycmVudCwge1xuICAgICAgICAgIGZpbHRlcjogRE9NX0ZJTFRFUl9GVU5DLFxuICAgICAgICAgIHdpZHRoOiBpbWFnZVNpemUuaW1hZ2VXLFxuICAgICAgICAgIGhlaWdodDogaW1hZ2VTaXplLmltYWdlSCxcbiAgICAgICAgICBlc2NhcGVYaHRtbEZvcldlYnBhY2tcbiAgICAgICAgfSlcbiAgICAgICAgICAudGhlbih0aGlzLnByb3BzLnNldEV4cG9ydEltYWdlRGF0YVVyaSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0RXhwb3J0SW1hZ2VFcnJvcihlcnIpO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZW5hYmxlRXJyb3JOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5hZGROb3RpZmljYXRpb24oZXhwb3J0SW1hZ2VFcnJvcih7ZXJyfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICBjb25zdCB7ZXhwb3J0SW1hZ2VTZXR0aW5nLCBtYXBGaWVsZHMsIHNwbGl0TWFwcyA9IFtdfSA9IHRoaXMucHJvcHM7XG4gICAgICBjb25zdCB7bWFwU3RhdGUsIHZpc1N0YXRlfSA9IG1hcEZpZWxkcztcbiAgICAgIGNvbnN0IHtsYXllcnMsIGxheWVyRGF0YX0gPSB2aXNTdGF0ZTtcbiAgICAgIGNvbnN0IHtpbWFnZVNpemUsIGxlZ2VuZH0gPSBleHBvcnRJbWFnZVNldHRpbmc7XG5cbiAgICAgIGNvbnN0IGlzU3BsaXQgPSBzcGxpdE1hcHMgJiYgc3BsaXRNYXBzLmxlbmd0aCA+IDE7XG5cbiAgICAgIGNvbnN0IHNpemUgPSB7XG4gICAgICAgIHdpZHRoOiBpbWFnZVNpemU/LmltYWdlVyB8fCAxLFxuICAgICAgICBoZWlnaHQ6IGltYWdlU2l6ZT8uaW1hZ2VIIHx8IDFcbiAgICAgIH07XG4gICAgICBjb25zdCB3aWR0aCA9IHNpemUud2lkdGggLyAoaXNTcGxpdCA/IDIgOiAxKTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLm1hcFNjYWxlU2VsZWN0b3IodGhpcy5wcm9wcyk7XG4gICAgICBjb25zdCBuZXdNYXBTdGF0ZSA9IHtcbiAgICAgICAgLi4ubWFwU3RhdGUsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHpvb206IG1hcFN0YXRlLnpvb20gKyAoTWF0aC5sb2cyKHNjYWxlKSB8fCAwKVxuICAgICAgfTtcblxuICAgICAgLy8gY2VudGVyIGFuZCBhbGwgbGF5ZXIgYm91bmRzXG4gICAgICBpZiAoZXhwb3J0SW1hZ2VTZXR0aW5nLmNlbnRlcikge1xuICAgICAgICBjb25zdCByZW5kZXJlZExheWVycyA9IGxheWVycy5maWx0ZXIoXG4gICAgICAgICAgKGxheWVyLCBpZHgpID0+IGxheWVyLmlkICE9PSBHRU9DT0RFUl9MQVlFUl9JRCAmJiBsYXllci5zaG91bGRSZW5kZXJMYXllcihsYXllckRhdGFbaWR4XSlcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYm91bmRzID0gZmluZE1hcEJvdW5kcyhyZW5kZXJlZExheWVycyk7XG4gICAgICAgIGNvbnN0IGNlbnRlckFuZFpvb20gPSBnZXRDZW50ZXJBbmRab29tRnJvbUJvdW5kcyhib3VuZHMsIHt3aWR0aCwgaGVpZ2h0fSk7XG4gICAgICAgIGlmIChjZW50ZXJBbmRab29tKSB7XG4gICAgICAgICAgY29uc3Qgem9vbSA9IE51bWJlci5pc0Zpbml0ZShjZW50ZXJBbmRab29tLnpvb20pID8gY2VudGVyQW5kWm9vbS56b29tIDogbWFwU3RhdGUuem9vbTtcblxuICAgICAgICAgIG5ld01hcFN0YXRlLmxvbmdpdHVkZSA9IGNlbnRlckFuZFpvb20uY2VudGVyWzBdO1xuICAgICAgICAgIG5ld01hcFN0YXRlLmxhdGl0dWRlID0gY2VudGVyQW5kWm9vbS5jZW50ZXJbMV07XG4gICAgICAgICAgbmV3TWFwU3RhdGUuem9vbSA9IHpvb20gKyBOdW1iZXIoTWF0aC5sb2cyKHNjYWxlKSB8fCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBtYXBQcm9wcyA9IHtcbiAgICAgICAgLi4ubWFwRmllbGRzLFxuICAgICAgICBtYXBTdHlsZTogdGhpcy5zY2FsZWRNYXBTdHlsZVNlbGVjdG9yKHRoaXMucHJvcHMpLFxuXG4gICAgICAgIC8vIG92ZXJyaWRlIHZpZXdwb3J0IGJhc2VkIG9uIGV4cG9ydCBzZXR0aW5nc1xuICAgICAgICBtYXBTdGF0ZTogbmV3TWFwU3RhdGUsXG4gICAgICAgIG1hcENvbnRyb2xzOiB7XG4gICAgICAgICAgLy8gb3ZlcnJpZGUgbWFwIGxlZ2VuZCB2aXNpYmlsaXR5XG4gICAgICAgICAgbWFwTGVnZW5kOiB7XG4gICAgICAgICAgICBzaG93OiBsZWdlbmQsXG4gICAgICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE1hcENvbXBvbmVudDogTWFwLFxuICAgICAgICBvbk1hcFJlbmRlcjogdGhpcy5fb25NYXBSZW5kZXIsXG4gICAgICAgIGlzRXhwb3J0OiB0cnVlLFxuICAgICAgICBkZWNrR2xQcm9wczoge1xuICAgICAgICAgIC4uLm1hcEZpZWxkcy5kZWNrR2xQcm9wcyxcbiAgICAgICAgICBnbE9wdGlvbnM6IHtcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSxcbiAgICAgICAgICAgIHVzZURldmljZVBpeGVsczogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc1N0YXRlOiB7XG4gICAgICAgICAgLi4ubWFwRmllbGRzLnZpc1N0YXRlLFxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0byB1c2UgZWZmZWN0cyBub3QgYXNzb2NpYXRlZCB3aXRoIGEgZGlmZmVyZW50IFdlYkdMIGNvbnRleHRcbiAgICAgICAgICBlZmZlY3RzOiB0aGlzLnN0YXRlLnBsb3RFZmZlY3RzXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1hcENvbnRhaW5lcnMgPSAhaXNTcGxpdCA/IChcbiAgICAgICAgPE1hcENvbnRhaW5lciBpbmRleD17MH0gcHJpbWFyeT17dHJ1ZX0gey4uLm1hcFByb3BzfSAvPlxuICAgICAgKSA6IChcbiAgICAgICAgPE1hcHNMYXlvdXQgY2xhc3NOYW1lPVwicGxvdC1jb250YWluZXItbWFwc1wiIG1hcFN0YXRlPXtuZXdNYXBTdGF0ZX0+XG4gICAgICAgICAge3NwbGl0TWFwcy5tYXAoKHNldHRpbmdzLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPE1hcENvbnRhaW5lciBrZXk9e2luZGV4fSBpbmRleD17aW5kZXh9IHByaW1hcnk9e2luZGV4ID09PSAxfSB7Li4ubWFwUHJvcHN9IC8+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvTWFwc0xheW91dD5cbiAgICAgICk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U3R5bGVkUGxvdENvbnRhaW5lciBjbGFzc05hbWU9XCJleHBvcnQtbWFwLWluc3RhbmNlXCI+XG4gICAgICAgICAgPFN0eWxlZE1hcENvbnRhaW5lciByZWY9e3RoaXMucGxvdHRpbmdBcmVhUmVmfSB3aWR0aD17c2l6ZS53aWR0aH0gaGVpZ2h0PXtzaXplLmhlaWdodH0+XG4gICAgICAgICAgICA8TWFwVmlld1N0YXRlQ29udGV4dFByb3ZpZGVyIG1hcFN0YXRlPXtuZXdNYXBTdGF0ZX0+XG4gICAgICAgICAgICAgIHttYXBDb250YWluZXJzfVxuICAgICAgICAgICAgPC9NYXBWaWV3U3RhdGVDb250ZXh0UHJvdmlkZXI+XG4gICAgICAgICAgPC9TdHlsZWRNYXBDb250YWluZXI+XG4gICAgICAgIDwvU3R5bGVkUGxvdENvbnRhaW5lcj5cbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBQbG90Q29udGFpbmVyO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBSUEsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsaUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFJLFdBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFNLE1BQUEsR0FBQU4sT0FBQTtBQU9BLElBQUFPLFNBQUEsR0FBQVAsT0FB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