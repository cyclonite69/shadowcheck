"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = EffectTimeConfiguratorFactory;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireWildcard(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/react"));
var _reactIntl = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/react-intl");
var _styledComponents = _interopRequireDefault(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/styled-components"));
var _momentTimezone = _interopRequireDefault(require("moment-timezone"));
var _suncalc = _interopRequireDefault(require("suncalc"));
var _localization = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/localization/src");
var _utils = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/utils/src");
var _constants = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/constants/src");
var _reducers = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/reducers/src");
var _injector = require("../injector");
var _styledComponents2 = require("../common/styled-components");
var _checkbox = _interopRequireDefault(require("../common/checkbox"));
var _button = _interopRequireDefault(require("../common/data-table/button"));
var _icons = require("../common/icons");
var _timezoneSelector = _interopRequireDefault(require("./timezone-selector"));
var _effectTimeSlider = _interopRequireDefault(require("./effect-time-slider"));
var _effectTimeSelector = _interopRequireDefault(require("./effect-time-selector"));
var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
function _getRequireWildcardCache(e) {
  if ("function" != typeof WeakMap) return null;
  var r = new WeakMap(),
    t = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {
    return e ? t : r;
  })(e);
}
function _interopRequireWildcard(e, r) {
  if (!r && e && e.__esModule) return e;
  if (null === e || "object" != _typeof(e) && "function" != typeof e) return {
    "default": e
  };
  var t = _getRequireWildcardCache(r);
  if (t && t.has(e)) return t.get(e);
  var n = {
      __proto__: null
    },
    a = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) {
    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];
  }
  return n["default"] = e, t && t.set(e, n), n;
}
var DAY_MILISECONDS = 1000 * 60 * 60 * 24;
var StyledWrapper = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ", "px;\n  ", "\n"])), function (props) {
  var _props$marginBottom;
  return (_props$marginBottom = props.marginBottom) !== null && _props$marginBottom !== void 0 ? _props$marginBottom : 9;
}, function (props) {
  return props.hidden ? 'display: none;' : '';
});
var SliderWrapper = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  margin-top: 13px;\n  margin-bottom: 12px;\n  ", "\n"])), function (props) {
  return props.hidden ? 'display: none;' : '';
});
var StyledButton = (0, _styledComponents["default"])(_button["default"])(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n  color: ", ";\n  background-color: ", ";\n  height: 32px;\n  width: 32px;\n  padding: 5px;\n  border-radius: 4px;\n  justify-content: center;\n  &:hover {\n    color: ", ";\n    background-color: ", ";\n  }\n"])), function (props) {
  return props.theme.effectPanelTextSecondary2;
}, function (props) {
  return props.theme.inputBgd;
}, function (props) {
  return props.theme.effectPanelTextMain;
}, function (props) {
  return props.theme.inputBgdHover;
});
var StyledRadio = (0, _styledComponents["default"])(_checkbox["default"])(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n  .kg-checkbox__label {\n    font-family: ", ";\n    font-size: ", ";\n  }\n  .kg-checkbox__label:before {\n    background: transparent;\n    border-color: ", ";\n  }\n  input:checked + .kg-checkbox__label:before {\n    border-color: ", ";\n  }\n  .kg-checkbox__label:after {\n    background-color: ", ";\n  }\n"])), function (props) {
  return props.theme.fontFamily;
}, function (props) {
  return props.theme.inputFontSize;
}, function (props) {
  return props.theme.effectPanelTextSecondary2;
}, function (props) {
  return props.theme.activeColor;
}, function (props) {
  return props.theme.activeColor;
});
var StyledEffectTimeConfigurator = _styledComponents["default"].div(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n  margin-bottom: 8px;\n  margin-top: 3px;\n"])));
var StyledDatePicker = _styledComponents["default"].div(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n  .react-date-picker--open .react-date-picker__wrapper .react-date-picker__inputGroup {\n    border: 1px solid ", ";\n    border-radius: 4px 4px 0px 0px !important;\n  }\n  .react-calendar__navigation__prev2-button,\n  .react-calendar__navigation__next2-button {\n    display: none;\n  }\n  .react-calendar__navigation__label {\n    position: absolute;\n    top: 20px;\n  }\n  .react-calendar__navigation__arrow {\n    position: absolute;\n    top: 18px;\n    font-size: 16px;\n  }\n  .react-calendar__navigation__prev-button {\n    right: 36px;\n  }\n  .react-calendar__navigation__next-button {\n    right: 12px;\n  }\n"])), function (props) {
  return props.theme.activeColor;
});
var WithIconWrapper = _styledComponents["default"].div(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2["default"])(["\n  position: relative;\n  ", "\n"])), function (props) {
  return props.width ? "width: ".concat(props.width) : '';
});
var StyledExtraIcon = _styledComponents["default"].div(_templateObject8 || (_templateObject8 = (0, _taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  top: 0px;\n  left: 8px;\n  width: 0px;\n  height: 32px;\n  color: ", ";\n  pointer-events: none;\n"])), function (props) {
  return props.theme.effectPanelTextSecondary2;
});
var TextBlock = _styledComponents["default"].div(_templateObject9 || (_templateObject9 = (0, _taggedTemplateLiteral2["default"])(["\n  color: ", ";\n  width: ", ";\n  font-size: ", ";\n"])), function (props) {
  return props.theme.effectPanelTextSecondary2;
}, function (props) {
  return props.width;
}, function (props) {
  return props.theme.inputFontSize;
});

/**
 * Converts date, time and timezone into a UTC timestamp.
 * @param dateStr Date string in YYYY-MM-DD format.
 * @param timeStr Time string in HH:MM format.
 * @param timezone Timezone name.
 * @returns Timestamp or null if case of bad inputs.
 */
var getTimestamp = function getTimestamp(dateStr, timeStr, timezone) {
  var timestamp = null;
  var curr = _momentTimezone["default"].tz("".concat(dateStr, "T").concat(timeStr, ":00"), timezone);
  if (curr.isValid()) {
    timestamp = curr.utc().valueOf();
  }
  return timestamp;
};

/**
 * Converts time of the day into [0, 1] range
 * @param date
 * @returns
 */
var getDayRatio = function getDayRatio(date) {
  return (date.hours() * 60 + date.minutes()) * 60 * 1000 / DAY_MILISECONDS;
};
EffectTimeConfiguratorFactory.deps = [_timezoneSelector["default"], _effectTimeSlider["default"], _effectTimeSelector["default"]];
function EffectTimeConfiguratorFactory(TimezoneSelector, EffectTimeSlider, EffectTimeSelector) {
  var EffectTimeConfigurator = function EffectTimeConfigurator(_ref) {
    var timestamp = _ref.timestamp,
      _timezone = _ref.timezone,
      timeMode = _ref.timeMode,
      onTimeParametersChanged = _ref.onChange,
      mapState = _ref.mapState,
      intl = _ref.intl;
    var timezone = (0, _react.useMemo)(function () {
      return _momentTimezone["default"].tz.names().includes(_timezone) ? _timezone : _constants.DEFAULT_TIMEZONE;
    }, [_timezone]);
    var _useMemo = (0, _react.useMemo)(function () {
        var currentMoment = _momentTimezone["default"].tz(timestamp, timezone);

        // Slider value from 0 to 1
        var dayProgress = getDayRatio(currentMoment);

        // Date picker always renders Date in local timezone
        var date = new Date();
        date.setFullYear(currentMoment.year(), currentMoment.month(), currentMoment.date());
        date.setHours(0, 0, 0, 0);
        return [date, currentMoment.toDate(), currentMoment.format('HH:mm'), currentMoment.format('YYYY-MM-DD'), dayProgress];
      }, [timestamp, timezone]),
      _useMemo2 = (0, _slicedToArray2["default"])(_useMemo, 5),
      datePickerDate = _useMemo2[0],
      fullDate = _useMemo2[1],
      formattedTime = _useMemo2[2],
      formattedDate = _useMemo2[3],
      dayTimeProgress = _useMemo2[4];
    var timeSliderConfig = (0, _react.useMemo)(function () {
      var times = _suncalc["default"].getTimes(fullDate, mapState.latitude, mapState.longitude);
      var dawn = times.dawn,
        sunrise = times.sunrise,
        sunset = times.sunset,
        dusk = times.dusk;
      return {
        dawn: getDayRatio(_momentTimezone["default"].tz(dawn.valueOf(), timezone)),
        sunrise: getDayRatio(_momentTimezone["default"].tz(sunrise.valueOf(), timezone)),
        sunset: getDayRatio(_momentTimezone["default"].tz(sunset.valueOf(), timezone)),
        dusk: getDayRatio(_momentTimezone["default"].tz(dusk.valueOf(), timezone)),
        sunriseTime: _momentTimezone["default"].tz(sunrise.valueOf(), timezone).format('hh:mm A'),
        sunsetTime: _momentTimezone["default"].tz(sunset.valueOf(), timezone).format('hh:mm A')
      };
    }, [fullDate, timezone, mapState.latitude, mapState.longitude]);
    var onTimeSliderChange = (0, _react.useCallback)(function (value) {
      var hours = (0, _utils.clamp)([0, 23], Math.floor(value[1] * 24));
      var minutes = (0, _utils.clamp)([0, 59], Math.floor((value[1] * 24 - hours) * 60));
      var newFormattedTime = "".concat(hours < 10 ? "0".concat(hours) : hours, ":").concat(minutes < 10 ? "0".concat(minutes) : minutes);
      var newTimestamp = getTimestamp(formattedDate, newFormattedTime, timezone);
      onTimeParametersChanged({
        timestamp: newTimestamp
      });
    }, [formattedDate, timezone, onTimeParametersChanged]);
    var setDate = (0, _react.useCallback)(function (newDate) {
      if (!newDate) return;
      var newFormattedDate = (0, _momentTimezone["default"])(newDate).format('YYYY-MM-DD');
      var newTimestamp = getTimestamp(newFormattedDate, formattedTime, timezone);
      onTimeParametersChanged({
        timestamp: newTimestamp
      });
    }, [formattedTime, timezone, onTimeParametersChanged]);
    var setTime = (0, _react.useCallback)(function (newTime) {
      if (!newTime) return;
      var newTimestamp = getTimestamp(formattedDate, newTime, timezone);
      onTimeParametersChanged({
        timestamp: newTimestamp
      });
    }, [formattedDate, timezone, onTimeParametersChanged]);
    var setTimezone = (0, _react.useCallback)(function (newTimezone) {
      if (!newTimezone) return;
      var newTimestamp = getTimestamp(formattedDate, formattedTime, newTimezone);
      // date and time are adjusted to have the same value but in the new timezone
      onTimeParametersChanged({
        timestamp: newTimestamp,
        timezone: newTimezone
      });
    }, [formattedDate, formattedTime, onTimeParametersChanged]);
    var setCurrentDateTime = (0, _react.useCallback)(function () {
      onTimeParametersChanged({
        timestamp: new Date().valueOf()
      });
    }, [onTimeParametersChanged]);
    var formatShortWeekday = (0, _react.useCallback)(function (locale, date) {
      return ['S', 'M', 'T', 'W', 'T', 'F', 'S'][date.getDay()];
    }, []);
    var disableDateTimePick = timeMode !== _constants.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.pick;
    return /*#__PURE__*/_react["default"].createElement(StyledEffectTimeConfigurator, null, /*#__PURE__*/_react["default"].createElement(StyledWrapper, {
      marginBottom: 16
    }, /*#__PURE__*/_react["default"].createElement(StyledRadio, {
      type: "radio",
      checked: timeMode === _constants.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.pick,
      id: "effect-time-toggle-use-pick-time",
      label: intl.formatMessage({
        id: 'effectManager.pickDateTime'
      }),
      onChange: function onChange() {
        onTimeParametersChanged({
          timeMode: _constants.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.pick
        });
      }
    })), /*#__PURE__*/_react["default"].createElement(SliderWrapper, {
      hidden: disableDateTimePick
    }, /*#__PURE__*/_react["default"].createElement(EffectTimeSlider, {
      value: dayTimeProgress,
      onChange: onTimeSliderChange,
      config: timeSliderConfig
    })), /*#__PURE__*/_react["default"].createElement(StyledWrapper, {
      hidden: disableDateTimePick,
      marginBottom: 2
    }, /*#__PURE__*/_react["default"].createElement(TextBlock, {
      width: "32px"
    }), /*#__PURE__*/_react["default"].createElement(TextBlock, {
      width: "110px"
    }, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: 'effectManager.date'
    })), /*#__PURE__*/_react["default"].createElement(TextBlock, {
      width: "110px"
    }, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: 'effectManager.time'
    }))), /*#__PURE__*/_react["default"].createElement(StyledWrapper, {
      hidden: disableDateTimePick,
      marginBottom: 16
    }, /*#__PURE__*/_react["default"].createElement(StyledButton, {
      onClick: setCurrentDateTime,
      "data-for": "pick-time-button",
      "data-tip": true
    }, /*#__PURE__*/_react["default"].createElement(_icons.LocationMarker, {
      height: "16px"
    }), /*#__PURE__*/_react["default"].createElement(_styledComponents2.Tooltip, {
      id: "pick-time-button",
      effect: "solid",
      place: "top",
      delayShow: 500
    }, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: 'effectManager.pickCurrrentTime'
    }))), /*#__PURE__*/_react["default"].createElement(WithIconWrapper, null, /*#__PURE__*/_react["default"].createElement(StyledDatePicker, null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.StyledDatePicker, {
      value: datePickerDate,
      onChange: setDate,
      minDetail: 'month',
      formatShortWeekday: formatShortWeekday
    })), /*#__PURE__*/_react["default"].createElement(StyledExtraIcon, null, /*#__PURE__*/_react["default"].createElement(_icons.Calendar, {
      width: "16px",
      height: "32px"
    }))), /*#__PURE__*/_react["default"].createElement(WithIconWrapper, null, /*#__PURE__*/_react["default"].createElement(EffectTimeSelector, {
      value: formattedTime,
      onChange: setTime
    }), /*#__PURE__*/_react["default"].createElement(StyledExtraIcon, null, /*#__PURE__*/_react["default"].createElement(_icons.Clock, {
      width: "16px",
      height: "32px"
    })))), /*#__PURE__*/_react["default"].createElement(StyledWrapper, {
      hidden: disableDateTimePick,
      marginBottom: 2
    }, /*#__PURE__*/_react["default"].createElement(TextBlock, null, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: 'effectManager.timezone'
    }))), /*#__PURE__*/_react["default"].createElement(StyledWrapper, {
      hidden: disableDateTimePick,
      marginBottom: 24
    }, /*#__PURE__*/_react["default"].createElement(WithIconWrapper, {
      width: '100%'
    }, /*#__PURE__*/_react["default"].createElement(TimezoneSelector, {
      selected: timezone,
      onSelect: setTimezone
    }), /*#__PURE__*/_react["default"].createElement(StyledExtraIcon, null, /*#__PURE__*/_react["default"].createElement(_icons.Globe, {
      width: "16px",
      height: "32px"
    })))), /*#__PURE__*/_react["default"].createElement(StyledWrapper, {
      marginBottom: 16
    }, /*#__PURE__*/_react["default"].createElement(StyledRadio, {
      type: "radio",
      checked: timeMode === _constants.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.current,
      id: "effect-time-toggle-use-current-time",
      label: intl.formatMessage({
        id: 'effectManager.currentTime'
      }),
      onChange: function onChange() {
        onTimeParametersChanged({
          timeMode: _constants.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.current
        });
      }
    })), /*#__PURE__*/_react["default"].createElement(StyledWrapper, {
      marginBottom: 16
    }, /*#__PURE__*/_react["default"].createElement(StyledRadio, {
      type: "radio",
      checked: timeMode === _constants.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.animation,
      id: "effect-time-toggle-use-animation-time",
      label: 'Animation time',
      onChange: function onChange() {
        onTimeParametersChanged({
          timeMode: _constants.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.animation
        });
      }
    })));
  };

  // @ts-expect-error how to properly type?
  return (0, _injector.withState)([_reducers.mapStateLens])((0, _reactIntl.injectIntl)(EffectTimeConfigurator));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3RJbnRsIiwiX3N0eWxlZENvbXBvbmVudHMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX21vbWVudFRpbWV6b25lIiwiX3N1bmNhbGMiLCJfbG9jYWxpemF0aW9uIiwiX3V0aWxzIiwiX2NvbnN0YW50cyIsIl9yZWR1Y2VycyIsIl9pbmplY3RvciIsIl9zdHlsZWRDb21wb25lbnRzMiIsIl9jaGVja2JveCIsIl9idXR0b24iLCJfaWNvbnMiLCJfdGltZXpvbmVTZWxlY3RvciIsIl9lZmZlY3RUaW1lU2xpZGVyIiwiX2VmZmVjdFRpbWVTZWxlY3RvciIsIl90ZW1wbGF0ZU9iamVjdCIsIl90ZW1wbGF0ZU9iamVjdDIiLCJfdGVtcGxhdGVPYmplY3QzIiwiX3RlbXBsYXRlT2JqZWN0NCIsIl90ZW1wbGF0ZU9iamVjdDUiLCJfdGVtcGxhdGVPYmplY3Q2IiwiX3RlbXBsYXRlT2JqZWN0NyIsIl90ZW1wbGF0ZU9iamVjdDgiLCJfdGVtcGxhdGVPYmplY3Q5IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiREFZX01JTElTRUNPTkRTIiwiU3R5bGVkV3JhcHBlciIsImRpdiIsIl90YWdnZWRUZW1wbGF0ZUxpdGVyYWwyIiwicHJvcHMiLCJfcHJvcHMkbWFyZ2luQm90dG9tIiwibWFyZ2luQm90dG9tIiwiaGlkZGVuIiwiU2xpZGVyV3JhcHBlciIsIlN0eWxlZEJ1dHRvbiIsInRoZW1lIiwiZWZmZWN0UGFuZWxUZXh0U2Vjb25kYXJ5MiIsImlucHV0QmdkIiwiZWZmZWN0UGFuZWxUZXh0TWFpbiIsImlucHV0QmdkSG92ZXIiLCJTdHlsZWRSYWRpbyIsImZvbnRGYW1pbHkiLCJpbnB1dEZvbnRTaXplIiwiYWN0aXZlQ29sb3IiLCJTdHlsZWRFZmZlY3RUaW1lQ29uZmlndXJhdG9yIiwiU3R5bGVkRGF0ZVBpY2tlciIsIldpdGhJY29uV3JhcHBlciIsIndpZHRoIiwiY29uY2F0IiwiU3R5bGVkRXh0cmFJY29uIiwiVGV4dEJsb2NrIiwiZ2V0VGltZXN0YW1wIiwiZGF0ZVN0ciIsInRpbWVTdHIiLCJ0aW1lem9uZSIsInRpbWVzdGFtcCIsImN1cnIiLCJ0eiIsImlzVmFsaWQiLCJ1dGMiLCJ2YWx1ZU9mIiwiZ2V0RGF5UmF0aW8iLCJkYXRlIiwiaG91cnMiLCJtaW51dGVzIiwiRWZmZWN0VGltZUNvbmZpZ3VyYXRvckZhY3RvcnkiLCJkZXBzIiwiVGltZXpvbmVTZWxlY3RvciIsIkVmZmVjdFRpbWVTbGlkZXIiLCJFZmZlY3RUaW1lU2VsZWN0b3IiLCJFZmZlY3RUaW1lQ29uZmlndXJhdG9yIiwiX3JlZiIsIl90aW1lem9uZSIsInRpbWVNb2RlIiwib25UaW1lUGFyYW1ldGVyc0NoYW5nZWQiLCJvbkNoYW5nZSIsIm1hcFN0YXRlIiwiaW50bCIsInVzZU1lbW8iLCJuYW1lcyIsImluY2x1ZGVzIiwiREVGQVVMVF9USU1FWk9ORSIsIl91c2VNZW1vIiwiY3VycmVudE1vbWVudCIsImRheVByb2dyZXNzIiwiRGF0ZSIsInNldEZ1bGxZZWFyIiwieWVhciIsIm1vbnRoIiwic2V0SG91cnMiLCJ0b0RhdGUiLCJmb3JtYXQiLCJfdXNlTWVtbzIiLCJfc2xpY2VkVG9BcnJheTIiLCJkYXRlUGlja2VyRGF0ZSIsImZ1bGxEYXRlIiwiZm9ybWF0dGVkVGltZSIsImZvcm1hdHRlZERhdGUiLCJkYXlUaW1lUHJvZ3Jlc3MiLCJ0aW1lU2xpZGVyQ29uZmlnIiwidGltZXMiLCJnZXRUaW1lcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiZGF3biIsInN1bnJpc2UiLCJzdW5zZXQiLCJkdXNrIiwic3VucmlzZVRpbWUiLCJzdW5zZXRUaW1lIiwib25UaW1lU2xpZGVyQ2hhbmdlIiwidXNlQ2FsbGJhY2siLCJ2YWx1ZSIsImNsYW1wIiwiTWF0aCIsImZsb29yIiwibmV3Rm9ybWF0dGVkVGltZSIsIm5ld1RpbWVzdGFtcCIsInNldERhdGUiLCJuZXdEYXRlIiwibmV3Rm9ybWF0dGVkRGF0ZSIsInNldFRpbWUiLCJuZXdUaW1lIiwic2V0VGltZXpvbmUiLCJuZXdUaW1lem9uZSIsInNldEN1cnJlbnREYXRlVGltZSIsImZvcm1hdFNob3J0V2Vla2RheSIsImxvY2FsZSIsImdldERheSIsImRpc2FibGVEYXRlVGltZVBpY2siLCJMSUdIVF9BTkRfU0hBRE9XX0VGRkVDVF9USU1FX01PREVTIiwicGljayIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2hlY2tlZCIsImlkIiwibGFiZWwiLCJmb3JtYXRNZXNzYWdlIiwiY29uZmlnIiwiRm9ybWF0dGVkTWVzc2FnZSIsIm9uQ2xpY2siLCJMb2NhdGlvbk1hcmtlciIsImhlaWdodCIsIlRvb2x0aXAiLCJlZmZlY3QiLCJwbGFjZSIsImRlbGF5U2hvdyIsIm1pbkRldGFpbCIsIkNhbGVuZGFyIiwiQ2xvY2siLCJzZWxlY3RlZCIsIm9uU2VsZWN0IiwiR2xvYmUiLCJjdXJyZW50IiwiYW5pbWF0aW9uIiwid2l0aFN0YXRlIiwibWFwU3RhdGVMZW5zIiwiaW5qZWN0SW50bCJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lZmZlY3RzL2VmZmVjdC10aW1lLWNvbmZpZ3VyYXRvci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IGNvbnRyaWJ1dG9ycyB0byB0aGUga2VwbGVyLmdsIHByb2plY3RcblxuaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZU1lbW99IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7aW5qZWN0SW50bCwgSW50bFNoYXBlfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQtdGltZXpvbmUnO1xuaW1wb3J0IFN1bkNhbGMgZnJvbSAnc3VuY2FsYyc7XG5cbmltcG9ydCB7TWFwU3RhdGV9IGZyb20gJ0BrZXBsZXIuZ2wvdHlwZXMnO1xuaW1wb3J0IHtGb3JtYXR0ZWRNZXNzYWdlfSBmcm9tICdAa2VwbGVyLmdsL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge2NsYW1wfSBmcm9tICdAa2VwbGVyLmdsL3V0aWxzJztcbmltcG9ydCB7XG4gIExJR0hUX0FORF9TSEFET1dfRUZGRUNUX1RJTUVfTU9ERVMsXG4gIExpZ2h0QW5kU2hhZG93RWZmZWN0VGltZU1vZGUsXG4gIERFRkFVTFRfVElNRVpPTkVcbn0gZnJvbSAnQGtlcGxlci5nbC9jb25zdGFudHMnO1xuaW1wb3J0IHttYXBTdGF0ZUxlbnN9IGZyb20gJ0BrZXBsZXIuZ2wvcmVkdWNlcnMnO1xuXG5pbXBvcnQge3dpdGhTdGF0ZX0gZnJvbSAnLi4vaW5qZWN0b3InO1xuaW1wb3J0IHtTdHlsZWREYXRlUGlja2VyIGFzIERhdGVQaWNrZXIsIFRvb2x0aXB9IGZyb20gJy4uL2NvbW1vbi9zdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnLi4vY29tbW9uL2NoZWNrYm94JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vY29tbW9uL2RhdGEtdGFibGUvYnV0dG9uJztcbmltcG9ydCB7TG9jYXRpb25NYXJrZXIsIENhbGVuZGFyLCBDbG9jaywgR2xvYmV9IGZyb20gJy4uL2NvbW1vbi9pY29ucyc7XG5pbXBvcnQgVGltZXpvbmVTZWxlY3RvckZhY3RvcnkgZnJvbSAnLi90aW1lem9uZS1zZWxlY3Rvcic7XG5pbXBvcnQgRWZmZWN0VGltZVNsaWRlckZhY3RvcnkgZnJvbSAnLi9lZmZlY3QtdGltZS1zbGlkZXInO1xuaW1wb3J0IEVmZmVjdFRpbWVTZWxlY3RvckZhY3RvcnkgZnJvbSAnLi9lZmZlY3QtdGltZS1zZWxlY3Rvcic7XG5cbmNvbnN0IERBWV9NSUxJU0VDT05EUyA9IDEwMDAgKiA2MCAqIDYwICogMjQ7XG5cbmV4cG9ydCB0eXBlIEVmZmVjdFRpbWVDb25maWd1cmF0b3JQcm9wcyA9IHtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIHRpbWV6b25lOiBzdHJpbmc7XG4gIHRpbWVNb2RlOiBMaWdodEFuZFNoYWRvd0VmZmVjdFRpbWVNb2RlO1xuICBvbkNoYW5nZTogKHBhcmFtZXRlcnM6IHtcbiAgICB0aW1lc3RhbXA/OiBudW1iZXIgfCBudWxsO1xuICAgIHRpbWV6b25lPzogc3RyaW5nO1xuICAgIHRpbWVNb2RlPzogTGlnaHRBbmRTaGFkb3dFZmZlY3RUaW1lTW9kZTtcbiAgfSkgPT4gdm9pZDtcbn07XG5cbnR5cGUgU3R5bGVkV3JhcHBlclByb3BzID0ge2Rpc2FibGVkPzogYm9vbGVhbjsgbWFyZ2luQm90dG9tPzogbnVtYmVyfTtcbmNvbnN0IFN0eWxlZFdyYXBwZXIgPSBzdHlsZWQuZGl2PFN0eWxlZFdyYXBwZXJQcm9wcz5gXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogJHtwcm9wcyA9PiBwcm9wcy5tYXJnaW5Cb3R0b20gPz8gOX1weDtcbiAgJHtwcm9wcyA9PiAocHJvcHMuaGlkZGVuID8gJ2Rpc3BsYXk6IG5vbmU7JyA6ICcnKX1cbmA7XG5cbnR5cGUgU2xpZGVyV3JhcHBlclByb3BzID0ge2Rpc2FibGVkPzogYm9vbGVhbn07XG5jb25zdCBTbGlkZXJXcmFwcGVyID0gc3R5bGVkLmRpdjxTbGlkZXJXcmFwcGVyUHJvcHM+YFxuICBtYXJnaW4tdG9wOiAxM3B4O1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICAke3Byb3BzID0+IChwcm9wcy5oaWRkZW4gPyAnZGlzcGxheTogbm9uZTsnIDogJycpfVxuYDtcblxuY29uc3QgU3R5bGVkQnV0dG9uID0gc3R5bGVkKEJ1dHRvbilgXG4gIGNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLmVmZmVjdFBhbmVsVGV4dFNlY29uZGFyeTJ9O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLmlucHV0QmdkfTtcbiAgaGVpZ2h0OiAzMnB4O1xuICB3aWR0aDogMzJweDtcbiAgcGFkZGluZzogNXB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAmOmhvdmVyIHtcbiAgICBjb2xvcjogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS5lZmZlY3RQYW5lbFRleHRNYWlufTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLmlucHV0QmdkSG92ZXJ9O1xuICB9XG5gO1xuXG5jb25zdCBTdHlsZWRSYWRpbyA9IHN0eWxlZChDaGVja2JveClgXG4gIC5rZy1jaGVja2JveF9fbGFiZWwge1xuICAgIGZvbnQtZmFtaWx5OiAke3Byb3BzID0+IHByb3BzLnRoZW1lLmZvbnRGYW1pbHl9O1xuICAgIGZvbnQtc2l6ZTogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS5pbnB1dEZvbnRTaXplfTtcbiAgfVxuICAua2ctY2hlY2tib3hfX2xhYmVsOmJlZm9yZSB7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLWNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLmVmZmVjdFBhbmVsVGV4dFNlY29uZGFyeTJ9O1xuICB9XG4gIGlucHV0OmNoZWNrZWQgKyAua2ctY2hlY2tib3hfX2xhYmVsOmJlZm9yZSB7XG4gICAgYm9yZGVyLWNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLmFjdGl2ZUNvbG9yfTtcbiAgfVxuICAua2ctY2hlY2tib3hfX2xhYmVsOmFmdGVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLmFjdGl2ZUNvbG9yfTtcbiAgfVxuYDtcblxuY29uc3QgU3R5bGVkRWZmZWN0VGltZUNvbmZpZ3VyYXRvciA9IHN0eWxlZC5kaXZgXG4gIG1hcmdpbi1ib3R0b206IDhweDtcbiAgbWFyZ2luLXRvcDogM3B4O1xuYDtcblxuY29uc3QgU3R5bGVkRGF0ZVBpY2tlciA9IHN0eWxlZC5kaXZgXG4gIC5yZWFjdC1kYXRlLXBpY2tlci0tb3BlbiAucmVhY3QtZGF0ZS1waWNrZXJfX3dyYXBwZXIgLnJlYWN0LWRhdGUtcGlja2VyX19pbnB1dEdyb3VwIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAke3Byb3BzID0+IHByb3BzLnRoZW1lLmFjdGl2ZUNvbG9yfTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHggNHB4IDBweCAwcHggIWltcG9ydGFudDtcbiAgfVxuICAucmVhY3QtY2FsZW5kYXJfX25hdmlnYXRpb25fX3ByZXYyLWJ1dHRvbixcbiAgLnJlYWN0LWNhbGVuZGFyX19uYXZpZ2F0aW9uX19uZXh0Mi1idXR0b24ge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbiAgLnJlYWN0LWNhbGVuZGFyX19uYXZpZ2F0aW9uX19sYWJlbCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMjBweDtcbiAgfVxuICAucmVhY3QtY2FsZW5kYXJfX25hdmlnYXRpb25fX2Fycm93IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAxOHB4O1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgfVxuICAucmVhY3QtY2FsZW5kYXJfX25hdmlnYXRpb25fX3ByZXYtYnV0dG9uIHtcbiAgICByaWdodDogMzZweDtcbiAgfVxuICAucmVhY3QtY2FsZW5kYXJfX25hdmlnYXRpb25fX25leHQtYnV0dG9uIHtcbiAgICByaWdodDogMTJweDtcbiAgfVxuYDtcblxudHlwZSBXaXRoSWNvbldyYXBwZXJQcm9wcyA9IHt3aWR0aD86IHN0cmluZ307XG5jb25zdCBXaXRoSWNvbldyYXBwZXIgPSBzdHlsZWQuZGl2PFdpdGhJY29uV3JhcHBlclByb3BzPmBcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAke3Byb3BzID0+IChwcm9wcy53aWR0aCA/IGB3aWR0aDogJHtwcm9wcy53aWR0aH1gIDogJycpfVxuYDtcblxuY29uc3QgU3R5bGVkRXh0cmFJY29uID0gc3R5bGVkLmRpdmBcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDBweDtcbiAgbGVmdDogOHB4O1xuICB3aWR0aDogMHB4O1xuICBoZWlnaHQ6IDMycHg7XG4gIGNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLmVmZmVjdFBhbmVsVGV4dFNlY29uZGFyeTJ9O1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbmA7XG5cbnR5cGUgVGV4dEJsb2NrUHJvcHMgPSB7XG4gIHdpZHRoPzogc3RyaW5nO1xufTtcbmNvbnN0IFRleHRCbG9jayA9IHN0eWxlZC5kaXY8VGV4dEJsb2NrUHJvcHM+YFxuICBjb2xvcjogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS5lZmZlY3RQYW5lbFRleHRTZWNvbmRhcnkyfTtcbiAgd2lkdGg6ICR7cHJvcHMgPT4gcHJvcHMud2lkdGh9O1xuICBmb250LXNpemU6ICR7cHJvcHMgPT4gcHJvcHMudGhlbWUuaW5wdXRGb250U2l6ZX07XG5gO1xuXG4vKipcbiAqIENvbnZlcnRzIGRhdGUsIHRpbWUgYW5kIHRpbWV6b25lIGludG8gYSBVVEMgdGltZXN0YW1wLlxuICogQHBhcmFtIGRhdGVTdHIgRGF0ZSBzdHJpbmcgaW4gWVlZWS1NTS1ERCBmb3JtYXQuXG4gKiBAcGFyYW0gdGltZVN0ciBUaW1lIHN0cmluZyBpbiBISDpNTSBmb3JtYXQuXG4gKiBAcGFyYW0gdGltZXpvbmUgVGltZXpvbmUgbmFtZS5cbiAqIEByZXR1cm5zIFRpbWVzdGFtcCBvciBudWxsIGlmIGNhc2Ugb2YgYmFkIGlucHV0cy5cbiAqL1xuY29uc3QgZ2V0VGltZXN0YW1wID0gKGRhdGVTdHI6IHN0cmluZywgdGltZVN0cjogc3RyaW5nLCB0aW1lem9uZTogc3RyaW5nKTogbnVtYmVyIHwgbnVsbCA9PiB7XG4gIGxldCB0aW1lc3RhbXA6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBjb25zdCBjdXJyID0gbW9tZW50LnR6KGAke2RhdGVTdHJ9VCR7dGltZVN0cn06MDBgLCB0aW1lem9uZSk7XG4gIGlmIChjdXJyLmlzVmFsaWQoKSkge1xuICAgIHRpbWVzdGFtcCA9IGN1cnIudXRjKCkudmFsdWVPZigpO1xuICB9XG4gIHJldHVybiB0aW1lc3RhbXA7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRpbWUgb2YgdGhlIGRheSBpbnRvIFswLCAxXSByYW5nZVxuICogQHBhcmFtIGRhdGVcbiAqIEByZXR1cm5zXG4gKi9cbmNvbnN0IGdldERheVJhdGlvID0gKGRhdGU6IG1vbWVudC5Nb21lbnQpID0+IHtcbiAgcmV0dXJuICgoZGF0ZS5ob3VycygpICogNjAgKyBkYXRlLm1pbnV0ZXMoKSkgKiA2MCAqIDEwMDApIC8gREFZX01JTElTRUNPTkRTO1xufTtcblxuRWZmZWN0VGltZUNvbmZpZ3VyYXRvckZhY3RvcnkuZGVwcyA9IFtcbiAgVGltZXpvbmVTZWxlY3RvckZhY3RvcnksXG4gIEVmZmVjdFRpbWVTbGlkZXJGYWN0b3J5LFxuICBFZmZlY3RUaW1lU2VsZWN0b3JGYWN0b3J5XG5dO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFZmZlY3RUaW1lQ29uZmlndXJhdG9yRmFjdG9yeShcbiAgVGltZXpvbmVTZWxlY3RvcjogUmV0dXJuVHlwZTx0eXBlb2YgVGltZXpvbmVTZWxlY3RvckZhY3Rvcnk+LFxuICBFZmZlY3RUaW1lU2xpZGVyOiBSZXR1cm5UeXBlPHR5cGVvZiBFZmZlY3RUaW1lU2xpZGVyRmFjdG9yeT4sXG4gIEVmZmVjdFRpbWVTZWxlY3RvcjogUmV0dXJuVHlwZTx0eXBlb2YgRWZmZWN0VGltZVNlbGVjdG9yRmFjdG9yeT5cbik6IFJlYWN0LkZDPEVmZmVjdFRpbWVDb25maWd1cmF0b3JQcm9wcz4ge1xuICBjb25zdCBFZmZlY3RUaW1lQ29uZmlndXJhdG9yID0gKHtcbiAgICB0aW1lc3RhbXAsXG4gICAgdGltZXpvbmU6IF90aW1lem9uZSxcbiAgICB0aW1lTW9kZSxcbiAgICBvbkNoYW5nZTogb25UaW1lUGFyYW1ldGVyc0NoYW5nZWQsXG4gICAgbWFwU3RhdGUsXG4gICAgaW50bFxuICB9OiBFZmZlY3RUaW1lQ29uZmlndXJhdG9yUHJvcHMgJiB7aW50bDogSW50bFNoYXBlOyBtYXBTdGF0ZTogTWFwU3RhdGV9KSA9PiB7XG4gICAgY29uc3QgdGltZXpvbmUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgIHJldHVybiBtb21lbnQudHoubmFtZXMoKS5pbmNsdWRlcyhfdGltZXpvbmUpID8gX3RpbWV6b25lIDogREVGQVVMVF9USU1FWk9ORTtcbiAgICB9LCBbX3RpbWV6b25lXSk7XG5cbiAgICBjb25zdCBbZGF0ZVBpY2tlckRhdGUsIGZ1bGxEYXRlLCBmb3JtYXR0ZWRUaW1lLCBmb3JtYXR0ZWREYXRlLCBkYXlUaW1lUHJvZ3Jlc3NdID1cbiAgICAgIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50TW9tZW50ID0gbW9tZW50LnR6KHRpbWVzdGFtcCwgdGltZXpvbmUpO1xuXG4gICAgICAgIC8vIFNsaWRlciB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAgICBjb25zdCBkYXlQcm9ncmVzcyA9IGdldERheVJhdGlvKGN1cnJlbnRNb21lbnQpO1xuXG4gICAgICAgIC8vIERhdGUgcGlja2VyIGFsd2F5cyByZW5kZXJzIERhdGUgaW4gbG9jYWwgdGltZXpvbmVcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGRhdGUuc2V0RnVsbFllYXIoY3VycmVudE1vbWVudC55ZWFyKCksIGN1cnJlbnRNb21lbnQubW9udGgoKSwgY3VycmVudE1vbWVudC5kYXRlKCkpO1xuICAgICAgICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgZGF0ZSxcbiAgICAgICAgICBjdXJyZW50TW9tZW50LnRvRGF0ZSgpLFxuICAgICAgICAgIGN1cnJlbnRNb21lbnQuZm9ybWF0KCdISDptbScpLFxuICAgICAgICAgIGN1cnJlbnRNb21lbnQuZm9ybWF0KCdZWVlZLU1NLUREJyksXG4gICAgICAgICAgZGF5UHJvZ3Jlc3NcbiAgICAgICAgXTtcbiAgICAgIH0sIFt0aW1lc3RhbXAsIHRpbWV6b25lXSk7XG5cbiAgICBjb25zdCB0aW1lU2xpZGVyQ29uZmlnID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCB0aW1lcyA9IFN1bkNhbGMuZ2V0VGltZXMoZnVsbERhdGUsIG1hcFN0YXRlLmxhdGl0dWRlLCBtYXBTdGF0ZS5sb25naXR1ZGUpO1xuICAgICAgY29uc3Qge2Rhd24sIHN1bnJpc2UsIHN1bnNldCwgZHVza30gPSB0aW1lcztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF3bjogZ2V0RGF5UmF0aW8obW9tZW50LnR6KGRhd24udmFsdWVPZigpLCB0aW1lem9uZSkpLFxuICAgICAgICBzdW5yaXNlOiBnZXREYXlSYXRpbyhtb21lbnQudHooc3VucmlzZS52YWx1ZU9mKCksIHRpbWV6b25lKSksXG4gICAgICAgIHN1bnNldDogZ2V0RGF5UmF0aW8obW9tZW50LnR6KHN1bnNldC52YWx1ZU9mKCksIHRpbWV6b25lKSksXG4gICAgICAgIGR1c2s6IGdldERheVJhdGlvKG1vbWVudC50eihkdXNrLnZhbHVlT2YoKSwgdGltZXpvbmUpKSxcbiAgICAgICAgc3VucmlzZVRpbWU6IG1vbWVudC50eihzdW5yaXNlLnZhbHVlT2YoKSwgdGltZXpvbmUpLmZvcm1hdCgnaGg6bW0gQScpLFxuICAgICAgICBzdW5zZXRUaW1lOiBtb21lbnQudHooc3Vuc2V0LnZhbHVlT2YoKSwgdGltZXpvbmUpLmZvcm1hdCgnaGg6bW0gQScpXG4gICAgICB9O1xuICAgIH0sIFtmdWxsRGF0ZSwgdGltZXpvbmUsIG1hcFN0YXRlLmxhdGl0dWRlLCBtYXBTdGF0ZS5sb25naXR1ZGVdKTtcblxuICAgIGNvbnN0IG9uVGltZVNsaWRlckNoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgICAgdmFsdWUgPT4ge1xuICAgICAgICBjb25zdCBob3VycyA9IGNsYW1wKFswLCAyM10sIE1hdGguZmxvb3IodmFsdWVbMV0gKiAyNCkpO1xuICAgICAgICBjb25zdCBtaW51dGVzID0gY2xhbXAoWzAsIDU5XSwgTWF0aC5mbG9vcigodmFsdWVbMV0gKiAyNCAtIGhvdXJzKSAqIDYwKSk7XG5cbiAgICAgICAgY29uc3QgbmV3Rm9ybWF0dGVkVGltZSA9IGAke2hvdXJzIDwgMTAgPyBgMCR7aG91cnN9YCA6IGhvdXJzfToke1xuICAgICAgICAgIG1pbnV0ZXMgPCAxMCA/IGAwJHttaW51dGVzfWAgOiBtaW51dGVzXG4gICAgICAgIH1gO1xuICAgICAgICBjb25zdCBuZXdUaW1lc3RhbXAgPSBnZXRUaW1lc3RhbXAoZm9ybWF0dGVkRGF0ZSwgbmV3Rm9ybWF0dGVkVGltZSwgdGltZXpvbmUpO1xuICAgICAgICBvblRpbWVQYXJhbWV0ZXJzQ2hhbmdlZCh7dGltZXN0YW1wOiBuZXdUaW1lc3RhbXB9KTtcbiAgICAgIH0sXG4gICAgICBbZm9ybWF0dGVkRGF0ZSwgdGltZXpvbmUsIG9uVGltZVBhcmFtZXRlcnNDaGFuZ2VkXVxuICAgICk7XG5cbiAgICBjb25zdCBzZXREYXRlID0gdXNlQ2FsbGJhY2soXG4gICAgICBuZXdEYXRlID0+IHtcbiAgICAgICAgaWYgKCFuZXdEYXRlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbmV3Rm9ybWF0dGVkRGF0ZSA9IG1vbWVudChuZXdEYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgY29uc3QgbmV3VGltZXN0YW1wID0gZ2V0VGltZXN0YW1wKG5ld0Zvcm1hdHRlZERhdGUsIGZvcm1hdHRlZFRpbWUsIHRpbWV6b25lKTtcbiAgICAgICAgb25UaW1lUGFyYW1ldGVyc0NoYW5nZWQoe3RpbWVzdGFtcDogbmV3VGltZXN0YW1wfSk7XG4gICAgICB9LFxuICAgICAgW2Zvcm1hdHRlZFRpbWUsIHRpbWV6b25lLCBvblRpbWVQYXJhbWV0ZXJzQ2hhbmdlZF1cbiAgICApO1xuXG4gICAgY29uc3Qgc2V0VGltZSA9IHVzZUNhbGxiYWNrKFxuICAgICAgbmV3VGltZSA9PiB7XG4gICAgICAgIGlmICghbmV3VGltZSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG5ld1RpbWVzdGFtcCA9IGdldFRpbWVzdGFtcChmb3JtYXR0ZWREYXRlLCBuZXdUaW1lLCB0aW1lem9uZSk7XG4gICAgICAgIG9uVGltZVBhcmFtZXRlcnNDaGFuZ2VkKHt0aW1lc3RhbXA6IG5ld1RpbWVzdGFtcH0pO1xuICAgICAgfSxcbiAgICAgIFtmb3JtYXR0ZWREYXRlLCB0aW1lem9uZSwgb25UaW1lUGFyYW1ldGVyc0NoYW5nZWRdXG4gICAgKTtcblxuICAgIGNvbnN0IHNldFRpbWV6b25lID0gdXNlQ2FsbGJhY2soXG4gICAgICBuZXdUaW1lem9uZSA9PiB7XG4gICAgICAgIGlmICghbmV3VGltZXpvbmUpIHJldHVybjtcblxuICAgICAgICBjb25zdCBuZXdUaW1lc3RhbXAgPSBnZXRUaW1lc3RhbXAoZm9ybWF0dGVkRGF0ZSwgZm9ybWF0dGVkVGltZSwgbmV3VGltZXpvbmUpO1xuICAgICAgICAvLyBkYXRlIGFuZCB0aW1lIGFyZSBhZGp1c3RlZCB0byBoYXZlIHRoZSBzYW1lIHZhbHVlIGJ1dCBpbiB0aGUgbmV3IHRpbWV6b25lXG4gICAgICAgIG9uVGltZVBhcmFtZXRlcnNDaGFuZ2VkKHt0aW1lc3RhbXA6IG5ld1RpbWVzdGFtcCwgdGltZXpvbmU6IG5ld1RpbWV6b25lfSk7XG4gICAgICB9LFxuICAgICAgW2Zvcm1hdHRlZERhdGUsIGZvcm1hdHRlZFRpbWUsIG9uVGltZVBhcmFtZXRlcnNDaGFuZ2VkXVxuICAgICk7XG5cbiAgICBjb25zdCBzZXRDdXJyZW50RGF0ZVRpbWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBvblRpbWVQYXJhbWV0ZXJzQ2hhbmdlZCh7dGltZXN0YW1wOiBuZXcgRGF0ZSgpLnZhbHVlT2YoKX0pO1xuICAgIH0sIFtvblRpbWVQYXJhbWV0ZXJzQ2hhbmdlZF0pO1xuXG4gICAgY29uc3QgZm9ybWF0U2hvcnRXZWVrZGF5ID0gdXNlQ2FsbGJhY2soKGxvY2FsZSwgZGF0ZSkgPT4ge1xuICAgICAgcmV0dXJuIFsnUycsICdNJywgJ1QnLCAnVycsICdUJywgJ0YnLCAnUyddW2RhdGUuZ2V0RGF5KCldO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGRpc2FibGVEYXRlVGltZVBpY2sgPSB0aW1lTW9kZSAhPT0gTElHSFRfQU5EX1NIQURPV19FRkZFQ1RfVElNRV9NT0RFUy5waWNrO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxTdHlsZWRFZmZlY3RUaW1lQ29uZmlndXJhdG9yPlxuICAgICAgICA8U3R5bGVkV3JhcHBlciBtYXJnaW5Cb3R0b209ezE2fT5cbiAgICAgICAgICA8U3R5bGVkUmFkaW9cbiAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICBjaGVja2VkPXt0aW1lTW9kZSA9PT0gTElHSFRfQU5EX1NIQURPV19FRkZFQ1RfVElNRV9NT0RFUy5waWNrfVxuICAgICAgICAgICAgaWQ9e2BlZmZlY3QtdGltZS10b2dnbGUtdXNlLXBpY2stdGltZWB9XG4gICAgICAgICAgICBsYWJlbD17aW50bC5mb3JtYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgaWQ6ICdlZmZlY3RNYW5hZ2VyLnBpY2tEYXRlVGltZSdcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHtcbiAgICAgICAgICAgICAgb25UaW1lUGFyYW1ldGVyc0NoYW5nZWQoe3RpbWVNb2RlOiBMSUdIVF9BTkRfU0hBRE9XX0VGRkVDVF9USU1FX01PREVTLnBpY2t9KTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TdHlsZWRXcmFwcGVyPlxuXG4gICAgICAgIDxTbGlkZXJXcmFwcGVyIGhpZGRlbj17ZGlzYWJsZURhdGVUaW1lUGlja30+XG4gICAgICAgICAgPEVmZmVjdFRpbWVTbGlkZXJcbiAgICAgICAgICAgIHZhbHVlPXtkYXlUaW1lUHJvZ3Jlc3N9XG4gICAgICAgICAgICBvbkNoYW5nZT17b25UaW1lU2xpZGVyQ2hhbmdlfVxuICAgICAgICAgICAgY29uZmlnPXt0aW1lU2xpZGVyQ29uZmlnfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvU2xpZGVyV3JhcHBlcj5cblxuICAgICAgICA8U3R5bGVkV3JhcHBlciBoaWRkZW49e2Rpc2FibGVEYXRlVGltZVBpY2t9IG1hcmdpbkJvdHRvbT17Mn0+XG4gICAgICAgICAgPFRleHRCbG9jayB3aWR0aD1cIjMycHhcIiAvPlxuICAgICAgICAgIDxUZXh0QmxvY2sgd2lkdGg9XCIxMTBweFwiPlxuICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9eydlZmZlY3RNYW5hZ2VyLmRhdGUnfSAvPlxuICAgICAgICAgIDwvVGV4dEJsb2NrPlxuICAgICAgICAgIDxUZXh0QmxvY2sgd2lkdGg9XCIxMTBweFwiPlxuICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9eydlZmZlY3RNYW5hZ2VyLnRpbWUnfSAvPlxuICAgICAgICAgIDwvVGV4dEJsb2NrPlxuICAgICAgICA8L1N0eWxlZFdyYXBwZXI+XG5cbiAgICAgICAgPFN0eWxlZFdyYXBwZXIgaGlkZGVuPXtkaXNhYmxlRGF0ZVRpbWVQaWNrfSBtYXJnaW5Cb3R0b209ezE2fT5cbiAgICAgICAgICA8U3R5bGVkQnV0dG9uIG9uQ2xpY2s9e3NldEN1cnJlbnREYXRlVGltZX0gZGF0YS1mb3I9XCJwaWNrLXRpbWUtYnV0dG9uXCIgZGF0YS10aXA+XG4gICAgICAgICAgICA8TG9jYXRpb25NYXJrZXIgaGVpZ2h0PVwiMTZweFwiIC8+XG4gICAgICAgICAgICA8VG9vbHRpcCBpZD1cInBpY2stdGltZS1idXR0b25cIiBlZmZlY3Q9XCJzb2xpZFwiIHBsYWNlPVwidG9wXCIgZGVsYXlTaG93PXs1MDB9PlxuICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD17J2VmZmVjdE1hbmFnZXIucGlja0N1cnJyZW50VGltZSd9IC8+XG4gICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgPC9TdHlsZWRCdXR0b24+XG4gICAgICAgICAgPFdpdGhJY29uV3JhcHBlcj5cbiAgICAgICAgICAgIDxTdHlsZWREYXRlUGlja2VyPlxuICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgIHZhbHVlPXtkYXRlUGlja2VyRGF0ZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17c2V0RGF0ZX1cbiAgICAgICAgICAgICAgICBtaW5EZXRhaWw9eydtb250aCd9XG4gICAgICAgICAgICAgICAgZm9ybWF0U2hvcnRXZWVrZGF5PXtmb3JtYXRTaG9ydFdlZWtkYXl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1N0eWxlZERhdGVQaWNrZXI+XG4gICAgICAgICAgICA8U3R5bGVkRXh0cmFJY29uPlxuICAgICAgICAgICAgICA8Q2FsZW5kYXIgd2lkdGg9XCIxNnB4XCIgaGVpZ2h0PVwiMzJweFwiIC8+XG4gICAgICAgICAgICA8L1N0eWxlZEV4dHJhSWNvbj5cbiAgICAgICAgICA8L1dpdGhJY29uV3JhcHBlcj5cbiAgICAgICAgICA8V2l0aEljb25XcmFwcGVyPlxuICAgICAgICAgICAgPEVmZmVjdFRpbWVTZWxlY3RvciB2YWx1ZT17Zm9ybWF0dGVkVGltZX0gb25DaGFuZ2U9e3NldFRpbWV9IC8+XG4gICAgICAgICAgICA8U3R5bGVkRXh0cmFJY29uPlxuICAgICAgICAgICAgICA8Q2xvY2sgd2lkdGg9XCIxNnB4XCIgaGVpZ2h0PVwiMzJweFwiIC8+XG4gICAgICAgICAgICA8L1N0eWxlZEV4dHJhSWNvbj5cbiAgICAgICAgICA8L1dpdGhJY29uV3JhcHBlcj5cbiAgICAgICAgPC9TdHlsZWRXcmFwcGVyPlxuXG4gICAgICAgIDxTdHlsZWRXcmFwcGVyIGhpZGRlbj17ZGlzYWJsZURhdGVUaW1lUGlja30gbWFyZ2luQm90dG9tPXsyfT5cbiAgICAgICAgICA8VGV4dEJsb2NrPlxuICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9eydlZmZlY3RNYW5hZ2VyLnRpbWV6b25lJ30gLz5cbiAgICAgICAgICA8L1RleHRCbG9jaz5cbiAgICAgICAgPC9TdHlsZWRXcmFwcGVyPlxuXG4gICAgICAgIDxTdHlsZWRXcmFwcGVyIGhpZGRlbj17ZGlzYWJsZURhdGVUaW1lUGlja30gbWFyZ2luQm90dG9tPXsyNH0+XG4gICAgICAgICAgPFdpdGhJY29uV3JhcHBlciB3aWR0aD17JzEwMCUnfT5cbiAgICAgICAgICAgIDxUaW1lem9uZVNlbGVjdG9yIHNlbGVjdGVkPXt0aW1lem9uZX0gb25TZWxlY3Q9e3NldFRpbWV6b25lfSAvPlxuICAgICAgICAgICAgPFN0eWxlZEV4dHJhSWNvbj5cbiAgICAgICAgICAgICAgPEdsb2JlIHdpZHRoPVwiMTZweFwiIGhlaWdodD1cIjMycHhcIiAvPlxuICAgICAgICAgICAgPC9TdHlsZWRFeHRyYUljb24+XG4gICAgICAgICAgPC9XaXRoSWNvbldyYXBwZXI+XG4gICAgICAgIDwvU3R5bGVkV3JhcHBlcj5cblxuICAgICAgICA8U3R5bGVkV3JhcHBlciBtYXJnaW5Cb3R0b209ezE2fT5cbiAgICAgICAgICA8U3R5bGVkUmFkaW9cbiAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICBjaGVja2VkPXt0aW1lTW9kZSA9PT0gTElHSFRfQU5EX1NIQURPV19FRkZFQ1RfVElNRV9NT0RFUy5jdXJyZW50fVxuICAgICAgICAgICAgaWQ9e2BlZmZlY3QtdGltZS10b2dnbGUtdXNlLWN1cnJlbnQtdGltZWB9XG4gICAgICAgICAgICBsYWJlbD17aW50bC5mb3JtYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgaWQ6ICdlZmZlY3RNYW5hZ2VyLmN1cnJlbnRUaW1lJ1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4ge1xuICAgICAgICAgICAgICBvblRpbWVQYXJhbWV0ZXJzQ2hhbmdlZCh7dGltZU1vZGU6IExJR0hUX0FORF9TSEFET1dfRUZGRUNUX1RJTUVfTU9ERVMuY3VycmVudH0pO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L1N0eWxlZFdyYXBwZXI+XG5cbiAgICAgICAgPFN0eWxlZFdyYXBwZXIgbWFyZ2luQm90dG9tPXsxNn0+XG4gICAgICAgICAgPFN0eWxlZFJhZGlvXG4gICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgY2hlY2tlZD17dGltZU1vZGUgPT09IExJR0hUX0FORF9TSEFET1dfRUZGRUNUX1RJTUVfTU9ERVMuYW5pbWF0aW9ufVxuICAgICAgICAgICAgaWQ9e2BlZmZlY3QtdGltZS10b2dnbGUtdXNlLWFuaW1hdGlvbi10aW1lYH1cbiAgICAgICAgICAgIGxhYmVsPXsnQW5pbWF0aW9uIHRpbWUnfVxuICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHtcbiAgICAgICAgICAgICAgb25UaW1lUGFyYW1ldGVyc0NoYW5nZWQoe3RpbWVNb2RlOiBMSUdIVF9BTkRfU0hBRE9XX0VGRkVDVF9USU1FX01PREVTLmFuaW1hdGlvbn0pO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L1N0eWxlZFdyYXBwZXI+XG4gICAgICA8L1N0eWxlZEVmZmVjdFRpbWVDb25maWd1cmF0b3I+XG4gICAgKTtcbiAgfTtcblxuICAvLyBAdHMtZXhwZWN0LWVycm9yIGhvdyB0byBwcm9wZXJseSB0eXBlP1xuICByZXR1cm4gd2l0aFN0YXRlKFttYXBTdGF0ZUxlbnNdKShpbmplY3RJbnRsKEVmZmVjdFRpbWVDb25maWd1cmF0b3IpKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUdBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLGlCQUFB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QjtJQUFZLENBQUUsQ0FBQyxlQUMvRG5KLE1BQUEsWUFBQTRKLGFBQUEsQ0FBQ25GLGVBQWUscUJBQ2R6RSxNQUFBLFlBQUE0SixhQUFBLENBQUM1SSxNQUFBLENBQUFnSyxLQUFLO01BQUN6RyxLQUFLLEVBQUMsTUFBTTtNQUFDK0YsTUFBTSxFQUFDO0lBQU0sQ0FBRSxDQUNwQixDQUNGLENBQ0osQ0FBQyxlQUVoQnRLLE1BQUEsWUFBQTRKLGFBQUEsQ0FBQzFHLGFBQWE7TUFBQ0ssWUFBWSxFQUFFO0lBQUcsZ0JBQzlCdkQsTUFBQSxZQUFBNEosYUFBQSxDQUFDNUYsV0FBVztNQUNWNkYsSUFBSSxFQUFDLE9BQU87TUFDWkMsT0FBTyxFQUFFN0QsUUFBUSxLQUFLdkYsVUFBQSxDQUFBZ0osa0NBQWtDLENBQUN1QixPQUFRO01BQ2pFbEIsRUFBRSx1Q0FBd0M7TUFDMUNDLEtBQUssRUFBRTNELElBQUksQ0FBQzRELGFBQWEsQ0FBQztRQUN4QkYsRUFBRSxFQUFFO01BQ04sQ0FBQyxDQUFFO01BQ0g1RCxRQUFRLEVBQUUsU0FBVkEsUUFBUUEsQ0FBQSxFQUFRO1FBQ2RELHVCQUF1QixDQUFDO1VBQUNELFFBQVEsRUFBRXZGLFVBQUEsQ0FBQWdKLGtDQUFrQyxDQUFDdUI7UUFBTyxDQUFDLENBQUM7TUFDakY7SUFBRSxDQUNILENBQ1ksQ0FBQyxlQUVoQmpMLE1BQUEsWUFBQTRKLGFBQUEsQ0FBQzFHLGFBQWE7TUFBQ0ssWUFBWSxFQUFFO0lBQUcsZ0JBQzlCdkQsTUFBQSxZQUFBNEosYUFBQSxDQUFDNUYsV0FBVztNQUNWNkYsSUFBSSxFQUFDLE9BQU87TUFDWkMsT0FBTyxFQUFFN0QsUUFBUSxLQUFLdkYsVUFBQSxDQUFBZ0osa0NBQWtDLENBQUN3QixTQUFVO01BQ25FbkIsRUFBRSx5Q0FBMEM7TUFDNUNDLEtBQUssRUFBRSxnQkFBaUI7TUFDeEI3RCxRQUFRLEVBQUUsU0FBVkEsUUFBUUEsQ0FBQSxFQUFRO1FBQ2RELHVCQUF1QixDQUFDO1VBQUNELFFBQVEsRUFBRXZGLFVBQUEsQ0FBQWdKLGtDQUFrQyxDQUFDd0I7UUFBUyxDQUFDLENBQUM7TUFDbkY7SUFBRSxDQUNILENBQ1ksQ0FDYSxDQUFDO0VBRW5DLENBQUM7O0VBRUQ7RUFDQSxPQUFPLElBQUF0SyxTQUFBLENBQUF1SyxTQUFTLEVBQUMsQ0FBQ3hLLFNBQUEsQ0FBQXlLLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBQWpMLFVBQUEsQ0FBQWtMLFVBQVUsRUFBQ3ZGLHNCQUFzQixDQUFDLENBQUM7QUFDdEUiLCJpZ25vcmVMaXN0IjpbXX0=