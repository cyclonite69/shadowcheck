"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.DragItem = void 0;
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireWildcard(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/react"));
var _styledComponents = _interopRequireDefault(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/styled-components"));
var _core = require("@dnd-kit/core");
var _console = _interopRequireDefault(require("global/console"));
var _layerPanelHeader = _interopRequireDefault(require("./side-panel/layer-panel/layer-panel-header"));
var _useDndLayers2 = _interopRequireDefault(require("./hooks/use-dnd-layers"));
var _useDndEffects2 = _interopRequireDefault(require("./hooks/use-dnd-effects"));
var _dndLayerItems = require("./common/dnd-layer-items");
var _templateObject; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
function _getRequireWildcardCache(e) {
  if ("function" != typeof WeakMap) return null;
  var r = new WeakMap(),
    t = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {
    return e ? t : r;
  })(e);
}
function _interopRequireWildcard(e, r) {
  if (!r && e && e.__esModule) return e;
  if (null === e || "object" != _typeof(e) && "function" != typeof e) return {
    "default": e
  };
  var t = _getRequireWildcardCache(r);
  if (t && t.has(e)) return t.get(e);
  var n = {
      __proto__: null
    },
    a = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) {
    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];
  }
  return n["default"] = e, t && t.set(e, n), n;
}
var DragItem = exports.DragItem = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  color: ", ";\n  border-radius: ", "px;\n  padding: 5px 10px;\n  display: inline;\n"])), function (props) {
  return props.theme.textColorHl;
}, function (props) {
  return props.theme.radioButtonRadius;
});
var nop = function nop() {
  return undefined;
};
DndContextFactory.deps = [_layerPanelHeader["default"]];
function DndContextFactory(LayerPanelHeader) {
  var LayerPanelOverlay = function LayerPanelOverlay(_ref) {
    var layer = _ref.layer,
      datasets = _ref.datasets;
    var color = layer.config.dataId && datasets[layer.config.dataId] ? datasets[layer.config.dataId].color : null;
    return /*#__PURE__*/_react["default"].createElement(LayerPanelHeader, {
      isConfigActive: false,
      layerId: layer.id,
      isVisible: true,
      isValid: true,
      label: layer.config.label,
      labelRCGColorValues: color,
      onToggleVisibility: nop,
      onResetIsValid: nop,
      onUpdateLayerLabel: nop,
      onToggleEnableConfig: nop,
      onDuplicateLayer: nop,
      onRemoveLayer: nop,
      onZoomToLayer: nop,
      layerType: layer.type,
      allowDuplicate: false,
      isDragNDropEnabled: false
    });
  };
  var DndContext = function DndContext(_ref2) {
    var children = _ref2.children,
      visState = _ref2.visState;
    var datasets = visState.datasets,
      layerOrder = visState.layerOrder,
      layers = visState.layers,
      effects = visState.effects,
      effectOrder = visState.effectOrder,
      splitMaps = visState.splitMaps;
    var _useDndLayers = (0, _useDndLayers2["default"])(layers, layerOrder),
      activeLayer = _useDndLayers.activeLayer,
      onLayerDragStart = _useDndLayers.onDragStart,
      onLayerDragEnd = _useDndLayers.onDragEnd;
    var _useDndEffects = (0, _useDndEffects2["default"])(effects, effectOrder),
      onEffectDragStart = _useDndEffects.onDragStart,
      onEffectDragEnd = _useDndEffects.onDragEnd;
    var isSplit = (0, _react.useMemo)(function () {
      return (splitMaps === null || splitMaps === void 0 ? void 0 : splitMaps.length) > 1;
    }, [splitMaps]);
    var dndModifiers = (0, _react.useMemo)(function () {
      return isSplit ? _dndLayerItems.DND_EMPTY_MODIFIERS : _dndLayerItems.DND_MODIFIERS;
    }, [isSplit]);
    var onDragStart = (0, _react.useCallback)(function (event) {
      var _event$active$data;
      var activeType = (_event$active$data = event.active.data) === null || _event$active$data === void 0 || (_event$active$data = _event$active$data.current) === null || _event$active$data === void 0 ? void 0 : _event$active$data.type;
      switch (activeType) {
        case _dndLayerItems.SORTABLE_LAYER_TYPE:
          onLayerDragStart(event);
          break;
        case _dndLayerItems.SORTABLE_EFFECT_TYPE:
          onEffectDragStart(event);
          break;
        default:
          _console["default"].log("activeType ".concat(activeType, " unknown"));
      }
    }, [onLayerDragStart, onEffectDragStart]);
    var onDragEnd = (0, _react.useCallback)(function (event) {
      var _event$active$data2;
      var activeType = (_event$active$data2 = event.active.data) === null || _event$active$data2 === void 0 || (_event$active$data2 = _event$active$data2.current) === null || _event$active$data2 === void 0 ? void 0 : _event$active$data2.type;
      switch (activeType) {
        case _dndLayerItems.SORTABLE_LAYER_TYPE:
          onLayerDragEnd(event);
          break;
        case _dndLayerItems.SORTABLE_EFFECT_TYPE:
          onEffectDragEnd(event);
          break;
        default:
          _console["default"].log("activeType ".concat(activeType, " unknown"));
      }
    }, [onLayerDragEnd, onEffectDragEnd]);
    return /*#__PURE__*/_react["default"].createElement(_core.DndContext, {
      onDragStart: onDragStart,
      onDragEnd: onDragEnd,
      modifiers: dndModifiers
    }, children, activeLayer ? /*#__PURE__*/_react["default"].createElement(_core.DragOverlay, {
      modifiers: dndModifiers,
      dropAnimation: null
    }, /*#__PURE__*/_react["default"].createElement(DragItem, null, /*#__PURE__*/_react["default"].createElement(LayerPanelOverlay, {
      layer: activeLayer,
      datasets: datasets
    }))) : null);
  };
  return DndContext;
}
var _default = exports["default"] = DndContextFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfc3R5bGVkQ29tcG9uZW50cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfY29yZSIsIl9jb25zb2xlIiwiX2xheWVyUGFuZWxIZWFkZXIiLCJfdXNlRG5kTGF5ZXJzMiIsIl91c2VEbmRFZmZlY3RzMiIsIl9kbmRMYXllckl0ZW1zIiwiX3RlbXBsYXRlT2JqZWN0IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiRHJhZ0l0ZW0iLCJleHBvcnRzIiwiZGl2IiwiX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbDIiLCJwcm9wcyIsInRoZW1lIiwidGV4dENvbG9ySGwiLCJyYWRpb0J1dHRvblJhZGl1cyIsIm5vcCIsInVuZGVmaW5lZCIsIkRuZENvbnRleHRGYWN0b3J5IiwiZGVwcyIsIkxheWVyUGFuZWxIZWFkZXIiLCJMYXllclBhbmVsT3ZlcmxheSIsIl9yZWYiLCJsYXllciIsImRhdGFzZXRzIiwiY29sb3IiLCJjb25maWciLCJkYXRhSWQiLCJjcmVhdGVFbGVtZW50IiwiaXNDb25maWdBY3RpdmUiLCJsYXllcklkIiwiaWQiLCJpc1Zpc2libGUiLCJpc1ZhbGlkIiwibGFiZWwiLCJsYWJlbFJDR0NvbG9yVmFsdWVzIiwib25Ub2dnbGVWaXNpYmlsaXR5Iiwib25SZXNldElzVmFsaWQiLCJvblVwZGF0ZUxheWVyTGFiZWwiLCJvblRvZ2dsZUVuYWJsZUNvbmZpZyIsIm9uRHVwbGljYXRlTGF5ZXIiLCJvblJlbW92ZUxheWVyIiwib25ab29tVG9MYXllciIsImxheWVyVHlwZSIsInR5cGUiLCJhbGxvd0R1cGxpY2F0ZSIsImlzRHJhZ05Ecm9wRW5hYmxlZCIsIkRuZENvbnRleHQiLCJfcmVmMiIsImNoaWxkcmVuIiwidmlzU3RhdGUiLCJsYXllck9yZGVyIiwibGF5ZXJzIiwiZWZmZWN0cyIsImVmZmVjdE9yZGVyIiwic3BsaXRNYXBzIiwiX3VzZURuZExheWVycyIsImFjdGl2ZUxheWVyIiwib25MYXllckRyYWdTdGFydCIsIm9uRHJhZ1N0YXJ0Iiwib25MYXllckRyYWdFbmQiLCJvbkRyYWdFbmQiLCJfdXNlRG5kRWZmZWN0cyIsIm9uRWZmZWN0RHJhZ1N0YXJ0Iiwib25FZmZlY3REcmFnRW5kIiwiaXNTcGxpdCIsInVzZU1lbW8iLCJsZW5ndGgiLCJkbmRNb2RpZmllcnMiLCJETkRfRU1QVFlfTU9ESUZJRVJTIiwiRE5EX01PRElGSUVSUyIsInVzZUNhbGxiYWNrIiwiZXZlbnQiLCJfZXZlbnQkYWN0aXZlJGRhdGEiLCJhY3RpdmVUeXBlIiwiYWN0aXZlIiwiZGF0YSIsImN1cnJlbnQiLCJTT1JUQUJMRV9MQVlFUl9UWVBFIiwiU09SVEFCTEVfRUZGRUNUX1RZUEUiLCJsb2ciLCJjb25jYXQiLCJfZXZlbnQkYWN0aXZlJGRhdGEyIiwibW9kaWZpZXJzIiwiRHJhZ092ZXJsYXkiLCJkcm9wQW5pbWF0aW9uIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyIuLi9zcmMvZG5kLWNvbnRleHQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCBjb250cmlidXRvcnMgdG8gdGhlIGtlcGxlci5nbCBwcm9qZWN0XG5cbmltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VNZW1vLCBQcm9wc1dpdGhDaGlsZHJlbn0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQge0RuZENvbnRleHQgYXMgRG5kS2l0Q29udGV4dCwgRHJhZ092ZXJsYXl9IGZyb20gJ0BkbmQta2l0L2NvcmUnO1xuXG5pbXBvcnQgQ29uc29sZSBmcm9tICdnbG9iYWwvY29uc29sZSc7XG5pbXBvcnQge1Zpc1N0YXRlfSBmcm9tICdAa2VwbGVyLmdsL3NjaGVtYXMnO1xuXG5pbXBvcnQgTGF5ZXJQYW5lbEhlYWRlckZhY3RvcnkgZnJvbSAnLi9zaWRlLXBhbmVsL2xheWVyLXBhbmVsL2xheWVyLXBhbmVsLWhlYWRlcic7XG5pbXBvcnQgdXNlRG5kTGF5ZXJzIGZyb20gJy4vaG9va3MvdXNlLWRuZC1sYXllcnMnO1xuaW1wb3J0IHVzZURuZEVmZmVjdHMgZnJvbSAnLi9ob29rcy91c2UtZG5kLWVmZmVjdHMnO1xuXG5pbXBvcnQge1xuICBETkRfTU9ESUZJRVJTLFxuICBETkRfRU1QVFlfTU9ESUZJRVJTLFxuICBTT1JUQUJMRV9MQVlFUl9UWVBFLFxuICBTT1JUQUJMRV9FRkZFQ1RfVFlQRVxufSBmcm9tICcuL2NvbW1vbi9kbmQtbGF5ZXItaXRlbXMnO1xuXG5leHBvcnQgdHlwZSBEbmRDb250ZXh0UHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIHZpc1N0YXRlOiBWaXNTdGF0ZTtcbn0+O1xuXG5leHBvcnQgdHlwZSBEbmRDb250ZXh0Q29tcG9uZW50ID0gUmVhY3QuRkM8RG5kQ29udGV4dFByb3BzPjtcblxuZXhwb3J0IGNvbnN0IERyYWdJdGVtID0gc3R5bGVkLmRpdmBcbiAgY29sb3I6ICR7cHJvcHMgPT4gcHJvcHMudGhlbWUudGV4dENvbG9ySGx9O1xuICBib3JkZXItcmFkaXVzOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLnJhZGlvQnV0dG9uUmFkaXVzfXB4O1xuICBwYWRkaW5nOiA1cHggMTBweDtcbiAgZGlzcGxheTogaW5saW5lO1xuYDtcblxuY29uc3Qgbm9wID0gKCkgPT4gdW5kZWZpbmVkO1xuXG5EbmRDb250ZXh0RmFjdG9yeS5kZXBzID0gW0xheWVyUGFuZWxIZWFkZXJGYWN0b3J5XTtcblxuZnVuY3Rpb24gRG5kQ29udGV4dEZhY3RvcnkoXG4gIExheWVyUGFuZWxIZWFkZXI6IFJldHVyblR5cGU8dHlwZW9mIExheWVyUGFuZWxIZWFkZXJGYWN0b3J5PlxuKTogUmVhY3QuRkM8RG5kQ29udGV4dFByb3BzPiB7XG4gIGNvbnN0IExheWVyUGFuZWxPdmVybGF5ID0gKHtsYXllciwgZGF0YXNldHN9KSA9PiB7XG4gICAgY29uc3QgY29sb3IgPVxuICAgICAgbGF5ZXIuY29uZmlnLmRhdGFJZCAmJiBkYXRhc2V0c1tsYXllci5jb25maWcuZGF0YUlkXVxuICAgICAgICA/IGRhdGFzZXRzW2xheWVyLmNvbmZpZy5kYXRhSWRdLmNvbG9yXG4gICAgICAgIDogbnVsbDtcbiAgICByZXR1cm4gKFxuICAgICAgPExheWVyUGFuZWxIZWFkZXJcbiAgICAgICAgaXNDb25maWdBY3RpdmU9e2ZhbHNlfVxuICAgICAgICBsYXllcklkPXtsYXllci5pZH1cbiAgICAgICAgaXNWaXNpYmxlPXt0cnVlfVxuICAgICAgICBpc1ZhbGlkPXt0cnVlfVxuICAgICAgICBsYWJlbD17bGF5ZXIuY29uZmlnLmxhYmVsfVxuICAgICAgICBsYWJlbFJDR0NvbG9yVmFsdWVzPXtjb2xvcn1cbiAgICAgICAgb25Ub2dnbGVWaXNpYmlsaXR5PXtub3B9XG4gICAgICAgIG9uUmVzZXRJc1ZhbGlkPXtub3B9XG4gICAgICAgIG9uVXBkYXRlTGF5ZXJMYWJlbD17bm9wfVxuICAgICAgICBvblRvZ2dsZUVuYWJsZUNvbmZpZz17bm9wfVxuICAgICAgICBvbkR1cGxpY2F0ZUxheWVyPXtub3B9XG4gICAgICAgIG9uUmVtb3ZlTGF5ZXI9e25vcH1cbiAgICAgICAgb25ab29tVG9MYXllcj17bm9wfVxuICAgICAgICBsYXllclR5cGU9e2xheWVyLnR5cGV9XG4gICAgICAgIGFsbG93RHVwbGljYXRlPXtmYWxzZX1cbiAgICAgICAgaXNEcmFnTkRyb3BFbmFibGVkPXtmYWxzZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBEbmRDb250ZXh0ID0gKHtjaGlsZHJlbiwgdmlzU3RhdGV9OiBEbmRDb250ZXh0UHJvcHMpID0+IHtcbiAgICBjb25zdCB7ZGF0YXNldHMsIGxheWVyT3JkZXIsIGxheWVycywgZWZmZWN0cywgZWZmZWN0T3JkZXIsIHNwbGl0TWFwc30gPSB2aXNTdGF0ZTtcblxuICAgIGNvbnN0IHtcbiAgICAgIGFjdGl2ZUxheWVyLFxuICAgICAgb25EcmFnU3RhcnQ6IG9uTGF5ZXJEcmFnU3RhcnQsXG4gICAgICBvbkRyYWdFbmQ6IG9uTGF5ZXJEcmFnRW5kXG4gICAgfSA9IHVzZURuZExheWVycyhsYXllcnMsIGxheWVyT3JkZXIpO1xuICAgIGNvbnN0IHtvbkRyYWdTdGFydDogb25FZmZlY3REcmFnU3RhcnQsIG9uRHJhZ0VuZDogb25FZmZlY3REcmFnRW5kfSA9IHVzZURuZEVmZmVjdHMoXG4gICAgICBlZmZlY3RzLFxuICAgICAgZWZmZWN0T3JkZXJcbiAgICApO1xuXG4gICAgY29uc3QgaXNTcGxpdCA9IHVzZU1lbW8oKCkgPT4gc3BsaXRNYXBzPy5sZW5ndGggPiAxLCBbc3BsaXRNYXBzXSk7XG4gICAgY29uc3QgZG5kTW9kaWZpZXJzID0gdXNlTWVtbygoKSA9PiAoaXNTcGxpdCA/IERORF9FTVBUWV9NT0RJRklFUlMgOiBETkRfTU9ESUZJRVJTKSwgW2lzU3BsaXRdKTtcblxuICAgIGNvbnN0IG9uRHJhZ1N0YXJ0ID0gdXNlQ2FsbGJhY2soXG4gICAgICBldmVudCA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVR5cGUgPSBldmVudC5hY3RpdmUuZGF0YT8uY3VycmVudD8udHlwZTtcbiAgICAgICAgc3dpdGNoIChhY3RpdmVUeXBlKSB7XG4gICAgICAgICAgY2FzZSBTT1JUQUJMRV9MQVlFUl9UWVBFOlxuICAgICAgICAgICAgb25MYXllckRyYWdTdGFydChldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFNPUlRBQkxFX0VGRkVDVF9UWVBFOlxuICAgICAgICAgICAgb25FZmZlY3REcmFnU3RhcnQoZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIENvbnNvbGUubG9nKGBhY3RpdmVUeXBlICR7YWN0aXZlVHlwZX0gdW5rbm93bmApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW29uTGF5ZXJEcmFnU3RhcnQsIG9uRWZmZWN0RHJhZ1N0YXJ0XVxuICAgICk7XG5cbiAgICBjb25zdCBvbkRyYWdFbmQgPSB1c2VDYWxsYmFjayhcbiAgICAgIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgYWN0aXZlVHlwZSA9IGV2ZW50LmFjdGl2ZS5kYXRhPy5jdXJyZW50Py50eXBlO1xuICAgICAgICBzd2l0Y2ggKGFjdGl2ZVR5cGUpIHtcbiAgICAgICAgICBjYXNlIFNPUlRBQkxFX0xBWUVSX1RZUEU6XG4gICAgICAgICAgICBvbkxheWVyRHJhZ0VuZChldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFNPUlRBQkxFX0VGRkVDVF9UWVBFOlxuICAgICAgICAgICAgb25FZmZlY3REcmFnRW5kKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBDb25zb2xlLmxvZyhgYWN0aXZlVHlwZSAke2FjdGl2ZVR5cGV9IHVua25vd25gKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtvbkxheWVyRHJhZ0VuZCwgb25FZmZlY3REcmFnRW5kXVxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPERuZEtpdENvbnRleHQgb25EcmFnU3RhcnQ9e29uRHJhZ1N0YXJ0fSBvbkRyYWdFbmQ9e29uRHJhZ0VuZH0gbW9kaWZpZXJzPXtkbmRNb2RpZmllcnN9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIHthY3RpdmVMYXllciA/IChcbiAgICAgICAgICA8RHJhZ092ZXJsYXkgbW9kaWZpZXJzPXtkbmRNb2RpZmllcnN9IGRyb3BBbmltYXRpb249e251bGx9PlxuICAgICAgICAgICAgPERyYWdJdGVtPlxuICAgICAgICAgICAgICA8TGF5ZXJQYW5lbE92ZXJsYXkgbGF5ZXI9e2FjdGl2ZUxheWVyfSBkYXRhc2V0cz17ZGF0YXNldHN9IC8+XG4gICAgICAgICAgICA8L0RyYWdJdGVtPlxuICAgICAgICAgIDwvRHJhZ092ZXJsYXk+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9EbmRLaXRDb250ZXh0PlxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIERuZENvbnRleHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IERuZENvbnRleHRGYWN0b3J5O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFHQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxpQkFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSCxPQUFBO0FBRUEsSUFBQUksUUFBQSxHQUFBRixzQkFBQSxDQUFBRixPQUFBO0FBR0EsSUFBQUssaUJBQUEsR0FBQUgsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFNLGNBQUEsR0FBQUosc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFPLGVBQUEsR0FBQUwsc0JBQUEsQ0FBQUYsT0FBQTtBQUVBLElBQUFRLGNBQUEsR0FBQVIsT0FBQTtBQUtrQyxJQUFBUyxlQUFBLEVBbkJsQztBQUNBO0FBQUEsU0FBQUMseUJBQUFDLENBQUE7RUFBQSx5QkFBQUMsT0FBQTtFQUFBLElBQUFDLENBQUEsT0FBQUQsT0FBQTtJQUFBRSxDQUFBLE9BQUFGLE9BQUE7RUFBQSxRQUFBRix3QkFBQSxZQUFBQSx5QkFBQUMsQ0FBQTtJQUFBLE9BQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBO0VBQUEsR0FBQUYsQ0FBQTtBQUFBO0FBQUEsU0FBQVosd0JBQUFZLENBQUEsRUFBQUUsQ0FBQTtFQUFBLEtBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQTtFQUFBLGFBQUFBLENBQUEsZ0JB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