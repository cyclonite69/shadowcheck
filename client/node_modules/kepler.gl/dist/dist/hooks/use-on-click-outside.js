"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = useOnClickOutside;
var _document = _interopRequireDefault(require("global/document"));
var _react = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/react");
// SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project

function useOnClickOutside(onClose) {
  var disabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var containerRef = (0, _react.useRef)(null);
  var handleClickOutside = (0, _react.useCallback)(function (e) {
    if (containerRef.current && !containerRef.current.contains(e.target)) {
      onClose(e);
    }
  }, [onClose]);
  (0, _react.useEffect)(function () {
    if (disabled) {
      return;
    }
    _document["default"].addEventListener('click', handleClickOutside, {
      capture: true
    });
    return function () {
      _document["default"].removeEventListener('click', handleClickOutside, {
        capture: true
      });
    };
  }, [handleClickOutside, disabled]);
  return containerRef;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZG9jdW1lbnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsInVzZU9uQ2xpY2tPdXRzaWRlIiwib25DbG9zZSIsImRpc2FibGVkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiY29udGFpbmVyUmVmIiwidXNlUmVmIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwidXNlQ2FsbGJhY2siLCJlIiwiY3VycmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwidXNlRWZmZWN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhcHR1cmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2hvb2tzL3VzZS1vbi1jbGljay1vdXRzaWRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgY29udHJpYnV0b3JzIHRvIHRoZSBrZXBsZXIuZ2wgcHJvamVjdFxuXG5pbXBvcnQgZG9jdW1lbnQgZnJvbSAnZ2xvYmFsL2RvY3VtZW50JztcbmltcG9ydCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCBNdXRhYmxlUmVmT2JqZWN0fSBmcm9tICdyZWFjdCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VPbkNsaWNrT3V0c2lkZTxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICBvbkNsb3NlOiAoZSkgPT4gdm9pZCxcbiAgZGlzYWJsZWQgPSBmYWxzZVxuKTogTXV0YWJsZVJlZk9iamVjdDxUIHwgbnVsbD4ge1xuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8VD4obnVsbCk7XG4gIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IHVzZUNhbGxiYWNrKFxuICAgIGUgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50ICYmICFjb250YWluZXJSZWYuY3VycmVudC5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgb25DbG9zZShlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtvbkNsb3NlXVxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGlja091dHNpZGUsIHtjYXB0dXJlOiB0cnVlfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGlja091dHNpZGUsIHtjYXB0dXJlOiB0cnVlfSk7XG4gICAgfTtcbiAgfSwgW2hhbmRsZUNsaWNrT3V0c2lkZSwgZGlzYWJsZWRdKTtcblxuICByZXR1cm4gY29udGFpbmVyUmVmO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR0EsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRCxPQUFBO0FBSkE7QUFDQTs7QUFJZSxTQUFTRSxpQkFBaUJBLENBQ3ZDQyxPQUFvQixFQUVRO0VBQUEsSUFENUJDLFFBQVEsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsS0FBSztFQUVoQixJQUFNRyxZQUFZLEdBQUcsSUFBQVAsTUFBQSxDQUFBUSxNQUFNLEVBQUksSUFBSSxDQUFDO0VBQ3BDLElBQU1DLGtCQUFrQixHQUFHLElBQUFULE1BQUEsQ0FBQVUsV0FBVyxFQUNwQyxVQUFBQyxDQUFDLEVBQUk7SUFDSCxJQUFJSixZQUFZLENBQUNLLE9BQU8sSUFBSSxDQUFDTCxZQUFZLENBQUNLLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDRixDQUFDLENBQUNHLE1BQU0sQ0FBQyxFQUFFO01BQ3BFWixPQUFPLENBQUNTLENBQUMsQ0FBQztJQUNaO0VBQ0YsQ0FBQyxFQUNELENBQUNULE9BQU8sQ0FDVixDQUFDO0VBRUQsSUFBQUYsTUFBQSxDQUFBZSxTQUFTLEVBQUMsWUFBTTtJQUNkLElBQUlaLFFBQVEsRUFBRTtNQUNaO0lBQ0Y7SUFFQU4sU0FBQSxXQUFRLENBQUNtQixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUVQLGtCQUFrQixFQUFFO01BQUNRLE9BQU8sRUFBRTtJQUFJLENBQUMsQ0FBQztJQUV2RSxPQUFPLFlBQU07TUFDWHBCLFNBQUEsV0FBUSxDQUFDcUIsbUJBQW1CLENBQUMsT0FBTyxFQUFFVCxrQkFBa0IsRUFBRTtRQUFDUSxPQUFPLEVBQUU7TUFBSSxDQUFDLENBQUM7SUFDNUUsQ0FBQztFQUNILENBQUMsRUFBRSxDQUFDUixrQkFBa0IsRUFBRU4sUUFBUSxDQUFDLENBQUM7RUFFbEMsT0FBT0ksWUFBWTtBQUNyQiIsImlnbm9yZUxpc3QiOltdfQ==