"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.wrapTo = exports.unwrap = exports.isForwardAction = exports.getActionForwardAddress = exports.forwardTo = exports._updateProperty = exports._actionFor = exports.FORWARD = exports.ADDRESS_PREFIX = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _curry = _interopRequireDefault(require("lodash/curry"));
function ownKeys(e, r) {
  var t = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e);
    r && (o = o.filter(function (r) {
      return Object.getOwnPropertyDescriptor(e, r).enumerable;
    })), t.push.apply(t, o);
  }
  return t;
}
function _objectSpread(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {
      (0, _defineProperty2["default"])(e, r, t[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));
    });
  }
  return e;
}
// SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project

var FORWARD = exports.FORWARD = '@redux-forward/FORWARD';
var ADDRESS_PREFIX = exports.ADDRESS_PREFIX = '@@KG_';
var getActionForwardAddress = exports.getActionForwardAddress = function getActionForwardAddress(id) {
  return "".concat(ADDRESS_PREFIX).concat(id.toUpperCase());
};

/**
 * Wrap an action into a forward action that only modify the state of a specific
 * kepler.gl instance. kepler.gl reducer will look for signatures in the action to
 * determine whether it needs to be forwarded to a specific instance reducer.
 *
 * wrapTo can be curried. You can create a curried action wrapper by only supply the `id` argument
 *
 * A forward action looks like this
 * ```js
 *  {
 *    type: "@@kepler.gl/LAYER_CONFIG_CHANGE",
 *    payload: {
 *      type: '@@kepler.gl/LAYER_CONFIG_CHANGE',
 *      payload: {},
 *      meta: {
 *       // id of instance
 *        _id_: id
 *       // other meta
 *      }
 *    },
 *    meta: {
 *      _forward_: '@redux-forward/FORWARD',
 *      _addr_: '@@KG_id'
 *    }
 *  };
 * ```
 *
 * @memberof forwardActions
 * @param {string} id - The id to forward to
 * @param {Object} action - the action object {type: string, payload: *}
 * @returns {{type: string, payload: {type: string, payload: *, meta: {_id_: string}, meta: {_forward_: string, _addr_: string}}}}
 * @public
 * @example
 *
 * import {wrapTo, togglePerspective} from '@kepler.gl/actions';
 *
 * // This action will only dispatch to the KeplerGl instance with `id: map_1`
 * this.props.dispatch(wrapTo('map_1', togglePerspective()));
 *
 * // You can also create a curried action for each instance
 * const wrapToMap1 = wrapTo('map_1');
 * this.props.dispatch(wrapToMap1(togglePerspective()));
 */
var wrapTo = exports.wrapTo = (0, _curry["default"])(function (id, action) {
  return {
    // keep original action.type
    type: action.type,
    // actual action
    payload: _objectSpread(_objectSpread({}, action), {}, {
      meta: _objectSpread(_objectSpread({}, action.meta), {}, {
        _id_: id
      })
    }),
    // add forward signature to meta
    meta: _objectSpread(_objectSpread({}, action.meta || {}), {}, {
      _forward_: FORWARD,
      _addr_: getActionForwardAddress(id)
    })
  };
});

/**
 * Whether an action is a forward action
 * @memberof forwardActions
 * @param {Object} action - the action object
 * @returns {boolean} boolean - whether the action is a forward action
 * @public
 */
var isForwardAction = exports.isForwardAction = function isForwardAction(action) {
  return Boolean(action && action.meta && action.meta._forward_ === FORWARD);
};

/**
 * Unwrap an action
 * @memberof forwardActions
 * @param {Object} action - the action object
 * @returns {Object} - unwrapped action
 * @public
 */
var _unwrap = exports.unwrap = function unwrap(action) {
  return isForwardAction(action) ? _unwrap(action.payload) : action;
};

/**
 * Given an id, returns the action for that id.
 * If the action is not a forward action, return the action
 * @memberof forwardActions
 * @param {String} id
 * @param {Object} action
 * @private
 */
var _actionFor = exports._actionFor = function _actionFor(id, action) {
  var _action$meta;
  return isForwardAction(action) ? ((_action$meta = action.meta) === null || _action$meta === void 0 ? void 0 : _action$meta._addr_) === getActionForwardAddress(id) ? action.payload : {} : action;
};

/**
 * Returns an action dispatcher that wraps and forwards the actions to a specific instance
 * @memberof forwardActions
 * @param {string} id - instance id
 * @param {Function} dispatch - action dispatcher
 * @public
 * @example
 *
 * // action and forward dispatcher
 * import {toggleSplitMap, forwardTo} from '@kepler.gl/actions';
 * import {connect} from 'react-redux';
 *
 * const MapContainer = props => (
 *  <div>
 *   <button onClick={() => props.keplerGlDispatch(toggleSplitMap())}/>
 *  </div>
 * )
 *
 * const mapDispatchToProps = (dispatch, props) => ({
 *  dispatch,
 *  keplerGlDispatch: forwardTo(‘foo’, dispatch)
 * });
 *
 * export default connect(
 *  state => state,
 *  mapDispatchToProps
 * )(MapContainer);
 */
var forwardTo = exports.forwardTo = function forwardTo(id, dispatch) {
  return function (action) {
    return dispatch(wrapTo(id, action));
  };
};

/**
 * Update the state of a kepler.gl instance
 * @memberof forwardActions
 * @param {Object} state
 * @param {string} id
 * @param {Object} nextState
 * @private
 */
var _updateProperty = exports._updateProperty = function _updateProperty(state, id, nextState) {
  return state[id] === nextState ? state : _objectSpread(_objectSpread({}, state), {}, (0, _defineProperty2["default"])({}, id, nextState));
};

/**
 * This declaration is needed to group actions in docs
 */
/**
 * A set of helpers to forward dispatch actions to a specific instance reducer
 * @public
 */
/* eslint-disable @typescript-eslint/no-unused-vars */
// @ts-ignore
var forwardActions = null;
/* eslint-enable @typescript-eslint/no-unused-vars */
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY3VycnkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm93bktleXMiLCJlIiwiciIsInQiLCJPYmplY3QiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibyIsImZpbHRlciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiRk9SV0FSRCIsImV4cG9ydHMiLCJBRERSRVNTX1BSRUZJWCIsImdldEFjdGlvbkZvcndhcmRBZGRyZXNzIiwiaWQiLCJjb25jYXQiLCJ0b1VwcGVyQ2FzZSIsIndyYXBUbyIsImFjdGlvbiIsInR5cGUiLCJwYXlsb2FkIiwibWV0YSIsIl9pZF8iLCJfZm9yd2FyZF8iLCJfYWRkcl8iLCJpc0ZvcndhcmRBY3Rpb24iLCJCb29sZWFuIiwiX3Vud3JhcCIsInVud3JhcCIsIl9hY3Rpb25Gb3IiLCJfYWN0aW9uJG1ldGEiLCJmb3J3YXJkVG8iLCJkaXNwYXRjaCIsIl91cGRhdGVQcm9wZXJ0eSIsInN0YXRlIiwibmV4dFN0YXRlIiwiZm9yd2FyZEFjdGlvbnMiXSwic291cmNlcyI6WyIuLi9zcmMvYWN0aW9uLXdyYXBwZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IGNvbnRyaWJ1dG9ycyB0byB0aGUga2VwbGVyLmdsIHByb2plY3RcblxuZXhwb3J0IGNvbnN0IEZPUldBUkQgPSAnQHJlZHV4LWZvcndhcmQvRk9SV0FSRCc7XG5leHBvcnQgY29uc3QgQUREUkVTU19QUkVGSVggPSAnQEBLR18nO1xuaW1wb3J0IHtEaXNwYXRjaH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHtBY3Rpb25UeXBlc30gZnJvbSAnLi9hY3Rpb24tdHlwZXMnO1xuXG5pbXBvcnQgY3VycnkgZnJvbSAnbG9kYXNoL2N1cnJ5JztcblxuaW50ZXJmYWNlIElLZXBsZXJHbEFjdGlvbiB7XG4gIHR5cGU6ICh0eXBlb2YgQWN0aW9uVHlwZXMpW2tleW9mIHR5cGVvZiBBY3Rpb25UeXBlc107XG4gIC8vIFRPRE86IENvbnN0cnVjdCBhIHR5cGUgZGVwZW5kaW5nIG9uIHRoZSBwYXlsb2FkXG4gIHBheWxvYWQ/OiBhbnk7XG4gIG1ldGE/OiB7XG4gICAgX2ZvcndhcmRfPzogc3RyaW5nO1xuICAgIF9hZGRyXz86IHN0cmluZztcbiAgICBfaWRfPzogc3RyaW5nO1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldEFjdGlvbkZvcndhcmRBZGRyZXNzID0gKGlkOiBzdHJpbmcpID0+IGAke0FERFJFU1NfUFJFRklYfSR7aWQudG9VcHBlckNhc2UoKX1gO1xuXG4vKipcbiAqIFdyYXAgYW4gYWN0aW9uIGludG8gYSBmb3J3YXJkIGFjdGlvbiB0aGF0IG9ubHkgbW9kaWZ5IHRoZSBzdGF0ZSBvZiBhIHNwZWNpZmljXG4gKiBrZXBsZXIuZ2wgaW5zdGFuY2UuIGtlcGxlci5nbCByZWR1Y2VyIHdpbGwgbG9vayBmb3Igc2lnbmF0dXJlcyBpbiB0aGUgYWN0aW9uIHRvXG4gKiBkZXRlcm1pbmUgd2hldGhlciBpdCBuZWVkcyB0byBiZSBmb3J3YXJkZWQgdG8gYSBzcGVjaWZpYyBpbnN0YW5jZSByZWR1Y2VyLlxuICpcbiAqIHdyYXBUbyBjYW4gYmUgY3VycmllZC4gWW91IGNhbiBjcmVhdGUgYSBjdXJyaWVkIGFjdGlvbiB3cmFwcGVyIGJ5IG9ubHkgc3VwcGx5IHRoZSBgaWRgIGFyZ3VtZW50XG4gKlxuICogQSBmb3J3YXJkIGFjdGlvbiBsb29rcyBsaWtlIHRoaXNcbiAqIGBgYGpzXG4gKiAge1xuICogICAgdHlwZTogXCJAQGtlcGxlci5nbC9MQVlFUl9DT05GSUdfQ0hBTkdFXCIsXG4gKiAgICBwYXlsb2FkOiB7XG4gKiAgICAgIHR5cGU6ICdAQGtlcGxlci5nbC9MQVlFUl9DT05GSUdfQ0hBTkdFJyxcbiAqICAgICAgcGF5bG9hZDoge30sXG4gKiAgICAgIG1ldGE6IHtcbiAqICAgICAgIC8vIGlkIG9mIGluc3RhbmNlXG4gKiAgICAgICAgX2lkXzogaWRcbiAqICAgICAgIC8vIG90aGVyIG1ldGFcbiAqICAgICAgfVxuICogICAgfSxcbiAqICAgIG1ldGE6IHtcbiAqICAgICAgX2ZvcndhcmRfOiAnQHJlZHV4LWZvcndhcmQvRk9SV0FSRCcsXG4gKiAgICAgIF9hZGRyXzogJ0BAS0dfaWQnXG4gKiAgICB9XG4gKiAgfTtcbiAqIGBgYFxuICpcbiAqIEBtZW1iZXJvZiBmb3J3YXJkQWN0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRvIGZvcndhcmQgdG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gLSB0aGUgYWN0aW9uIG9iamVjdCB7dHlwZTogc3RyaW5nLCBwYXlsb2FkOiAqfVxuICogQHJldHVybnMge3t0eXBlOiBzdHJpbmcsIHBheWxvYWQ6IHt0eXBlOiBzdHJpbmcsIHBheWxvYWQ6ICosIG1ldGE6IHtfaWRfOiBzdHJpbmd9LCBtZXRhOiB7X2ZvcndhcmRfOiBzdHJpbmcsIF9hZGRyXzogc3RyaW5nfX19fVxuICogQHB1YmxpY1xuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQge3dyYXBUbywgdG9nZ2xlUGVyc3BlY3RpdmV9IGZyb20gJ0BrZXBsZXIuZ2wvYWN0aW9ucyc7XG4gKlxuICogLy8gVGhpcyBhY3Rpb24gd2lsbCBvbmx5IGRpc3BhdGNoIHRvIHRoZSBLZXBsZXJHbCBpbnN0YW5jZSB3aXRoIGBpZDogbWFwXzFgXG4gKiB0aGlzLnByb3BzLmRpc3BhdGNoKHdyYXBUbygnbWFwXzEnLCB0b2dnbGVQZXJzcGVjdGl2ZSgpKSk7XG4gKlxuICogLy8gWW91IGNhbiBhbHNvIGNyZWF0ZSBhIGN1cnJpZWQgYWN0aW9uIGZvciBlYWNoIGluc3RhbmNlXG4gKiBjb25zdCB3cmFwVG9NYXAxID0gd3JhcFRvKCdtYXBfMScpO1xuICogdGhpcy5wcm9wcy5kaXNwYXRjaCh3cmFwVG9NYXAxKHRvZ2dsZVBlcnNwZWN0aXZlKCkpKTtcbiAqL1xuZXhwb3J0IGNvbnN0IHdyYXBUbyA9IGN1cnJ5KChpZDogc3RyaW5nLCBhY3Rpb246IElLZXBsZXJHbEFjdGlvbikgPT4gKHtcbiAgLy8ga2VlcCBvcmlnaW5hbCBhY3Rpb24udHlwZVxuICB0eXBlOiBhY3Rpb24udHlwZSxcblxuICAvLyBhY3R1YWwgYWN0aW9uXG4gIHBheWxvYWQ6IHtcbiAgICAuLi5hY3Rpb24sXG4gICAgbWV0YToge1xuICAgICAgLi4uYWN0aW9uLm1ldGEsXG4gICAgICBfaWRfOiBpZFxuICAgIH1cbiAgfSxcblxuICAvLyBhZGQgZm9yd2FyZCBzaWduYXR1cmUgdG8gbWV0YVxuICBtZXRhOiB7XG4gICAgLi4uKGFjdGlvbi5tZXRhIHx8IHt9KSxcbiAgICBfZm9yd2FyZF86IEZPUldBUkQsXG4gICAgX2FkZHJfOiBnZXRBY3Rpb25Gb3J3YXJkQWRkcmVzcyhpZClcbiAgfVxufSkpO1xuXG4vKipcbiAqIFdoZXRoZXIgYW4gYWN0aW9uIGlzIGEgZm9yd2FyZCBhY3Rpb25cbiAqIEBtZW1iZXJvZiBmb3J3YXJkQWN0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiAtIHRoZSBhY3Rpb24gb2JqZWN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYm9vbGVhbiAtIHdoZXRoZXIgdGhlIGFjdGlvbiBpcyBhIGZvcndhcmQgYWN0aW9uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBpc0ZvcndhcmRBY3Rpb24gPSAoYWN0aW9uOiBJS2VwbGVyR2xBY3Rpb24pID0+IHtcbiAgcmV0dXJuIEJvb2xlYW4oYWN0aW9uICYmIGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLl9mb3J3YXJkXyA9PT0gRk9SV0FSRCk7XG59O1xuXG4vKipcbiAqIFVud3JhcCBhbiBhY3Rpb25cbiAqIEBtZW1iZXJvZiBmb3J3YXJkQWN0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiAtIHRoZSBhY3Rpb24gb2JqZWN0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSAtIHVud3JhcHBlZCBhY3Rpb25cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHVud3JhcCA9IChhY3Rpb246IElLZXBsZXJHbEFjdGlvbikgPT5cbiAgaXNGb3J3YXJkQWN0aW9uKGFjdGlvbikgPyB1bndyYXAoYWN0aW9uLnBheWxvYWQpIDogYWN0aW9uO1xuXG4vKipcbiAqIEdpdmVuIGFuIGlkLCByZXR1cm5zIHRoZSBhY3Rpb24gZm9yIHRoYXQgaWQuXG4gKiBJZiB0aGUgYWN0aW9uIGlzIG5vdCBhIGZvcndhcmQgYWN0aW9uLCByZXR1cm4gdGhlIGFjdGlvblxuICogQG1lbWJlcm9mIGZvcndhcmRBY3Rpb25zXG4gKiBAcGFyYW0ge1N0cmluZ30gaWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb25cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfYWN0aW9uRm9yID0gKGlkOiBzdHJpbmcsIGFjdGlvbjogSUtlcGxlckdsQWN0aW9uKSA9PlxuICBpc0ZvcndhcmRBY3Rpb24oYWN0aW9uKVxuICAgID8gYWN0aW9uLm1ldGE/Ll9hZGRyXyA9PT0gZ2V0QWN0aW9uRm9yd2FyZEFkZHJlc3MoaWQpXG4gICAgICA/IGFjdGlvbi5wYXlsb2FkXG4gICAgICA6IHt9XG4gICAgOiBhY3Rpb247XG5cbi8qKlxuICogUmV0dXJucyBhbiBhY3Rpb24gZGlzcGF0Y2hlciB0aGF0IHdyYXBzIGFuZCBmb3J3YXJkcyB0aGUgYWN0aW9ucyB0byBhIHNwZWNpZmljIGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgZm9yd2FyZEFjdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGluc3RhbmNlIGlkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNwYXRjaCAtIGFjdGlvbiBkaXNwYXRjaGVyXG4gKiBAcHVibGljXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIGFjdGlvbiBhbmQgZm9yd2FyZCBkaXNwYXRjaGVyXG4gKiBpbXBvcnQge3RvZ2dsZVNwbGl0TWFwLCBmb3J3YXJkVG99IGZyb20gJ0BrZXBsZXIuZ2wvYWN0aW9ucyc7XG4gKiBpbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcbiAqXG4gKiBjb25zdCBNYXBDb250YWluZXIgPSBwcm9wcyA9PiAoXG4gKiAgPGRpdj5cbiAqICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBwcm9wcy5rZXBsZXJHbERpc3BhdGNoKHRvZ2dsZVNwbGl0TWFwKCkpfS8+XG4gKiAgPC9kaXY+XG4gKiApXG4gKlxuICogY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gKGRpc3BhdGNoLCBwcm9wcykgPT4gKHtcbiAqICBkaXNwYXRjaCxcbiAqICBrZXBsZXJHbERpc3BhdGNoOiBmb3J3YXJkVG8o4oCYZm9v4oCZLCBkaXNwYXRjaClcbiAqIH0pO1xuICpcbiAqIGV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gKiAgc3RhdGUgPT4gc3RhdGUsXG4gKiAgbWFwRGlzcGF0Y2hUb1Byb3BzXG4gKiApKE1hcENvbnRhaW5lcik7XG4gKi9cbmV4cG9ydCBjb25zdCBmb3J3YXJkVG8gPVxuICAoaWQ6IHN0cmluZywgZGlzcGF0Y2g6IERpc3BhdGNoPElLZXBsZXJHbEFjdGlvbj4pID0+IChhY3Rpb246IElLZXBsZXJHbEFjdGlvbikgPT5cbiAgICBkaXNwYXRjaCh3cmFwVG8oaWQsIGFjdGlvbikpO1xuXG4vKipcbiAqIFVwZGF0ZSB0aGUgc3RhdGUgb2YgYSBrZXBsZXIuZ2wgaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBmb3J3YXJkQWN0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXh0U3RhdGVcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfdXBkYXRlUHJvcGVydHkgPSAoc3RhdGUsIGlkOiBzdHJpbmcsIG5leHRTdGF0ZSkgPT5cbiAgc3RhdGVbaWRdID09PSBuZXh0U3RhdGVcbiAgICA/IHN0YXRlXG4gICAgOiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBbaWRdOiBuZXh0U3RhdGVcbiAgICAgIH07XG5cbi8qKlxuICogVGhpcyBkZWNsYXJhdGlvbiBpcyBuZWVkZWQgdG8gZ3JvdXAgYWN0aW9ucyBpbiBkb2NzXG4gKi9cbi8qKlxuICogQSBzZXQgb2YgaGVscGVycyB0byBmb3J3YXJkIGRpc3BhdGNoIGFjdGlvbnMgdG8gYSBzcGVjaWZpYyBpbnN0YW5jZSByZWR1Y2VyXG4gKiBAcHVibGljXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgZm9yd2FyZEFjdGlvbnMgPSBudWxsO1xuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFRQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBaUMsU0FBQUMsUUFBQUMsQ0FBQSxFQUFBQyxDQUFBO0VBQUEsSUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLElBQUEsQ0FBQUosQ0FBQTtFQUFBLElBQUFHLE1BQUEsQ0FBQUUscUJBQUE7SUFBQSxJQUFBQyxDQUFBLEdBQUFILE1BQUEsQ0FBQUUscUJBQUEsQ0FBQUwsQ0FBQTtJQUFBQyxDQUFBLEtBQUFLLENBQUEsR0FBQUEsQ0FBQSxDQUFBQyxNQUFBLFdBQUFOLENBQUE7TUFBQSxPQUFBRSxNQUFBLENBQUFLLHdCQUFBLENBQUFSLENBQUEsRUFBQUMsQ0FBQSxFQUFBUSxVQUFBO0lBQUEsS0FBQVAsQ0FBQSxDQUFBUSxJQUFBLENBQUFDLEtBQUEsQ0FBQVQsQ0FBQSxFQUFBSSxDQUFBO0VBQUE7RUFBQSxPQUFBSixDQUFBO0FB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O0VBQUEsT0FDNUNPLGVBQWUsQ0FBQ1AsTUFBTSxDQUFDLEdBQUdTLE9BQU0sQ0FBQ1QsTUFBTSxDQUFDRSxPQUFPLENBQUMsR0FBR0YsTUFBTTtBQUFBOztBQUUzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sSUFBTVcsVUFBVSxHQUFBbEIsT0FBQSxDQUFBa0IsVUFBQSxHQUFHLFNBQWJBLFVBQVVBLENBQUlmLEVBQVUsRUFBRUksTUFBdUI7RUFBQSxJQUFBWSxZQUFBO0VBQUEsT0FDNURMLGVBQWUsQ0FBQ1AsTUFBTSxDQUFDLEdBQ25CLEVBQUFZLFlBQUEsR0FBQVosTUFBTSxDQUFDRyxJQUFJLGNBQUFTLFlBQUEsdUJBQVhBLFlBQUEsQ0FBYU4sTUFBTSxNQUFLWCx1QkFBdUIsQ0FBQ0MsRUFBRSxDQUFDLEdBQ2pESSxNQUFNLENBQUNFLE9BQU8sR0FDZCxDQUFDLENBQUMsR0FDSkYsTUFBTTtBQUFBOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sSUFBTWEsU0FBUyxHQUFBcEIsT0FBQSxDQUFBb0IsU0FBQSxHQUNwQixTQURXQSxTQUFTQSxDQUNuQmpCLEVBQVUsRUFBRWtCLFFBQW1DO0VBQUEsT0FBSyxVQUFDZCxNQUF1QjtJQUFBLE9BQzNFYyxRQUFRLENBQUNmLE1BQU0sQ0FBQ0gsRUFBRSxFQUFFSSxNQUFNLENBQUMsQ0FBQztFQUFBO0FBQUE7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxJQUFNZSxlQUFlLEdBQUF0QixPQUFBLENBQUFzQixlQUFBLEdBQUcsU0FBbEJBLGVBQWVBLENBQUlDLEtBQUssRUFBRXBCLEVBQVUsRUFBRXFCLFNBQVM7RUFBQSxPQUMxREQsS0FBSyxDQUFDcEIsRUFBRSxDQUFDLEtBQUtxQixTQUFTLEdBQ25CRCxLQUFLLEdBQUFoQyxhQUFBLENBQUFBLGFBQUEsS0FFQWdDLEtBQUssV0FBQTVCLGdCQUFBLGlCQUNQUSxFQUFFLEVBQUdxQixTQUFTLEVBQ2hCO0FBQUE7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBTUMsY0FBYyxHQUFHLElBQUk7QUFDM0IiLCJpZ25vcmVMaXN0IjpbXX0=