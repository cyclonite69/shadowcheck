"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.DatasetTabs = exports.DatasetModalTab = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireDefault(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/react"));
var _styledComponents = _interopRequireWildcard(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/styled-components"));
var _datasetLabel = _interopRequireDefault(require("../common/dataset-label"));
var _dataTable = _interopRequireDefault(require("../common/data-table"));
var _reselect = require("reselect");
var _cellSize = require("../common/data-table/cell-size");
var _canvas = _interopRequireDefault(require("../common/data-table/canvas"));
var _icons = require("../common/icons");
var _portaled = _interopRequireDefault(require("../common/portaled"));
var _displayFormat = _interopRequireDefault(require("../common/data-table/display-format"));
var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
function _getRequireWildcardCache(e) {
  if ("function" != typeof WeakMap) return null;
  var r = new WeakMap(),
    t = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {
    return e ? t : r;
  })(e);
}
function _interopRequireWildcard(e, r) {
  if (!r && e && e.__esModule) return e;
  if (null === e || "object" != _typeof(e) && "function" != typeof e) return {
    "default": e
  };
  var t = _getRequireWildcardCache(r);
  if (t && t.has(e)) return t.get(e);
  var n = {
      __proto__: null
    },
    a = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) {
    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];
  }
  return n["default"] = e, t && t.set(e, n), n;
}
function ownKeys(e, r) {
  var t = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e);
    r && (o = o.filter(function (r) {
      return Object.getOwnPropertyDescriptor(e, r).enumerable;
    })), t.push.apply(t, o);
  }
  return t;
}
function _objectSpread(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {
      (0, _defineProperty2["default"])(e, r, t[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));
    });
  }
  return e;
}
function _callSuper(t, o, e) {
  return o = (0, _getPrototypeOf2["default"])(o), (0, _possibleConstructorReturn2["default"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2["default"])(t).constructor) : o.apply(t, e));
}
function _isNativeReflectConstruct() {
  try {
    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch (t) {}
  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {
    return !!t;
  })();
}
var MIN_STATS_CELL_SIZE = 122;
var DEFAULT_SORT_COLUMN = {};

// sidePadding changes from 38 to 68, 30px for configuration button
var dgSettings = {
  sidePadding: '68px',
  verticalPadding: '16px',
  height: '36px'
};
var StyledModal = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  min-height: 85vh;\n  overflow: hidden;\n  display: flex;\n"])));
var DatasetCatalog = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  display: flex;\n  padding: ", " ", " 0 0;\n\n  .overflow-horizontal {\n    display: flex;\n    overflow-x: auto;\n    overflow-y: hidden;\n    flex-direction: row;\n    ", "\n  }\n"])), dgSettings.verticalPadding, dgSettings.sidePadding, function (props) {
  return props.theme.modalScrollBar;
});
var DatasetModalTab = exports.DatasetModalTab = _styledComponents["default"].div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n  align-items: center;\n  border-bottom: 3px solid ", ";\n  cursor: pointer;\n  display: flex;\n  height: 35px;\n  margin: 0 3px;\n  padding: 0 5px;\n\n  &:hover {\n    border-bottom: 3px solid black;\n  }\n"])), function (props) {
  return props.active ? 'black' : 'transparent';
});
var StyledConfigureButton = _styledComponents["default"].div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n  display: flex;\n  justify-content: flex-end;\n  position: absolute;\n  top: 24px;\n  right: 48px;\n  svg {\n    stroke: black;\n  }\n  cursor: pointer;\n"])));
var DatasetTabsUnmemoized = function DatasetTabsUnmemoized(_ref) {
  var activeDataset = _ref.activeDataset,
    datasets = _ref.datasets,
    showDatasetTable = _ref.showDatasetTable;
  return /*#__PURE__*/_react["default"].createElement(DatasetCatalog, {
    className: "dataset-modal-catalog"
  }, /*#__PURE__*/_react["default"].createElement("div", {
    className: "overflow-horizontal"
  }, Object.values(datasets).map(function (dataset) {
    return /*#__PURE__*/_react["default"].createElement(DatasetModalTab, {
      className: "dataset-modal-tab",
      active: dataset === activeDataset,
      key: dataset.id,
      onClick: function onClick() {
        return showDatasetTable(dataset.id);
      }
    }, /*#__PURE__*/_react["default"].createElement(_datasetLabel["default"], {
      dataset: dataset
    }));
  })));
};
var DatasetTabs = exports.DatasetTabs = /*#__PURE__*/_react["default"].memo(DatasetTabsUnmemoized);
DatasetTabs.displayName = 'DatasetTabs';
DataTableModalFactory.deps = [_dataTable["default"], _displayFormat["default"]];
var TableContainer = _styledComponents["default"].div(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  min-height: 100%;\n  max-height: 100%;\n  max-width: 100%;\n"])));
function DataTableModalFactory(DataTable, DataTableConfig) {
  var DataTableModal = /*#__PURE__*/function (_React$Component) {
    function DataTableModal() {
      var _this;
      (0, _classCallCheck2["default"])(this, DataTableModal);
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      _this = _callSuper(this, DataTableModal, [].concat(args));
      (0, _defineProperty2["default"])(_this, "state", {
        showConfig: false
      });
      (0, _defineProperty2["default"])(_this, "datasetCellSizeCache", {});
      (0, _defineProperty2["default"])(_this, "dataId", function (_ref2) {
        var _ref2$dataId = _ref2.dataId,
          dataId = _ref2$dataId === void 0 ? '' : _ref2$dataId;
        return dataId;
      });
      (0, _defineProperty2["default"])(_this, "datasets", function (props) {
        return props.datasets;
      });
      (0, _defineProperty2["default"])(_this, "fields", function (_ref3) {
        var datasets = _ref3.datasets,
          _ref3$dataId = _ref3.dataId,
          dataId = _ref3$dataId === void 0 ? '' : _ref3$dataId;
        return (datasets[dataId] || {}).fields;
      });
      (0, _defineProperty2["default"])(_this, "columns", (0, _reselect.createSelector)(_this.fields, function (fields) {
        return fields.map(function (f) {
          return f.name;
        });
      }));
      (0, _defineProperty2["default"])(_this, "colMeta", (0, _reselect.createSelector)([_this.fields, _this.datasets], function (fields) {
        return fields.reduce(function (acc, _ref4) {
          var name = _ref4.name,
            displayName = _ref4.displayName,
            type = _ref4.type,
            filterProps = _ref4.filterProps,
            format = _ref4.format,
            displayFormat = _ref4.displayFormat;
          return _objectSpread(_objectSpread({}, acc), {}, (0, _defineProperty2["default"])({}, name, _objectSpread(_objectSpread(_objectSpread({
            name: displayName || name,
            type: type
          }, format ? {
            format: format
          } : {}), displayFormat ? {
            displayFormat: displayFormat
          } : {}), filterProps !== null && filterProps !== void 0 && filterProps.columnStats ? {
            columnStats: filterProps.columnStats
          } : {})));
        }, {});
      }));
      (0, _defineProperty2["default"])(_this, "cellSizeCache", (0, _reselect.createSelector)(_this.dataId, _this.datasets, function (dataId, datasets) {
        if (!datasets[dataId]) {
          return {};
        }
        var _datasets$dataId = datasets[dataId],
          fields = _datasets$dataId.fields,
          dataContainer = _datasets$dataId.dataContainer;
        var showCalculate = null;
        if (!_this.datasetCellSizeCache[dataId]) {
          showCalculate = true;
        } else if (_this.datasetCellSizeCache[dataId].fields !== fields || _this.datasetCellSizeCache[dataId].dataContainer !== dataContainer) {
          showCalculate = true;
        }
        if (!showCalculate) {
          return _this.datasetCellSizeCache[dataId].cellSizeCache;
        }
        var cellSizeCache = fields.reduce(function (acc, field, colIdx) {
          return _objectSpread(_objectSpread({}, acc), {}, (0, _defineProperty2["default"])({}, field.name, (0, _cellSize.renderedSize)({
            text: {
              dataContainer: dataContainer,
              column: field.displayName
            },
            colIdx: colIdx,
            type: field.type,
            fontSize: _this.props.theme.cellFontSize,
            font: _this.props.theme.fontFamily,
            minCellSize: MIN_STATS_CELL_SIZE
          })));
        }, {});
        // save it to cache
        _this.datasetCellSizeCache[dataId] = {
          cellSizeCache: cellSizeCache,
          fields: fields,
          dataContainer: dataContainer
        };
        return cellSizeCache;
      }));
      (0, _defineProperty2["default"])(_this, "copyTableColumn", function (column) {
        var _this$props = _this.props,
          _this$props$dataId = _this$props.dataId,
          dataId = _this$props$dataId === void 0 ? '' : _this$props$dataId,
          copyTableColumn = _this$props.copyTableColumn;
        copyTableColumn(dataId, column);
      });
      (0, _defineProperty2["default"])(_this, "pinTableColumn", function (column) {
        var _this$props2 = _this.props,
          _this$props2$dataId = _this$props2.dataId,
          dataId = _this$props2$dataId === void 0 ? '' : _this$props2$dataId,
          pinTableColumn = _this$props2.pinTableColumn;
        pinTableColumn(dataId, column);
      });
      (0, _defineProperty2["default"])(_this, "sortTableColumn", function (column, mode) {
        var _this$props3 = _this.props,
          _this$props3$dataId = _this$props3.dataId,
          dataId = _this$props3$dataId === void 0 ? '' : _this$props3$dataId,
          sortTableColumn = _this$props3.sortTableColumn;
        sortTableColumn(dataId, column, mode);
      });
      (0, _defineProperty2["default"])(_this, "setColumnDisplayFormat", function (formats) {
        var _this$props4 = _this.props,
          dataId = _this$props4.dataId,
          setColumnDisplayFormat = _this$props4.setColumnDisplayFormat;
        if (dataId) setColumnDisplayFormat(dataId, formats);
      });
      (0, _defineProperty2["default"])(_this, "onOpenConfig", function () {
        _this.setState({
          showConfig: true
        });
      });
      (0, _defineProperty2["default"])(_this, "onCloseConfig", function () {
        _this.setState({
          showConfig: false
        });
      });
      return _this;
    }
    (0, _inherits2["default"])(DataTableModal, _React$Component);
    return (0, _createClass2["default"])(DataTableModal, [{
      key: "render",
      value: function render() {
        var _this$props5 = this.props,
          datasets = _this$props5.datasets,
          dataId = _this$props5.dataId,
          showDatasetTable = _this$props5.showDatasetTable,
          _this$props5$showTab = _this$props5.showTab,
          showTab = _this$props5$showTab === void 0 ? true : _this$props5$showTab;
        if (!datasets || !dataId) {
          return null;
        }
        var activeDataset = datasets[dataId];
        var columns = this.columns(this.props);
        var colMeta = this.colMeta(this.props);
        var cellSizeCache = this.cellSizeCache(this.props);
        return /*#__PURE__*/_react["default"].createElement(StyledModal, {
          className: "dataset-modal",
          id: "dataset-modal"
        }, /*#__PURE__*/_react["default"].createElement(_canvas["default"], null), /*#__PURE__*/_react["default"].createElement(TableContainer, null, showTab ? /*#__PURE__*/_react["default"].createElement(DatasetTabs, {
          activeDataset: activeDataset,
          datasets: datasets,
          showDatasetTable: showDatasetTable
        }) : null, /*#__PURE__*/_react["default"].createElement(StyledConfigureButton, {
          className: "display-config-button"
        }, /*#__PURE__*/_react["default"].createElement(_icons.Gear, {
          onClick: this.onOpenConfig
        }), /*#__PURE__*/_react["default"].createElement(_portaled["default"], {
          right: 240,
          top: 20,
          isOpened: this.state.showConfig,
          onClose: this.onCloseConfig
        }, /*#__PURE__*/_react["default"].createElement(DataTableConfig, {
          columns: columns,
          colMeta: colMeta,
          setColumnDisplayFormat: this.setColumnDisplayFormat,
          onClose: this.onCloseConfig
        }))), datasets[dataId] ? /*#__PURE__*/_react["default"].createElement(DataTable, {
          key: dataId,
          dataId: dataId,
          columns: columns,
          colMeta: colMeta,
          cellSizeCache: cellSizeCache,
          dataContainer: activeDataset.dataContainer,
          pinnedColumns: activeDataset.pinnedColumns,
          sortOrder: activeDataset.sortOrder,
          sortColumn: activeDataset.sortColumn || DEFAULT_SORT_COLUMN,
          copyTableColumn: this.copyTableColumn,
          pinTableColumn: this.pinTableColumn,
          sortTableColumn: this.sortTableColumn,
          setColumnDisplayFormat: this.setColumnDisplayFormat,
          hasStats: false
        }) : null));
      }
    }]);
  }(_react["default"].Component); // @ts-expect-error figure out the proper way to type
  return (0, _styledComponents.withTheme)(DataTableModal);
}
var _default = exports["default"] = DataTableModalFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9zdHlsZWRDb21wb25lbnRzIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfZGF0YXNldExhYmVsIiwiX2RhdGFUYWJsZSIsIl9yZXNlbGVjdCIsIl9jZWxsU2l6ZSIsIl9jYW52YXMiLCJfaWNvbnMiLCJfcG9ydGFsZWQiLCJfZGlzcGxheUZvcm1hdCIsIl90ZW1wbGF0ZU9iamVjdCIsIl90ZW1wbGF0ZU9iamVjdDIiLCJfdGVtcGxhdGVPYmplY3QzIiwiX3RlbXBsYXRlT2JqZWN0NCIsIl90ZW1wbGF0ZU9iamVjdDUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJvd25LZXlzIiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJfY2FsbFN1cGVyIiwiX2dldFByb3RvdHlwZU9mMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiY29uc3RydWN0b3IiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsIk1JTl9TVEFUU19DRUxMX1NJWkUiLCJERUZBVUxUX1NPUlRfQ09MVU1OIiwiZGdTZXR0aW5ncyIsInNpZGVQYWRkaW5nIiwidmVydGljYWxQYWRkaW5nIiwiaGVpZ2h0IiwiU3R5bGVkTW9kYWwiLCJkaXYiLCJfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsMiIsIkRhdGFzZXRDYXRhbG9nIiwicHJvcHMiLCJ0aGVtZSIsIm1vZGFsU2Nyb2xsQmFyIiwiRGF0YXNldE1vZGFsVGFiIiwiZXhwb3J0cyIsImFjdGl2ZSIsIlN0eWxlZENvbmZpZ3VyZUJ1dHRvbiIsIkRhdGFzZXRUYWJzVW5tZW1vaXplZCIsIl9yZWYiLCJhY3RpdmVEYXRhc2V0IiwiZGF0YXNldHMiLCJzaG93RGF0YXNldFRhYmxlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInZhbHVlcyIsIm1hcCIsImRhdGFzZXQiLCJrZXkiLCJpZCIsIm9uQ2xpY2siLCJEYXRhc2V0VGFicyIsIm1lbW8iLCJkaXNwbGF5TmFtZSIsIkRhdGFUYWJsZU1vZGFsRmFjdG9yeSIsImRlcHMiLCJUYWJsZUNvbnRhaW5lciIsIkRhdGFUYWJsZSIsIkRhdGFUYWJsZUNvbmZpZyIsIkRhdGFUYWJsZU1vZGFsIiwiX1JlYWN0JENvbXBvbmVudCIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9sZW4iLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiY29uY2F0Iiwic2hvd0NvbmZpZyIsIl9yZWYyIiwiX3JlZjIkZGF0YUlkIiwiZGF0YUlkIiwiX3JlZjMiLCJfcmVmMyRkYXRhSWQiLCJmaWVsZHMiLCJjcmVhdGVTZWxlY3RvciIsImYiLCJuYW1lIiwicmVkdWNlIiwiYWNjIiwiX3JlZjQiLCJ0eXBlIiwiZmlsdGVyUHJvcHMiLCJmb3JtYXQiLCJkaXNwbGF5Rm9ybWF0IiwiY29sdW1uU3RhdHMiLCJfZGF0YXNldHMkZGF0YUlkIiwiZGF0YUNvbnRhaW5lciIsInNob3dDYWxjdWxhdGUiLCJkYXRhc2V0Q2VsbFNpemVDYWNoZSIsImNlbGxTaXplQ2FjaGUiLCJmaWVsZCIsImNvbElkeCIsInJlbmRlcmVkU2l6ZSIsInRleHQiLCJjb2x1bW4iLCJmb250U2l6ZSIsImNlbGxGb250U2l6ZSIsImZvbnQiLCJmb250RmFtaWx5IiwibWluQ2VsbFNpemUiLCJfdGhpcyRwcm9wcyIsIl90aGlzJHByb3BzJGRhdGFJZCIsImNvcHlUYWJsZUNvbHVtbiIsIl90aGlzJHByb3BzMiIsIl90aGlzJHByb3BzMiRkYXRhSWQiLCJwaW5UYWJsZUNvbHVtbiIsIm1vZGUiLCJfdGhpcyRwcm9wczMiLCJfdGhpcyRwcm9wczMkZGF0YUlkIiwic29ydFRhYmxlQ29sdW1uIiwiZm9ybWF0cyIsIl90aGlzJHByb3BzNCIsInNldENvbHVtbkRpc3BsYXlGb3JtYXQiLCJzZXRTdGF0ZSIsIl9pbmhlcml0czIiLCJfY3JlYXRlQ2xhc3MyIiwidmFsdWUiLCJyZW5kZXIiLCJfdGhpcyRwcm9wczUiLCJfdGhpcyRwcm9wczUkc2hvd1RhYiIsInNob3dUYWIiLCJjb2x1bW5zIiwiY29sTWV0YSIsIkdlYXIiLCJvbk9wZW5Db25maWciLCJyaWdodCIsInRvcCIsImlzT3BlbmVkIiwic3RhdGUiLCJvbkNsb3NlIiwib25DbG9zZUNvbmZpZyIsInBpbm5lZENvbHVtbnMiLCJzb3J0T3JkZXIiLCJzb3J0Q29sdW1uIiwiaGFzU3RhdHMiLCJDb21wb25lbnQiLCJ3aXRoVGhlbWUiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2RhbHMvZGF0YS10YWJsZS1tb2RhbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IGNvbnRyaWJ1dG9ycyB0byB0aGUga2VwbGVyLmdsIHByb2plY3RcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQsIHt3aXRoVGhlbWUsIElTdHlsZWRDb21wb25lbnR9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCBEYXRhc2V0TGFiZWwgZnJvbSAnLi4vY29tbW9uL2RhdGFzZXQtbGFiZWwnO1xuaW1wb3J0IERhdGFUYWJsZUZhY3RvcnkgZnJvbSAnLi4vY29tbW9uL2RhdGEtdGFibGUnO1xuaW1wb3J0IHtjcmVhdGVTZWxlY3Rvcn0gZnJvbSAncmVzZWxlY3QnO1xuaW1wb3J0IHtyZW5kZXJlZFNpemV9IGZyb20gJy4uL2NvbW1vbi9kYXRhLXRhYmxlL2NlbGwtc2l6ZSc7XG5pbXBvcnQgQ2FudmFzSGFjayBmcm9tICcuLi9jb21tb24vZGF0YS10YWJsZS9jYW52YXMnO1xuaW1wb3J0IEtlcGxlclRhYmxlLCB7RGF0YXNldHN9IGZyb20gJ0BrZXBsZXIuZ2wvdGFibGUnO1xuaW1wb3J0IHtVSVN0YXRlQWN0aW9uc30gZnJvbSAnQGtlcGxlci5nbC9hY3Rpb25zJztcbmltcG9ydCB7VWlTdGF0ZX0gZnJvbSAnQGtlcGxlci5nbC90eXBlcyc7XG5pbXBvcnQge0dlYXJ9IGZyb20gJy4uL2NvbW1vbi9pY29ucyc7XG5pbXBvcnQgUG9ydGFsZWQgZnJvbSAnLi4vY29tbW9uL3BvcnRhbGVkJztcbmltcG9ydCBEYXRhVGFibGVDb25maWdGYWN0b3J5IGZyb20gJy4uL2NvbW1vbi9kYXRhLXRhYmxlL2Rpc3BsYXktZm9ybWF0JztcbmltcG9ydCB7QmFzZUNvbXBvbmVudFByb3BzfSBmcm9tICcuLi90eXBlcyc7XG5cbmNvbnN0IE1JTl9TVEFUU19DRUxMX1NJWkUgPSAxMjI7XG5jb25zdCBERUZBVUxUX1NPUlRfQ09MVU1OID0ge307XG5cbi8vIHNpZGVQYWRkaW5nIGNoYW5nZXMgZnJvbSAzOCB0byA2OCwgMzBweCBmb3IgY29uZmlndXJhdGlvbiBidXR0b25cbmNvbnN0IGRnU2V0dGluZ3MgPSB7XG4gIHNpZGVQYWRkaW5nOiAnNjhweCcsXG4gIHZlcnRpY2FsUGFkZGluZzogJzE2cHgnLFxuICBoZWlnaHQ6ICczNnB4J1xufTtcblxuY29uc3QgU3R5bGVkTW9kYWwgPSBzdHlsZWQuZGl2YFxuICBtaW4taGVpZ2h0OiA4NXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBkaXNwbGF5OiBmbGV4O1xuYDtcblxuY29uc3QgRGF0YXNldENhdGFsb2cgPSBzdHlsZWQuZGl2YFxuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAke2RnU2V0dGluZ3MudmVydGljYWxQYWRkaW5nfSAke2RnU2V0dGluZ3Muc2lkZVBhZGRpbmd9IDAgMDtcblxuICAub3ZlcmZsb3ctaG9yaXpvbnRhbCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICR7cHJvcHMgPT4gcHJvcHMudGhlbWUubW9kYWxTY3JvbGxCYXJ9XG4gIH1cbmA7XG5cbmV4cG9ydCB0eXBlIERhdGFzZXRNb2RhbFRhYlByb3BzID0gQmFzZUNvbXBvbmVudFByb3BzICYge1xuICBhY3RpdmU/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IGNvbnN0IERhdGFzZXRNb2RhbFRhYjogSVN0eWxlZENvbXBvbmVudDxcbiAgJ3dlYicsXG4gIERhdGFzZXRNb2RhbFRhYlByb3BzXG4+ID0gc3R5bGVkLmRpdjxEYXRhc2V0TW9kYWxUYWJQcm9wcz5gXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAke3Byb3BzID0+IChwcm9wcy5hY3RpdmUgPyAnYmxhY2snIDogJ3RyYW5zcGFyZW50Jyl9O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGhlaWdodDogMzVweDtcbiAgbWFyZ2luOiAwIDNweDtcbiAgcGFkZGluZzogMCA1cHg7XG5cbiAgJjpob3ZlciB7XG4gICAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkIGJsYWNrO1xuICB9XG5gO1xuXG5jb25zdCBTdHlsZWRDb25maWd1cmVCdXR0b24gPSBzdHlsZWQuZGl2YFxuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMjRweDtcbiAgcmlnaHQ6IDQ4cHg7XG4gIHN2ZyB7XG4gICAgc3Ryb2tlOiBibGFjaztcbiAgfVxuICBjdXJzb3I6IHBvaW50ZXI7XG5gO1xuXG5pbnRlcmZhY2UgRGF0YXNldFRhYnNVbm1lbW9pemVkUHJvcHMge1xuICBhY3RpdmVEYXRhc2V0OiBLZXBsZXJUYWJsZTtcbiAgZGF0YXNldHM6IERhdGFzZXRzO1xuICBzaG93RGF0YXNldFRhYmxlOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuY29uc3QgRGF0YXNldFRhYnNVbm1lbW9pemVkOiBSZWFjdC5GQzxEYXRhc2V0VGFic1VubWVtb2l6ZWRQcm9wcz4gPSAoe1xuICBhY3RpdmVEYXRhc2V0LFxuICBkYXRhc2V0cyxcbiAgc2hvd0RhdGFzZXRUYWJsZVxufSkgPT4gKFxuICA8RGF0YXNldENhdGFsb2cgY2xhc3NOYW1lPVwiZGF0YXNldC1tb2RhbC1jYXRhbG9nXCI+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy1ob3Jpem9udGFsXCI+XG4gICAgICB7T2JqZWN0LnZhbHVlcyhkYXRhc2V0cykubWFwKChkYXRhc2V0OiBLZXBsZXJUYWJsZSkgPT4gKFxuICAgICAgICA8RGF0YXNldE1vZGFsVGFiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZGF0YXNldC1tb2RhbC10YWJcIlxuICAgICAgICAgIGFjdGl2ZT17ZGF0YXNldCA9PT0gYWN0aXZlRGF0YXNldH1cbiAgICAgICAgICBrZXk9e2RhdGFzZXQuaWR9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2hvd0RhdGFzZXRUYWJsZShkYXRhc2V0LmlkKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxEYXRhc2V0TGFiZWwgZGF0YXNldD17ZGF0YXNldH0gLz5cbiAgICAgICAgPC9EYXRhc2V0TW9kYWxUYWI+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgPC9EYXRhc2V0Q2F0YWxvZz5cbik7XG5cbmV4cG9ydCBjb25zdCBEYXRhc2V0VGFicyA9IFJlYWN0Lm1lbW8oRGF0YXNldFRhYnNVbm1lbW9pemVkKTtcblxuRGF0YXNldFRhYnMuZGlzcGxheU5hbWUgPSAnRGF0YXNldFRhYnMnO1xuXG5EYXRhVGFibGVNb2RhbEZhY3RvcnkuZGVwcyA9IFtEYXRhVGFibGVGYWN0b3J5LCBEYXRhVGFibGVDb25maWdGYWN0b3J5XTtcblxuY29uc3QgVGFibGVDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBmbGV4LWdyb3c6IDE7XG4gIG1pbi1oZWlnaHQ6IDEwMCU7XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG4gIG1heC13aWR0aDogMTAwJTtcbmA7XG5cbmludGVyZmFjZSBEYXRhVGFibGVNb2RhbFByb3BzIHtcbiAgdGhlbWU6IGFueTtcbiAgZGF0YUlkPzogc3RyaW5nO1xuICBzb3J0VGFibGVDb2x1bW46IChpZDogc3RyaW5nLCBjb2x1bW46IHN0cmluZywgbW9kZT86IHN0cmluZykgPT4gdm9pZDtcbiAgcGluVGFibGVDb2x1bW46IChpZDogc3RyaW5nLCBjb2x1bW46IHN0cmluZykgPT4gdm9pZDtcbiAgY29weVRhYmxlQ29sdW1uOiAoaWQ6IHN0cmluZywgY29sdW1uOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGRhdGFzZXRzOiBEYXRhc2V0cztcbiAgc2hvd0RhdGFzZXRUYWJsZTogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNob3dUYWI/OiBib29sZWFuO1xuICBzZXRDb2x1bW5EaXNwbGF5Rm9ybWF0OiAoXG4gICAgZGF0YUlkOiBzdHJpbmcsXG4gICAgZm9ybWF0czoge1xuICAgICAgY29sdW1uOiBzdHJpbmc7XG4gICAgICBkaXNwbGF5Rm9ybWF0OiBzdHJpbmc7XG4gICAgfVxuICApID0+IHZvaWQ7XG4gIHVpU3RhdGVBY3Rpb25zOiB0eXBlb2YgVUlTdGF0ZUFjdGlvbnM7XG4gIHVpU3RhdGU6IFVpU3RhdGU7XG59XG5cbmZ1bmN0aW9uIERhdGFUYWJsZU1vZGFsRmFjdG9yeShcbiAgRGF0YVRhYmxlOiBSZXR1cm5UeXBlPHR5cGVvZiBEYXRhVGFibGVGYWN0b3J5PixcbiAgRGF0YVRhYmxlQ29uZmlnOiBSZXR1cm5UeXBlPHR5cGVvZiBEYXRhVGFibGVDb25maWdGYWN0b3J5PlxuKTogUmVhY3QuQ29tcG9uZW50VHlwZTxPbWl0PERhdGFUYWJsZU1vZGFsUHJvcHMsICd0aGVtZSc+PiB7XG4gIGNsYXNzIERhdGFUYWJsZU1vZGFsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PERhdGFUYWJsZU1vZGFsUHJvcHM+IHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgIHNob3dDb25maWc6IGZhbHNlXG4gICAgfTtcblxuICAgIGRhdGFzZXRDZWxsU2l6ZUNhY2hlID0ge307XG4gICAgZGF0YUlkID0gKHtkYXRhSWQgPSAnJ306IERhdGFUYWJsZU1vZGFsUHJvcHMpID0+IGRhdGFJZDtcbiAgICBkYXRhc2V0cyA9IChwcm9wczogRGF0YVRhYmxlTW9kYWxQcm9wcykgPT4gcHJvcHMuZGF0YXNldHM7XG4gICAgZmllbGRzID0gKHtkYXRhc2V0cywgZGF0YUlkID0gJyd9OiBEYXRhVGFibGVNb2RhbFByb3BzKSA9PiAoZGF0YXNldHNbZGF0YUlkXSB8fCB7fSkuZmllbGRzO1xuICAgIGNvbHVtbnMgPSBjcmVhdGVTZWxlY3Rvcih0aGlzLmZpZWxkcywgZmllbGRzID0+IGZpZWxkcy5tYXAoZiA9PiBmLm5hbWUpKTtcbiAgICBjb2xNZXRhID0gY3JlYXRlU2VsZWN0b3IoW3RoaXMuZmllbGRzLCB0aGlzLmRhdGFzZXRzXSwgZmllbGRzID0+XG4gICAgICBmaWVsZHMucmVkdWNlKFxuICAgICAgICAoYWNjLCB7bmFtZSwgZGlzcGxheU5hbWUsIHR5cGUsIGZpbHRlclByb3BzLCBmb3JtYXQsIGRpc3BsYXlGb3JtYXR9KSA9PiAoe1xuICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICBbbmFtZV06IHtcbiAgICAgICAgICAgIG5hbWU6IGRpc3BsYXlOYW1lIHx8IG5hbWUsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgLi4uKGZvcm1hdCA/IHtmb3JtYXR9IDoge30pLFxuICAgICAgICAgICAgLi4uKGRpc3BsYXlGb3JtYXQgPyB7ZGlzcGxheUZvcm1hdH0gOiB7fSksXG4gICAgICAgICAgICAuLi4oZmlsdGVyUHJvcHM/LmNvbHVtblN0YXRzID8ge2NvbHVtblN0YXRzOiBmaWx0ZXJQcm9wcy5jb2x1bW5TdGF0c30gOiB7fSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICB7fVxuICAgICAgKVxuICAgICk7XG5cbiAgICBjZWxsU2l6ZUNhY2hlID0gY3JlYXRlU2VsZWN0b3IodGhpcy5kYXRhSWQsIHRoaXMuZGF0YXNldHMsIChkYXRhSWQsIGRhdGFzZXRzKSA9PiB7XG4gICAgICBpZiAoIWRhdGFzZXRzW2RhdGFJZF0pIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3Qge2ZpZWxkcywgZGF0YUNvbnRhaW5lcn0gPSBkYXRhc2V0c1tkYXRhSWRdO1xuXG4gICAgICBsZXQgc2hvd0NhbGN1bGF0ZTogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuICAgICAgaWYgKCF0aGlzLmRhdGFzZXRDZWxsU2l6ZUNhY2hlW2RhdGFJZF0pIHtcbiAgICAgICAgc2hvd0NhbGN1bGF0ZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0aGlzLmRhdGFzZXRDZWxsU2l6ZUNhY2hlW2RhdGFJZF0uZmllbGRzICE9PSBmaWVsZHMgfHxcbiAgICAgICAgdGhpcy5kYXRhc2V0Q2VsbFNpemVDYWNoZVtkYXRhSWRdLmRhdGFDb250YWluZXIgIT09IGRhdGFDb250YWluZXJcbiAgICAgICkge1xuICAgICAgICBzaG93Q2FsY3VsYXRlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzaG93Q2FsY3VsYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFzZXRDZWxsU2l6ZUNhY2hlW2RhdGFJZF0uY2VsbFNpemVDYWNoZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2VsbFNpemVDYWNoZSA9IGZpZWxkcy5yZWR1Y2UoXG4gICAgICAgIChhY2MsIGZpZWxkLCBjb2xJZHgpID0+ICh7XG4gICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgIFtmaWVsZC5uYW1lXTogcmVuZGVyZWRTaXplKHtcbiAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgZGF0YUNvbnRhaW5lcixcbiAgICAgICAgICAgICAgY29sdW1uOiBmaWVsZC5kaXNwbGF5TmFtZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbElkeCxcbiAgICAgICAgICAgIHR5cGU6IGZpZWxkLnR5cGUsXG4gICAgICAgICAgICBmb250U2l6ZTogdGhpcy5wcm9wcy50aGVtZS5jZWxsRm9udFNpemUsXG4gICAgICAgICAgICBmb250OiB0aGlzLnByb3BzLnRoZW1lLmZvbnRGYW1pbHksXG4gICAgICAgICAgICBtaW5DZWxsU2l6ZTogTUlOX1NUQVRTX0NFTExfU0laRVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pLFxuICAgICAgICB7fVxuICAgICAgKTtcbiAgICAgIC8vIHNhdmUgaXQgdG8gY2FjaGVcbiAgICAgIHRoaXMuZGF0YXNldENlbGxTaXplQ2FjaGVbZGF0YUlkXSA9IHtcbiAgICAgICAgY2VsbFNpemVDYWNoZSxcbiAgICAgICAgZmllbGRzLFxuICAgICAgICBkYXRhQ29udGFpbmVyXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGNlbGxTaXplQ2FjaGU7XG4gICAgfSk7XG5cbiAgICBjb3B5VGFibGVDb2x1bW4gPSAoY29sdW1uOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHtkYXRhSWQgPSAnJywgY29weVRhYmxlQ29sdW1ufSA9IHRoaXMucHJvcHM7XG4gICAgICBjb3B5VGFibGVDb2x1bW4oZGF0YUlkLCBjb2x1bW4pO1xuICAgIH07XG5cbiAgICBwaW5UYWJsZUNvbHVtbiA9IChjb2x1bW46IHN0cmluZykgPT4ge1xuICAgICAgY29uc3Qge2RhdGFJZCA9ICcnLCBwaW5UYWJsZUNvbHVtbn0gPSB0aGlzLnByb3BzO1xuICAgICAgcGluVGFibGVDb2x1bW4oZGF0YUlkLCBjb2x1bW4pO1xuICAgIH07XG5cbiAgICBzb3J0VGFibGVDb2x1bW4gPSAoY29sdW1uOiBzdHJpbmcsIG1vZGU/OiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHtkYXRhSWQgPSAnJywgc29ydFRhYmxlQ29sdW1ufSA9IHRoaXMucHJvcHM7XG4gICAgICBzb3J0VGFibGVDb2x1bW4oZGF0YUlkLCBjb2x1bW4sIG1vZGUpO1xuICAgIH07XG5cbiAgICBzZXRDb2x1bW5EaXNwbGF5Rm9ybWF0ID0gZm9ybWF0cyA9PiB7XG4gICAgICBjb25zdCB7ZGF0YUlkLCBzZXRDb2x1bW5EaXNwbGF5Rm9ybWF0fSA9IHRoaXMucHJvcHM7XG4gICAgICBpZiAoZGF0YUlkKSBzZXRDb2x1bW5EaXNwbGF5Rm9ybWF0KGRhdGFJZCwgZm9ybWF0cyk7XG4gICAgfTtcblxuICAgIG9uT3BlbkNvbmZpZyA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dDb25maWc6IHRydWV9KTtcbiAgICB9O1xuXG4gICAgb25DbG9zZUNvbmZpZyA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dDb25maWc6IGZhbHNlfSk7XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgIGNvbnN0IHtkYXRhc2V0cywgZGF0YUlkLCBzaG93RGF0YXNldFRhYmxlLCBzaG93VGFiID0gdHJ1ZX0gPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKCFkYXRhc2V0cyB8fCAhZGF0YUlkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgYWN0aXZlRGF0YXNldCA9IGRhdGFzZXRzW2RhdGFJZF07XG4gICAgICBjb25zdCBjb2x1bW5zID0gdGhpcy5jb2x1bW5zKHRoaXMucHJvcHMpO1xuICAgICAgY29uc3QgY29sTWV0YSA9IHRoaXMuY29sTWV0YSh0aGlzLnByb3BzKTtcbiAgICAgIGNvbnN0IGNlbGxTaXplQ2FjaGUgPSB0aGlzLmNlbGxTaXplQ2FjaGUodGhpcy5wcm9wcyk7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTdHlsZWRNb2RhbCBjbGFzc05hbWU9XCJkYXRhc2V0LW1vZGFsXCIgaWQ9XCJkYXRhc2V0LW1vZGFsXCI+XG4gICAgICAgICAgPENhbnZhc0hhY2sgLz5cbiAgICAgICAgICA8VGFibGVDb250YWluZXI+XG4gICAgICAgICAgICB7c2hvd1RhYiA/IChcbiAgICAgICAgICAgICAgPERhdGFzZXRUYWJzXG4gICAgICAgICAgICAgICAgYWN0aXZlRGF0YXNldD17YWN0aXZlRGF0YXNldH1cbiAgICAgICAgICAgICAgICBkYXRhc2V0cz17ZGF0YXNldHN9XG4gICAgICAgICAgICAgICAgc2hvd0RhdGFzZXRUYWJsZT17c2hvd0RhdGFzZXRUYWJsZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPFN0eWxlZENvbmZpZ3VyZUJ1dHRvbiBjbGFzc05hbWU9XCJkaXNwbGF5LWNvbmZpZy1idXR0b25cIj5cbiAgICAgICAgICAgICAgPEdlYXIgb25DbGljaz17dGhpcy5vbk9wZW5Db25maWd9IC8+XG4gICAgICAgICAgICAgIDxQb3J0YWxlZFxuICAgICAgICAgICAgICAgIHJpZ2h0PXsyNDB9XG4gICAgICAgICAgICAgICAgdG9wPXsyMH1cbiAgICAgICAgICAgICAgICBpc09wZW5lZD17dGhpcy5zdGF0ZS5zaG93Q29uZmlnfVxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMub25DbG9zZUNvbmZpZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxEYXRhVGFibGVDb25maWdcbiAgICAgICAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgICAgICAgICAgICBjb2xNZXRhPXtjb2xNZXRhfVxuICAgICAgICAgICAgICAgICAgc2V0Q29sdW1uRGlzcGxheUZvcm1hdD17dGhpcy5zZXRDb2x1bW5EaXNwbGF5Rm9ybWF0fVxuICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5vbkNsb3NlQ29uZmlnfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvUG9ydGFsZWQ+XG4gICAgICAgICAgICA8L1N0eWxlZENvbmZpZ3VyZUJ1dHRvbj5cbiAgICAgICAgICAgIHtkYXRhc2V0c1tkYXRhSWRdID8gKFxuICAgICAgICAgICAgICA8RGF0YVRhYmxlXG4gICAgICAgICAgICAgICAga2V5PXtkYXRhSWR9XG4gICAgICAgICAgICAgICAgZGF0YUlkPXtkYXRhSWR9XG4gICAgICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgICAgICAgICBjb2xNZXRhPXtjb2xNZXRhfVxuICAgICAgICAgICAgICAgIGNlbGxTaXplQ2FjaGU9e2NlbGxTaXplQ2FjaGV9XG4gICAgICAgICAgICAgICAgZGF0YUNvbnRhaW5lcj17YWN0aXZlRGF0YXNldC5kYXRhQ29udGFpbmVyfVxuICAgICAgICAgICAgICAgIHBpbm5lZENvbHVtbnM9e2FjdGl2ZURhdGFzZXQucGlubmVkQ29sdW1uc31cbiAgICAgICAgICAgICAgICBzb3J0T3JkZXI9e2FjdGl2ZURhdGFzZXQuc29ydE9yZGVyfVxuICAgICAgICAgICAgICAgIHNvcnRDb2x1bW49e2FjdGl2ZURhdGFzZXQuc29ydENvbHVtbiB8fCBERUZBVUxUX1NPUlRfQ09MVU1OfVxuICAgICAgICAgICAgICAgIGNvcHlUYWJsZUNvbHVtbj17dGhpcy5jb3B5VGFibGVDb2x1bW59XG4gICAgICAgICAgICAgICAgcGluVGFibGVDb2x1bW49e3RoaXMucGluVGFibGVDb2x1bW59XG4gICAgICAgICAgICAgICAgc29ydFRhYmxlQ29sdW1uPXt0aGlzLnNvcnRUYWJsZUNvbHVtbn1cbiAgICAgICAgICAgICAgICBzZXRDb2x1bW5EaXNwbGF5Rm9ybWF0PXt0aGlzLnNldENvbHVtbkRpc3BsYXlGb3JtYXR9XG4gICAgICAgICAgICAgICAgaGFzU3RhdHM9e2ZhbHNlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC9UYWJsZUNvbnRhaW5lcj5cbiAgICAgICAgPC9TdHlsZWRNb2RhbD5cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBmaWd1cmUgb3V0IHRoZSBwcm9wZXIgd2F5IHRvIHR5cGVcbiAgcmV0dXJuIHdpdGhUaGVtZShEYXRhVGFibGVNb2RhbCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFUYWJsZU1vZGFsRmFjdG9yeTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBR0EsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUMsdUJBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLGFBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFVBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLFNBQUEsR0FBQUwsT0FBQTtBQUNBLElBQUFNLFNBQUEsR0FBQU4sT0FBQTtBQUNBLElBQUFPLE9BQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUlBLElBQUFRLE1BQUEsR0FBQVIsT0FBQTtBQUNBLElBQUFTLFNBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLGNBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5RSxJQUFBVyxlQUFBLEVBQUFDLGdCQUFBLEVBQUFDLGdCQUFBLEVBQUFDLGdCQUFBLEVBQUFDLGdCQUFBLEVBZnpFO0FBQ0E7QUFBQSxTQUFBQyx5QkFBQUMsQ0FBQTtFQUFBLHlCQUFBQyxPQUFBO0VBQUEsSUFBQUMsQ0FBQSxPQUFBRCxPQUFBO0lBQUFFLENBQUEsT0FBQUYsT0FBQTtFQUFBLFFBQUFGLHdCQUFBLFlBQUFBLHlCQUFBQyxDQUFBO0lBQUEsT0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUE7RUFBQSxHQUFB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