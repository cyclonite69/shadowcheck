"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.FormatterDropdown = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireWildcard(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/react"));
var _styledComponents = _interopRequireDefault(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/styled-components"));
var _portaled = _interopRequireDefault(require("../portaled"));
var _dropdownList = _interopRequireDefault(require("../item-selector/dropdown-list"));
var _constants = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/constants/src");
var _utils = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/utils/src");
var _icons = require("../icons");
var _templateObject, _templateObject2; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
function _getRequireWildcardCache(e) {
  if ("function" != typeof WeakMap) return null;
  var r = new WeakMap(),
    t = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {
    return e ? t : r;
  })(e);
}
function _interopRequireWildcard(e, r) {
  if (!r && e && e.__esModule) return e;
  if (null === e || "object" != _typeof(e) && "function" != typeof e) return {
    "default": e
  };
  var t = _getRequireWildcardCache(r);
  if (t && t.has(e)) return t.get(e);
  var n = {
      __proto__: null
    },
    a = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) {
    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];
  }
  return n["default"] = e, t && t.set(e, n), n;
}
function ownKeys(e, r) {
  var t = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e);
    r && (o = o.filter(function (r) {
      return Object.getOwnPropertyDescriptor(e, r).enumerable;
    })), t.push.apply(t, o);
  }
  return t;
}
function _objectSpread(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {
      (0, _defineProperty2["default"])(e, r, t[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));
    });
  }
  return e;
}
var ListItem = function ListItem(_ref) {
  var value = _ref.value;
  return /*#__PURE__*/_react["default"].createElement("div", null, /*#__PURE__*/_react["default"].createElement(value.icon, {
    height: "13px"
  }), value.display);
};

// make hash icon smaller
var StyledOptionsDropdown = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  .list-selector {\n    border-top: 0;\n    width: max-content;\n    padding: 8px 0;\n  }\n\n  .list__item > div {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    justify-content: flex-start;\n    line-height: 18px;\n\n    svg {\n      margin-right: 5px;\n    }\n\n    .data-ex-icons-hash {\n      width: 10px;\n      height: 10px;\n      stroke-width: 1px;\n      margin-left: 2px;\n      margin-right: 6px;\n    }\n  }\n"])));
var StyledPopover = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  width: 184px;\n  height: 160px;\n  z-index: 101;\n  .list-selector {\n    max-height: 160px;\n  }\n  .hover:after {\n    content: '\\2713';\n    margin-left: 5px;\n  }\n"], ["\n  width: 184px;\n  height: 160px;\n  z-index: 101;\n  .list-selector {\n    max-height: 160px;\n  }\n  .hover:after {\n    content: '\\\\2713';\n    margin-left: 5px;\n  }\n"])));
var FormatterDropdown = exports.FormatterDropdown = function FormatterDropdown(props) {
  var left = props.left,
    top = props.top,
    isOpened = props.isOpened,
    _props$displayFormat = props.displayFormat,
    displayFormat = _props$displayFormat === void 0 ? 'None' : _props$displayFormat,
    setDisplayFormat = props.setDisplayFormat,
    onClose = props.onClose,
    formatLabels = props.formatLabels;
  var selectionIndex = formatLabels.findIndex(function (label) {
    return label.format === displayFormat;
  });
  var onSelectDisplayFormat = (0, _react.useCallback)(function (result) {
    setDisplayFormat === null || setDisplayFormat === void 0 || setDisplayFormat(result);
    onClose();
  }, [setDisplayFormat, onClose]);
  return /*#__PURE__*/_react["default"].createElement(_portaled["default"], {
    left: left,
    top: top,
    isOpened: isOpened,
    onClose: onClose
  }, /*#__PURE__*/_react["default"].createElement(StyledPopover, {
    className: "formatter-popover"
  }, /*#__PURE__*/_react["default"].createElement(_dropdownList["default"], {
    options: formatLabels,
    selectionIndex: selectionIndex,
    displayOption: function displayOption(option) {
      return option.label;
    },
    onOptionSelected: onSelectDisplayFormat,
    light: true
  })));
};
var OptionDropdown = function OptionDropdown(props) {
  var _colMeta$column;
  var isOpened = props.isOpened,
    column = props.column,
    colMeta = props.colMeta,
    toggleMoreOptions = props.toggleMoreOptions,
    sortTableColumn = props.sortTableColumn,
    pinTableColumn = props.pinTableColumn,
    copyTableColumn = props.copyTableColumn,
    setDisplayFormat = props.setDisplayFormat;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    showFormatter = _useState2[0],
    setShowFormatter = _useState2[1];
  var onOptionSelected = (0, _react.useCallback)(function (_ref2) {
    var value = _ref2.value;
    switch (value) {
      case _constants.TABLE_OPTION.SORT_ASC:
        sortTableColumn === null || sortTableColumn === void 0 || sortTableColumn(_constants.SORT_ORDER.ASCENDING);
        break;
      case _constants.TABLE_OPTION.SORT_DES:
        sortTableColumn === null || sortTableColumn === void 0 || sortTableColumn(_constants.SORT_ORDER.DESCENDING);
        break;
      case _constants.TABLE_OPTION.UNSORT:
        sortTableColumn === null || sortTableColumn === void 0 || sortTableColumn(_constants.SORT_ORDER.UNSORT);
        break;
      case _constants.TABLE_OPTION.PIN:
        pinTableColumn();
        break;
      case _constants.TABLE_OPTION.UNPIN:
        pinTableColumn();
        break;
      case _constants.TABLE_OPTION.COPY:
        copyTableColumn();
        break;
      case _constants.TABLE_OPTION.FORMAT_COLUMN:
        setShowFormatter(true);
        return;
      default:
        break;
    }
    toggleMoreOptions(column);
  }, [column, sortTableColumn, pinTableColumn, copyTableColumn, toggleMoreOptions]);
  var TABLE_OPTION_LIST_ICONS = {
    Pin: _icons.Pin,
    ArrowDown: _icons.ArrowDown,
    ArrowUp: _icons.ArrowUp,
    Clipboard: _icons.Clipboard,
    Cancel: _icons.Cancel,
    Hash: _icons.Hash
  };
  var formatLabels = (0, _utils.getFieldFormatLabels)(colMeta[column].type);
  var options = _constants.TABLE_OPTION_LIST.filter(function (op) {
    // cant use conditions because it creates a circular dependency
    // TODO: move condition clause out of default-settings TABLE_OPTION_LIST
    var validToFormat = op.value !== _constants.TABLE_OPTION.FORMAT_COLUMN || formatLabels.length;
    return (!op.condition || op.condition(props)) && validToFormat;
  }).map(function (op) {
    return _objectSpread(_objectSpread({}, op), {}, {
      icon: TABLE_OPTION_LIST_ICONS[op.icon]
    });
  });
  var onClose = (0, _react.useCallback)(function () {
    setShowFormatter(false);
    toggleMoreOptions(column);
  }, [column, toggleMoreOptions]);
  return /*#__PURE__*/_react["default"].createElement(_portaled["default"], {
    right: 120,
    top: 20,
    isOpened: isOpened,
    onClose: onClose
  }, /*#__PURE__*/_react["default"].createElement(StyledOptionsDropdown, {
    className: "more-options"
  }, /*#__PURE__*/_react["default"].createElement(_dropdownList["default"], {
    displayOption: function displayOption(d) {
      return d.display;
    },
    options: options,
    customListItemComponent: ListItem,
    onOptionSelected: onOptionSelected,
    light: true
  }), /*#__PURE__*/_react["default"].createElement(FormatterDropdown, {
    left: 120,
    top: -10,
    isOpened: Boolean(isOpened && showFormatter),
    formatLabels: formatLabels,
    displayFormat: (_colMeta$column = colMeta[column]) === null || _colMeta$column === void 0 ? void 0 : _colMeta$column.displayFormat,
    setDisplayFormat: setDisplayFormat,
    onClose: onClose
  })));
};
var _default = exports["default"] = OptionDropdown;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfc3R5bGVkQ29tcG9uZW50cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcG9ydGFsZWQiLCJfZHJvcGRvd25MaXN0IiwiX2NvbnN0YW50cyIsIl91dGlscyIsIl9pY29ucyIsIl90ZW1wbGF0ZU9iamVjdCIsIl90ZW1wbGF0ZU9iamVjdDIiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJvd25LZXlzIiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJMaXN0SXRlbSIsIl9yZWYiLCJ2YWx1ZSIsImNyZWF0ZUVsZW1lbnQiLCJpY29uIiwiaGVpZ2h0IiwiZGlzcGxheSIsIlN0eWxlZE9wdGlvbnNEcm9wZG93biIsImRpdiIsIl90YWdnZWRUZW1wbGF0ZUxpdGVyYWwyIiwiU3R5bGVkUG9wb3ZlciIsIkZvcm1hdHRlckRyb3Bkb3duIiwiZXhwb3J0cyIsInByb3BzIiwibGVmdCIsInRvcCIsImlzT3BlbmVkIiwiX3Byb3BzJGRpc3BsYXlGb3JtYXQiLCJkaXNwbGF5Rm9ybWF0Iiwic2V0RGlzcGxheUZvcm1hdCIsIm9uQ2xvc2UiLCJmb3JtYXRMYWJlbHMiLCJzZWxlY3Rpb25JbmRleCIsImZpbmRJbmRleCIsImxhYmVsIiwiZm9ybWF0Iiwib25TZWxlY3REaXNwbGF5Rm9ybWF0IiwidXNlQ2FsbGJhY2siLCJyZXN1bHQiLCJjbGFzc05hbWUiLCJvcHRpb25zIiwiZGlzcGxheU9wdGlvbiIsIm9wdGlvbiIsIm9uT3B0aW9uU2VsZWN0ZWQiLCJsaWdodCIsIk9wdGlvbkRyb3Bkb3duIiwiX2NvbE1ldGEkY29sdW1uIiwiY29sdW1uIiwiY29sTWV0YSIsInRvZ2dsZU1vcmVPcHRpb25zIiwic29ydFRhYmxlQ29sdW1uIiwicGluVGFibGVDb2x1bW4iLCJjb3B5VGFibGVDb2x1bW4iLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheTIiLCJzaG93Rm9ybWF0dGVyIiwic2V0U2hvd0Zvcm1hdHRlciIsIl9yZWYyIiwiVEFCTEVfT1BUSU9OIiwiU09SVF9BU0MiLCJTT1JUX09SREVSIiwiQVNDRU5ESU5HIiwiU09SVF9ERVMiLCJERVNDRU5ESU5HIiwiVU5TT1JUIiwiUElOIiwiVU5QSU4iLCJDT1BZIiwiRk9STUFUX0NPTFVNTiIsIlRBQkxFX09QVElPTl9MSVNUX0lDT05TIiwiUGluIiwiQXJyb3dEb3duIiwiQXJyb3dVcCIsIkNsaXBib2FyZCIsIkNhbmNlbCIsIkhhc2giLCJnZXRGaWVsZEZvcm1hdExhYmVscyIsInR5cGUiLCJUQUJMRV9PUFRJT05fTElTVCIsIm9wIiwidmFsaWRUb0Zvcm1hdCIsImNvbmRpdGlvbiIsIm1hcCIsInJpZ2h0IiwiZCIsImN1c3RvbUxpc3RJdGVtQ29tcG9uZW50IiwiQm9vbGVhbiIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbW1vbi9kYXRhLXRhYmxlL29wdGlvbi1kcm9wZG93bi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IGNvbnRyaWJ1dG9ycyB0byB0aGUga2VwbGVyLmdsIHByb2plY3RcblxuaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZVN0YXRlfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCBQb3J0YWxlZCBmcm9tICcuLi9wb3J0YWxlZCc7XG5pbXBvcnQgRHJvcGRvd25MaXN0IGZyb20gJy4uL2l0ZW0tc2VsZWN0b3IvZHJvcGRvd24tbGlzdCc7XG5pbXBvcnQge1xuICBTT1JUX09SREVSLFxuICBUQUJMRV9PUFRJT04sXG4gIFRBQkxFX09QVElPTl9MSVNULFxuICBUb29sdGlwRm9ybWF0LFxuICBUYWJsZU9wdGlvblxufSBmcm9tICdAa2VwbGVyLmdsL2NvbnN0YW50cyc7XG5pbXBvcnQge2dldEZpZWxkRm9ybWF0TGFiZWxzfSBmcm9tICdAa2VwbGVyLmdsL3V0aWxzJztcbmltcG9ydCB7Q29sTWV0YX0gZnJvbSAnQGtlcGxlci5nbC90eXBlcyc7XG5pbXBvcnQge0Fycm93RG93biwgQXJyb3dVcCwgQ2xpcGJvYXJkLCBQaW4sIENhbmNlbCwgSGFzaH0gZnJvbSAnLi4vaWNvbnMnO1xuXG5jb25zdCBMaXN0SXRlbSA9ICh7dmFsdWV9KSA9PiAoXG4gIDxkaXY+XG4gICAgPHZhbHVlLmljb24gaGVpZ2h0PVwiMTNweFwiIC8+XG4gICAge3ZhbHVlLmRpc3BsYXl9XG4gIDwvZGl2PlxuKTtcblxuLy8gbWFrZSBoYXNoIGljb24gc21hbGxlclxuY29uc3QgU3R5bGVkT3B0aW9uc0Ryb3Bkb3duID0gc3R5bGVkLmRpdmBcbiAgLmxpc3Qtc2VsZWN0b3Ige1xuICAgIGJvcmRlci10b3A6IDA7XG4gICAgd2lkdGg6IG1heC1jb250ZW50O1xuICAgIHBhZGRpbmc6IDhweCAwO1xuICB9XG5cbiAgLmxpc3RfX2l0ZW0gPiBkaXYge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICBsaW5lLWhlaWdodDogMThweDtcblxuICAgIHN2ZyB7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICB9XG5cbiAgICAuZGF0YS1leC1pY29ucy1oYXNoIHtcbiAgICAgIHdpZHRoOiAxMHB4O1xuICAgICAgaGVpZ2h0OiAxMHB4O1xuICAgICAgc3Ryb2tlLXdpZHRoOiAxcHg7XG4gICAgICBtYXJnaW4tbGVmdDogMnB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiA2cHg7XG4gICAgfVxuICB9XG5gO1xuXG5jb25zdCBTdHlsZWRQb3BvdmVyID0gc3R5bGVkLmRpdmBcbiAgd2lkdGg6IDE4NHB4O1xuICBoZWlnaHQ6IDE2MHB4O1xuICB6LWluZGV4OiAxMDE7XG4gIC5saXN0LXNlbGVjdG9yIHtcbiAgICBtYXgtaGVpZ2h0OiAxNjBweDtcbiAgfVxuICAuaG92ZXI6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6ICdcXFxcMjcxMyc7XG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgfVxuYDtcblxuZXhwb3J0IHR5cGUgRm9ybWF0dGVyRHJvcGRvd25Qcm9wcyA9IHtcbiAgbGVmdDogbnVtYmVyO1xuICB0b3A6IG51bWJlcjtcbiAgaXNPcGVuZWQ6IGJvb2xlYW47XG4gIGRpc3BsYXlGb3JtYXQ/OiBzdHJpbmc7XG4gIHNldERpc3BsYXlGb3JtYXQ/OiAoZGlzcGxheUZvcm1hdDogVG9vbHRpcEZvcm1hdCkgPT4gdm9pZDtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgZm9ybWF0TGFiZWxzOiBUb29sdGlwRm9ybWF0W107XG59O1xuXG5leHBvcnQgY29uc3QgRm9ybWF0dGVyRHJvcGRvd246IFJlYWN0LkZDPEZvcm1hdHRlckRyb3Bkb3duUHJvcHM+ID0gKFxuICBwcm9wczogRm9ybWF0dGVyRHJvcGRvd25Qcm9wc1xuKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBsZWZ0LFxuICAgIHRvcCxcbiAgICBpc09wZW5lZCxcbiAgICBkaXNwbGF5Rm9ybWF0ID0gJ05vbmUnLFxuICAgIHNldERpc3BsYXlGb3JtYXQsXG4gICAgb25DbG9zZSxcbiAgICBmb3JtYXRMYWJlbHNcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzZWxlY3Rpb25JbmRleCA9IGZvcm1hdExhYmVscy5maW5kSW5kZXgobGFiZWwgPT4gbGFiZWwuZm9ybWF0ID09PSBkaXNwbGF5Rm9ybWF0KTtcblxuICBjb25zdCBvblNlbGVjdERpc3BsYXlGb3JtYXQgPSB1c2VDYWxsYmFjayhcbiAgICByZXN1bHQgPT4ge1xuICAgICAgc2V0RGlzcGxheUZvcm1hdD8uKHJlc3VsdCk7XG4gICAgICBvbkNsb3NlKCk7XG4gICAgfSxcbiAgICBbc2V0RGlzcGxheUZvcm1hdCwgb25DbG9zZV1cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxQb3J0YWxlZCBsZWZ0PXtsZWZ0fSB0b3A9e3RvcH0gaXNPcGVuZWQ9e2lzT3BlbmVkfSBvbkNsb3NlPXtvbkNsb3NlfT5cbiAgICAgIDxTdHlsZWRQb3BvdmVyIGNsYXNzTmFtZT1cImZvcm1hdHRlci1wb3BvdmVyXCI+XG4gICAgICAgIDxEcm9wZG93bkxpc3RcbiAgICAgICAgICBvcHRpb25zPXtmb3JtYXRMYWJlbHN9XG4gICAgICAgICAgc2VsZWN0aW9uSW5kZXg9e3NlbGVjdGlvbkluZGV4fVxuICAgICAgICAgIGRpc3BsYXlPcHRpb249e29wdGlvbiA9PiAob3B0aW9uIGFzIFRvb2x0aXBGb3JtYXQpLmxhYmVsfVxuICAgICAgICAgIG9uT3B0aW9uU2VsZWN0ZWQ9e29uU2VsZWN0RGlzcGxheUZvcm1hdH1cbiAgICAgICAgICBsaWdodFxuICAgICAgICAvPlxuICAgICAgPC9TdHlsZWRQb3BvdmVyPlxuICAgIDwvUG9ydGFsZWQ+XG4gICk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIE9wdGlvbkRyb3Bkb3duUHJvcHMge1xuICBpc09wZW5lZD86IGJvb2xlYW47XG4gIGNvbHVtbjogc3RyaW5nO1xuICBjb2xNZXRhOiBDb2xNZXRhO1xuICB0b2dnbGVNb3JlT3B0aW9uczogKGNvbHVtbjogc3RyaW5nKSA9PiB2b2lkO1xuICBzb3J0VGFibGVDb2x1bW4/OiAoc29ydDogc3RyaW5nKSA9PiB2b2lkO1xuICBwaW5UYWJsZUNvbHVtbjogKCkgPT4gdm9pZDtcbiAgY29weVRhYmxlQ29sdW1uOiAoKSA9PiB2b2lkO1xuICBzZXREaXNwbGF5Rm9ybWF0PzogKGRpc3BsYXlGb3JtYXQ6IGFueSkgPT4gdm9pZDtcbiAgc29ydE1vZGU/OiBzdHJpbmc7XG4gIGlzU29ydGVkPzogc3RyaW5nO1xuICBpc1Bpbm5lZD86IGJvb2xlYW47XG59XG5cbmNvbnN0IE9wdGlvbkRyb3Bkb3duID0gKHByb3BzOiBPcHRpb25Ecm9wZG93blByb3BzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBpc09wZW5lZCxcbiAgICBjb2x1bW4sXG4gICAgY29sTWV0YSxcbiAgICB0b2dnbGVNb3JlT3B0aW9ucyxcbiAgICBzb3J0VGFibGVDb2x1bW4sXG4gICAgcGluVGFibGVDb2x1bW4sXG4gICAgY29weVRhYmxlQ29sdW1uLFxuICAgIHNldERpc3BsYXlGb3JtYXRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbc2hvd0Zvcm1hdHRlciwgc2V0U2hvd0Zvcm1hdHRlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IG9uT3B0aW9uU2VsZWN0ZWQ6ICh2OiBUYWJsZU9wdGlvbikgPT4gdm9pZCA9IHVzZUNhbGxiYWNrKFxuICAgICh7dmFsdWV9KSA9PiB7XG4gICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgVEFCTEVfT1BUSU9OLlNPUlRfQVNDOlxuICAgICAgICAgIHNvcnRUYWJsZUNvbHVtbj8uKFNPUlRfT1JERVIuQVNDRU5ESU5HKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUQUJMRV9PUFRJT04uU09SVF9ERVM6XG4gICAgICAgICAgc29ydFRhYmxlQ29sdW1uPy4oU09SVF9PUkRFUi5ERVNDRU5ESU5HKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUQUJMRV9PUFRJT04uVU5TT1JUOlxuICAgICAgICAgIHNvcnRUYWJsZUNvbHVtbj8uKFNPUlRfT1JERVIuVU5TT1JUKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUQUJMRV9PUFRJT04uUElOOlxuICAgICAgICAgIHBpblRhYmxlQ29sdW1uKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVEFCTEVfT1BUSU9OLlVOUElOOlxuICAgICAgICAgIHBpblRhYmxlQ29sdW1uKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVEFCTEVfT1BUSU9OLkNPUFk6XG4gICAgICAgICAgY29weVRhYmxlQ29sdW1uKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVEFCTEVfT1BUSU9OLkZPUk1BVF9DT0xVTU46XG4gICAgICAgICAgc2V0U2hvd0Zvcm1hdHRlcih0cnVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHRvZ2dsZU1vcmVPcHRpb25zKGNvbHVtbik7XG4gICAgfSxcbiAgICBbY29sdW1uLCBzb3J0VGFibGVDb2x1bW4sIHBpblRhYmxlQ29sdW1uLCBjb3B5VGFibGVDb2x1bW4sIHRvZ2dsZU1vcmVPcHRpb25zXVxuICApO1xuXG4gIGNvbnN0IFRBQkxFX09QVElPTl9MSVNUX0lDT05TID0ge1xuICAgIFBpbixcbiAgICBBcnJvd0Rvd24sXG4gICAgQXJyb3dVcCxcbiAgICBDbGlwYm9hcmQsXG4gICAgQ2FuY2VsLFxuICAgIEhhc2hcbiAgfTtcblxuICBjb25zdCBmb3JtYXRMYWJlbHMgPSBnZXRGaWVsZEZvcm1hdExhYmVscyhjb2xNZXRhW2NvbHVtbl0udHlwZSk7XG4gIGNvbnN0IG9wdGlvbnMgPSBUQUJMRV9PUFRJT05fTElTVC5maWx0ZXIob3AgPT4ge1xuICAgIC8vIGNhbnQgdXNlIGNvbmRpdGlvbnMgYmVjYXVzZSBpdCBjcmVhdGVzIGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuICAgIC8vIFRPRE86IG1vdmUgY29uZGl0aW9uIGNsYXVzZSBvdXQgb2YgZGVmYXVsdC1zZXR0aW5ncyBUQUJMRV9PUFRJT05fTElTVFxuICAgIGNvbnN0IHZhbGlkVG9Gb3JtYXQgPSBvcC52YWx1ZSAhPT0gVEFCTEVfT1BUSU9OLkZPUk1BVF9DT0xVTU4gfHwgZm9ybWF0TGFiZWxzLmxlbmd0aDtcbiAgICByZXR1cm4gKCFvcC5jb25kaXRpb24gfHwgb3AuY29uZGl0aW9uKHByb3BzKSkgJiYgdmFsaWRUb0Zvcm1hdDtcbiAgfSkubWFwKG9wID0+ICh7XG4gICAgLi4ub3AsXG4gICAgaWNvbjogVEFCTEVfT1BUSU9OX0xJU1RfSUNPTlNbb3AuaWNvbl1cbiAgfSkpO1xuXG4gIGNvbnN0IG9uQ2xvc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0U2hvd0Zvcm1hdHRlcihmYWxzZSk7XG4gICAgdG9nZ2xlTW9yZU9wdGlvbnMoY29sdW1uKTtcbiAgfSwgW2NvbHVtbiwgdG9nZ2xlTW9yZU9wdGlvbnNdKTtcblxuICByZXR1cm4gKFxuICAgIDxQb3J0YWxlZCByaWdodD17MTIwfSB0b3A9ezIwfSBpc09wZW5lZD17aXNPcGVuZWR9IG9uQ2xvc2U9e29uQ2xvc2V9PlxuICAgICAgPFN0eWxlZE9wdGlvbnNEcm9wZG93biBjbGFzc05hbWU9XCJtb3JlLW9wdGlvbnNcIj5cbiAgICAgICAgPERyb3Bkb3duTGlzdFxuICAgICAgICAgIGRpc3BsYXlPcHRpb249e2QgPT4gKGQgYXMgVGFibGVPcHRpb24pLmRpc3BsYXl9XG4gICAgICAgICAgb3B0aW9ucz17b3B0aW9uc31cbiAgICAgICAgICBjdXN0b21MaXN0SXRlbUNvbXBvbmVudD17TGlzdEl0ZW19XG4gICAgICAgICAgb25PcHRpb25TZWxlY3RlZD17b25PcHRpb25TZWxlY3RlZH1cbiAgICAgICAgICBsaWdodFxuICAgICAgICAvPlxuICAgICAgICA8Rm9ybWF0dGVyRHJvcGRvd25cbiAgICAgICAgICBsZWZ0PXsxMjB9XG4gICAgICAgICAgdG9wPXstMTB9XG4gICAgICAgICAgaXNPcGVuZWQ9e0Jvb2xlYW4oaXNPcGVuZWQgJiYgc2hvd0Zvcm1hdHRlcil9XG4gICAgICAgICAgZm9ybWF0TGFiZWxzPXtmb3JtYXRMYWJlbHN9XG4gICAgICAgICAgZGlzcGxheUZvcm1hdD17Y29sTWV0YVtjb2x1bW5dPy5kaXNwbGF5Rm9ybWF0fVxuICAgICAgICAgIHNldERpc3BsYXlGb3JtYXQ9e3NldERpc3BsYXlGb3JtYXR9XG4gICAgICAgICAgb25DbG9zZT17b25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgIDwvU3R5bGVkT3B0aW9uc0Ryb3Bkb3duPlxuICAgIDwvUG9ydGFsZWQ+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBPcHRpb25Ecm9wZG93bjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFHQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxpQkFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBRCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUksYUFBQSxHQUFBRixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUssVUFBQSxHQUFBTCxPQUFBO0FBT0EsSUFBQU0sTUFBQSxHQUFBTixPQUFBO0FBRUEsSUFBQU8sTUFBQSxHQUFBUCxPQUFBO0FBQTBFLElBQUFRLGVBQUEsRUFBQUMsZ0JBQUEsRUFoQjFFO0FBQ0E7QUFBQSxTQUFBQyx5QkFBQUMsQ0FBQTtFQUFBLHlCQUFBQyxPQUFBO0VBQUEsSUFBQUMsQ0FBQSxPQUFBRCxPQUFBO0lBQUFFLENBQUEsT0FBQUYsT0FBQTtFQUFBLFFBQUFGLHdCQUFBLFlBQUFBLHlCQUFBQyxDQUFBO0lBQUEsT0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUE7RUFBQSxHQUFBRixDQUFBO0FBQUE7QUFBQSxTQUFBWix3QkFBQVksQ0FBQSxFQUFBRSxDQUFBO0VBQUEsS0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENB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