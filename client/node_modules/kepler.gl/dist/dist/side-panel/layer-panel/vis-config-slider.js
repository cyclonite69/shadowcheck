"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = VisConfigSliderFactory;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireWildcard(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/react"));
var _styledComponents = _interopRequireDefault(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/styled-components"));
var _styledComponents2 = require("../../common/styled-components");
var _rangeSlider = _interopRequireDefault(require("../../common/range-slider"));
var _localization = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/localization/src");
var _constants = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/constants/src");
var _ = require("../..");
var _utils = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/utils/src");
var _templateObject, _templateObject2, _templateObject3, _templateObject4; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
function _getRequireWildcardCache(e) {
  if ("function" != typeof WeakMap) return null;
  var r = new WeakMap(),
    t = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {
    return e ? t : r;
  })(e);
}
function _interopRequireWildcard(e, r) {
  if (!r && e && e.__esModule) return e;
  if (null === e || "object" != _typeof(e) && "function" != typeof e) return {
    "default": e
  };
  var t = _getRequireWildcardCache(r);
  if (t && t.has(e)) return t.get(e);
  var n = {
      __proto__: null
    },
    a = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) {
    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];
  }
  return n["default"] = e, t && t.set(e, n), n;
}
var InputWrapper = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  display: flex;\n  line-height: 12px;\n  margin-bottom: 12px;\n"])));
var CustomInputWrapper = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  display: flex;\n"])));
var CustomInputLabel = _styledComponents["default"].label(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n  color: ", ";\n  font-weight: 500;\n  letter-spacing: 0.2px;\n  font-size: ", ";\n  padding-right: 15px;\n\n  &:last-child {\n    position: absolute;\n    right: 0;\n    padding: 0;\n  }\n"])), function (props) {
  return props.theme.textColor;
}, function (props) {
  return props.theme.layerConfigGroupLabelLabelFontSize;
});
var RangeInput = _styledComponents["default"].input(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n  ", ";\n  font-size: ", ";\n  width: ", "px;\n  overflow: auto;\n  height: 20px;\n  margin-top: 5px;\n"])), function (props) {
  return props.theme.input;
}, function (props) {
  return props.theme.sliderInputFontSize;
}, function (props) {
  return props.theme.customRangeInputWidth;
});
var LazyInput = function LazyInput(_ref) {
  var value = _ref.value,
    onChange = _ref.onChange,
    name = _ref.name;
  var _useState = (0, _react.useState)(value),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    stateValue = _useState2[0],
    setValue = _useState2[1];
  var inputRef = (0, _react.useRef)(null);
  (0, _react.useEffect)(function () {
    setValue(value);
  }, [value]);
  var onKeyDown = (0, _react.useCallback)(function (e) {
    switch (e.keyCode) {
      case _constants.KeyEvent.DOM_VK_ENTER:
      case _constants.KeyEvent.DOM_VK_RETURN:
        onChange(name, stateValue);
        if (inputRef !== null) {
          // @ts-ignore
          inputRef === null || inputRef === void 0 || inputRef.current.blur();
        }
        break;
      default:
        break;
    }
  }, [onChange, name, stateValue]);
  var _onChange = (0, _react.useCallback)(function (e) {
    return setValue(e.target.value);
  }, [setValue]);
  var onBlur = (0, _react.useCallback)(function () {
    return onChange(name, stateValue);
  }, [onChange, name, stateValue]);
  return /*#__PURE__*/_react["default"].createElement(RangeInput, {
    type: "number",
    ref: inputRef,
    value: stateValue,
    onChange: _onChange,
    onBlur: onBlur,
    onKeyDown: onKeyDown,
    id: name
  });
};
var CustomInput = function CustomInput(_ref2) {
  var isRanged = _ref2.isRanged,
    value = _ref2.value,
    onChangeCustomInput = _ref2.onChangeCustomInput;
  var onChangeInput = (0, _react.useCallback)(function (name, v) {
    var prevValue = isRanged ? name === 'value1' ? value[0] : value[1] : value;
    var valueAsNumber = Number(v);
    var convertedValue = typeof prevValue === 'number' ? isNaN(valueAsNumber) ? prevValue : valueAsNumber : v;
    if (isRanged) onChangeCustomInput(name === 'value0' ? [convertedValue, value[1]] : [value[0], convertedValue]);else onChangeCustomInput(convertedValue);
  }, [isRanged, value, onChangeCustomInput]);
  return /*#__PURE__*/_react["default"].createElement(CustomInputWrapper, null, isRanged ? /*#__PURE__*/_react["default"].createElement(InputWrapper, null, /*#__PURE__*/_react["default"].createElement(CustomInputLabel, null, "min", /*#__PURE__*/_react["default"].createElement(LazyInput, {
    name: "value0",
    value: value[0],
    onChange: onChangeInput
  })), /*#__PURE__*/_react["default"].createElement(CustomInputLabel, null, "max", /*#__PURE__*/_react["default"].createElement(LazyInput, {
    name: "value1",
    value: value[1],
    onChange: onChangeInput
  }))) : /*#__PURE__*/_react["default"].createElement(InputWrapper, null, /*#__PURE__*/_react["default"].createElement(LazyInput, {
    name: "value",
    value: value,
    onChange: onChangeInput
  })));
};
VisConfigSliderFactory.deps = [_rangeSlider["default"]];
function VisConfigSliderFactory(RangeSlider) {
  var VisConfigSlider = function VisConfigSlider(_ref3) {
    var config = _ref3.layer.config,
      property = _ref3.property,
      label = _ref3.label,
      range = _ref3.range,
      step = _ref3.step,
      isRanged = _ref3.isRanged,
      allowCustomValue = _ref3.allowCustomValue,
      disabled = _ref3.disabled,
      _onChange4 = _ref3.onChange,
      inputTheme = _ref3.inputTheme;
    var value = config.visConfig[property];
    var _useState3 = (0, _react.useState)(false || !(0, _utils.isInRange)(value, range)),
      _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
      custom = _useState4[0],
      setCustom = _useState4[1];
    var onChangeCheckbox = (0, _react.useCallback)(function () {
      if (custom) {
        // we are swithcing from custom to not custom
        // adjust value to range
        var adjustedValue = isRanged ? [(0, _utils.clamp)(range, value[0]), (0, _utils.clamp)(range, value[1])] : (0, _utils.clamp)(range, value);
        _onChange4((0, _defineProperty2["default"])({}, property, adjustedValue));
      }
      setCustom(!custom);
    }, [_onChange4, property, isRanged, value, range, custom, setCustom]);
    return /*#__PURE__*/_react["default"].createElement(_styledComponents2.SidePanelSection, {
      disabled: Boolean(disabled)
    }, label ? /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabel, null, typeof label === 'string' ? /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: label
    }) : typeof label === 'function' ? /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: label(config)
    }) : /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: "property.".concat(property)
    })) : null, allowCustomValue ? /*#__PURE__*/_react["default"].createElement(InputWrapper, null, /*#__PURE__*/_react["default"].createElement(CustomInputLabel, null, "custom input"), /*#__PURE__*/_react["default"].createElement(_.Checkbox, {
      id: "property.".concat(property),
      checked: custom,
      onChange: onChangeCheckbox
    })) : null, !custom ? /*#__PURE__*/_react["default"].createElement(RangeSlider, {
      range: range,
      value0: isRanged ? value[0] : range[0],
      value1: isRanged ? value[1] : value,
      step: step,
      isRanged: Boolean(isRanged),
      onChange: function onChange(v) {
        return _onChange4((0, _defineProperty2["default"])({}, property, isRanged ? v : v[1]));
      },
      inputTheme: inputTheme,
      showInput: true
    }) : /*#__PURE__*/_react["default"].createElement(CustomInput, {
      isRanged: isRanged,
      value: value,
      onChangeCustomInput: function onChangeCustomInput(v) {
        return _onChange4((0, _defineProperty2["default"])({}, property, v));
      }
    }));
  };
  return VisConfigSlider;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfc3R5bGVkQ29tcG9uZW50cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfc3R5bGVkQ29tcG9uZW50czIiLCJfcmFuZ2VTbGlkZXIiLCJfbG9jYWxpemF0aW9uIiwiX2NvbnN0YW50cyIsIl8iLCJfdXRpbHMiLCJfdGVtcGxhdGVPYmplY3QiLCJfdGVtcGxhdGVPYmplY3QyIiwiX3RlbXBsYXRlT2JqZWN0MyIsIl90ZW1wbGF0ZU9iamVjdDQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJJbnB1dFdyYXBwZXIiLCJkaXYiLCJfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsMiIsIkN1c3RvbUlucHV0V3JhcHBlciIsIkN1c3RvbUlucHV0TGFiZWwiLCJsYWJlbCIsInByb3BzIiwidGhlbWUiLCJ0ZXh0Q29sb3IiLCJsYXllckNvbmZpZ0dyb3VwTGFiZWxMYWJlbEZvbnRTaXplIiwiUmFuZ2VJbnB1dCIsImlucHV0Iiwic2xpZGVySW5wdXRGb250U2l6ZSIsImN1c3RvbVJhbmdlSW5wdXRXaWR0aCIsIkxhenlJbnB1dCIsIl9yZWYiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwibmFtZSIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsInN0YXRlVmFsdWUiLCJzZXRWYWx1ZSIsImlucHV0UmVmIiwidXNlUmVmIiwidXNlRWZmZWN0Iiwib25LZXlEb3duIiwidXNlQ2FsbGJhY2siLCJrZXlDb2RlIiwiS2V5RXZlbnQiLCJET01fVktfRU5URVIiLCJET01fVktfUkVUVVJOIiwiY3VycmVudCIsImJsdXIiLCJfb25DaGFuZ2UiLCJ0YXJnZXQiLCJvbkJsdXIiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsInJlZiIsImlkIiwiQ3VzdG9tSW5wdXQiLCJfcmVmMiIsImlzUmFuZ2VkIiwib25DaGFuZ2VDdXN0b21JbnB1dCIsIm9uQ2hhbmdlSW5wdXQiLCJ2IiwicHJldlZhbHVlIiwidmFsdWVBc051bWJlciIsIk51bWJlciIsImNvbnZlcnRlZFZhbHVlIiwiaXNOYU4iLCJWaXNDb25maWdTbGlkZXJGYWN0b3J5IiwiZGVwcyIsIlJhbmdlU2xpZGVyIiwiVmlzQ29uZmlnU2xpZGVyIiwiX3JlZjMiLCJjb25maWciLCJsYXllciIsInByb3BlcnR5IiwicmFuZ2UiLCJzdGVwIiwiYWxsb3dDdXN0b21WYWx1ZSIsImRpc2FibGVkIiwiX29uQ2hhbmdlNCIsImlucHV0VGhlbWUiLCJ2aXNDb25maWciLCJfdXNlU3RhdGUzIiwiaXNJblJhbmdlIiwiX3VzZVN0YXRlNCIsImN1c3RvbSIsInNldEN1c3RvbSIsIm9uQ2hhbmdlQ2hlY2tib3giLCJhZGp1c3RlZFZhbHVlIiwiY2xhbXAiLCJfZGVmaW5lUHJvcGVydHkyIiwiU2lkZVBhbmVsU2VjdGlvbiIsIkJvb2xlYW4iLCJQYW5lbExhYmVsIiwiRm9ybWF0dGVkTWVzc2FnZSIsImNvbmNhdCIsIkNoZWNrYm94IiwiY2hlY2tlZCIsInZhbHVlMCIsInZhbHVlMSIsInNob3dJbnB1dCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zaWRlLXBhbmVsL2xheWVyLXBhbmVsL3Zpcy1jb25maWctc2xpZGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgY29udHJpYnV0b3JzIHRvIHRoZSBrZXBsZXIuZ2wgcHJvamVjdFxuXG5pbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcblxuaW1wb3J0IHtQYW5lbExhYmVsLCBTaWRlUGFuZWxTZWN0aW9ufSBmcm9tICcuLi8uLi9jb21tb24vc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IFJhbmdlU2xpZGVyRmFjdG9yeSBmcm9tICcuLi8uLi9jb21tb24vcmFuZ2Utc2xpZGVyJztcbmltcG9ydCB7Rm9ybWF0dGVkTWVzc2FnZX0gZnJvbSAnQGtlcGxlci5nbC9sb2NhbGl6YXRpb24nO1xuaW1wb3J0IHtLZXlFdmVudH0gZnJvbSAnQGtlcGxlci5nbC9jb25zdGFudHMnO1xuaW1wb3J0IHtDaGVja2JveH0gZnJvbSAnLi4vLi4nO1xuaW1wb3J0IHtMYXllciwgTGF5ZXJCYXNlQ29uZmlnfSBmcm9tICdAa2VwbGVyLmdsL2xheWVycyc7XG5pbXBvcnQge2lzSW5SYW5nZSwgY2xhbXB9IGZyb20gJ0BrZXBsZXIuZ2wvdXRpbHMnO1xuXG50eXBlIExhenlJbnB1dFByb3BzID0ge1xuICB2YWx1ZTogc3RyaW5nIHwgW3N0cmluZywgc3RyaW5nXTtcbiAgbmFtZTogc3RyaW5nO1xuICBvbkNoYW5nZTogKG46IHN0cmluZyB8IFtzdHJpbmcsIHN0cmluZ10sIHY/OiBzdHJpbmcgfCBbc3RyaW5nLCBzdHJpbmddKSA9PiB2b2lkO1xufTtcblxudHlwZSBDdXN0b21JbnB1dFByb3BzID0ge1xuICB2YWx1ZTogc3RyaW5nIHwgW3N0cmluZywgc3RyaW5nXTtcbiAgaXNSYW5nZWQ6IGJvb2xlYW47XG4gIG9uQ2hhbmdlQ3VzdG9tSW5wdXQ6ICh2OiBbc3RyaW5nLCBzdHJpbmddKSA9PiB2b2lkO1xufTtcblxudHlwZSBWaXNDb25maWdTbGlkZXJQcm9wcyA9IHtcbiAgbGF5ZXI6IExheWVyO1xuICBwcm9wZXJ0eTogc3RyaW5nO1xuICBvbkNoYW5nZTogKHY6IFJlY29yZDxzdHJpbmcsIG51bWJlciB8IHN0cmluZyB8IG51bWJlcltdIHwgc3RyaW5nW10+KSA9PiB2b2lkO1xuICBsYWJlbD86IHN0cmluZyB8ICgoYzogTGF5ZXJCYXNlQ29uZmlnKSA9PiBzdHJpbmcpO1xuICByYW5nZTogW251bWJlciwgbnVtYmVyXTtcbiAgc3RlcD86IG51bWJlcjtcbiAgaXNSYW5nZWQ6IGJvb2xlYW47XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgaW5wdXRUaGVtZT86IHN0cmluZztcbiAgYWxsb3dDdXN0b21WYWx1ZT86IGJvb2xlYW47XG59O1xuXG5jb25zdCBJbnB1dFdyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICBkaXNwbGF5OiBmbGV4O1xuICBsaW5lLWhlaWdodDogMTJweDtcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcbmA7XG5cbmNvbnN0IEN1c3RvbUlucHV0V3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG5gO1xuXG5jb25zdCBDdXN0b21JbnB1dExhYmVsID0gc3R5bGVkLmxhYmVsYFxuICBjb2xvcjogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS50ZXh0Q29sb3J9O1xuICBmb250LXdlaWdodDogNTAwO1xuICBsZXR0ZXItc3BhY2luZzogMC4ycHg7XG4gIGZvbnQtc2l6ZTogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS5sYXllckNvbmZpZ0dyb3VwTGFiZWxMYWJlbEZvbnRTaXplfTtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcblxuICAmOmxhc3QtY2hpbGQge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMDtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG5gO1xuXG5jb25zdCBSYW5nZUlucHV0ID0gc3R5bGVkLmlucHV0YFxuICAke3Byb3BzID0+IHByb3BzLnRoZW1lLmlucHV0fTtcbiAgZm9udC1zaXplOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLnNsaWRlcklucHV0Rm9udFNpemV9O1xuICB3aWR0aDogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS5jdXN0b21SYW5nZUlucHV0V2lkdGh9cHg7XG4gIG92ZXJmbG93OiBhdXRvO1xuICBoZWlnaHQ6IDIwcHg7XG4gIG1hcmdpbi10b3A6IDVweDtcbmA7XG5cbmNvbnN0IExhenlJbnB1dDogUmVhY3QuRkM8TGF6eUlucHV0UHJvcHM+ID0gKHt2YWx1ZSwgb25DaGFuZ2UsIG5hbWV9KSA9PiB7XG4gIGNvbnN0IFtzdGF0ZVZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSk7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFZhbHVlKHZhbHVlKTtcbiAgfSwgW3ZhbHVlXSk7XG5cbiAgY29uc3Qgb25LZXlEb3duID0gdXNlQ2FsbGJhY2soXG4gICAgZSA9PiB7XG4gICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICBjYXNlIEtleUV2ZW50LkRPTV9WS19FTlRFUjpcbiAgICAgICAgY2FzZSBLZXlFdmVudC5ET01fVktfUkVUVVJOOlxuICAgICAgICAgIG9uQ2hhbmdlKG5hbWUsIHN0YXRlVmFsdWUpO1xuICAgICAgICAgIGlmIChpbnB1dFJlZiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgaW5wdXRSZWY/LmN1cnJlbnQuYmx1cigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LFxuICAgIFtvbkNoYW5nZSwgbmFtZSwgc3RhdGVWYWx1ZV1cbiAgKTtcblxuICBjb25zdCBfb25DaGFuZ2UgPSB1c2VDYWxsYmFjayhlID0+IHNldFZhbHVlKGUudGFyZ2V0LnZhbHVlKSwgW3NldFZhbHVlXSk7XG4gIGNvbnN0IG9uQmx1ciA9IHVzZUNhbGxiYWNrKCgpID0+IG9uQ2hhbmdlKG5hbWUsIHN0YXRlVmFsdWUpLCBbb25DaGFuZ2UsIG5hbWUsIHN0YXRlVmFsdWVdKTtcblxuICByZXR1cm4gKFxuICAgIDxSYW5nZUlucHV0XG4gICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICB2YWx1ZT17c3RhdGVWYWx1ZX1cbiAgICAgIG9uQ2hhbmdlPXtfb25DaGFuZ2V9XG4gICAgICBvbkJsdXI9e29uQmx1cn1cbiAgICAgIG9uS2V5RG93bj17b25LZXlEb3dufVxuICAgICAgaWQ9e25hbWV9XG4gICAgLz5cbiAgKTtcbn07XG5cbmNvbnN0IEN1c3RvbUlucHV0OiBSZWFjdC5GQzxDdXN0b21JbnB1dFByb3BzPiA9ICh7aXNSYW5nZWQsIHZhbHVlLCBvbkNoYW5nZUN1c3RvbUlucHV0fSkgPT4ge1xuICBjb25zdCBvbkNoYW5nZUlucHV0ID0gdXNlQ2FsbGJhY2soXG4gICAgKG5hbWUsIHYpID0+IHtcbiAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IGlzUmFuZ2VkID8gKG5hbWUgPT09ICd2YWx1ZTEnID8gdmFsdWVbMF0gOiB2YWx1ZVsxXSkgOiB2YWx1ZTtcbiAgICAgIGNvbnN0IHZhbHVlQXNOdW1iZXIgPSBOdW1iZXIodik7XG4gICAgICBjb25zdCBjb252ZXJ0ZWRWYWx1ZSA9XG4gICAgICAgIHR5cGVvZiBwcmV2VmFsdWUgPT09ICdudW1iZXInID8gKGlzTmFOKHZhbHVlQXNOdW1iZXIpID8gcHJldlZhbHVlIDogdmFsdWVBc051bWJlcikgOiB2O1xuICAgICAgaWYgKGlzUmFuZ2VkKVxuICAgICAgICBvbkNoYW5nZUN1c3RvbUlucHV0KFxuICAgICAgICAgIG5hbWUgPT09ICd2YWx1ZTAnID8gW2NvbnZlcnRlZFZhbHVlLCB2YWx1ZVsxXV0gOiBbdmFsdWVbMF0sIGNvbnZlcnRlZFZhbHVlXVxuICAgICAgICApO1xuICAgICAgZWxzZSBvbkNoYW5nZUN1c3RvbUlucHV0KGNvbnZlcnRlZFZhbHVlKTtcbiAgICB9LFxuICAgIFtpc1JhbmdlZCwgdmFsdWUsIG9uQ2hhbmdlQ3VzdG9tSW5wdXRdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8Q3VzdG9tSW5wdXRXcmFwcGVyPlxuICAgICAge2lzUmFuZ2VkID8gKFxuICAgICAgICA8SW5wdXRXcmFwcGVyPlxuICAgICAgICAgIDxDdXN0b21JbnB1dExhYmVsPlxuICAgICAgICAgICAgbWluXG4gICAgICAgICAgICA8TGF6eUlucHV0IG5hbWU9XCJ2YWx1ZTBcIiB2YWx1ZT17dmFsdWVbMF19IG9uQ2hhbmdlPXtvbkNoYW5nZUlucHV0fSAvPlxuICAgICAgICAgIDwvQ3VzdG9tSW5wdXRMYWJlbD5cbiAgICAgICAgICA8Q3VzdG9tSW5wdXRMYWJlbD5cbiAgICAgICAgICAgIG1heFxuICAgICAgICAgICAgPExhenlJbnB1dCBuYW1lPVwidmFsdWUxXCIgdmFsdWU9e3ZhbHVlWzFdfSBvbkNoYW5nZT17b25DaGFuZ2VJbnB1dH0gLz5cbiAgICAgICAgICA8L0N1c3RvbUlucHV0TGFiZWw+XG4gICAgICAgIDwvSW5wdXRXcmFwcGVyPlxuICAgICAgKSA6IChcbiAgICAgICAgPElucHV0V3JhcHBlcj5cbiAgICAgICAgICA8TGF6eUlucHV0IG5hbWU9XCJ2YWx1ZVwiIHZhbHVlPXt2YWx1ZX0gb25DaGFuZ2U9e29uQ2hhbmdlSW5wdXR9IC8+XG4gICAgICAgIDwvSW5wdXRXcmFwcGVyPlxuICAgICAgKX1cbiAgICA8L0N1c3RvbUlucHV0V3JhcHBlcj5cbiAgKTtcbn07XG5cblZpc0NvbmZpZ1NsaWRlckZhY3RvcnkuZGVwcyA9IFtSYW5nZVNsaWRlckZhY3RvcnldO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBWaXNDb25maWdTbGlkZXJGYWN0b3J5KFJhbmdlU2xpZGVyOiBSZXR1cm5UeXBlPHR5cGVvZiBSYW5nZVNsaWRlckZhY3Rvcnk+KSB7XG4gIGNvbnN0IFZpc0NvbmZpZ1NsaWRlcjogUmVhY3QuRkM8VmlzQ29uZmlnU2xpZGVyUHJvcHM+ID0gKHtcbiAgICBsYXllcjoge2NvbmZpZ30sXG4gICAgcHJvcGVydHksXG4gICAgbGFiZWwsXG4gICAgcmFuZ2UsXG4gICAgc3RlcCxcbiAgICBpc1JhbmdlZCxcbiAgICBhbGxvd0N1c3RvbVZhbHVlLFxuICAgIGRpc2FibGVkLFxuICAgIG9uQ2hhbmdlLFxuICAgIGlucHV0VGhlbWVcbiAgfSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gY29uZmlnLnZpc0NvbmZpZ1twcm9wZXJ0eV07XG4gICAgY29uc3QgW2N1c3RvbSwgc2V0Q3VzdG9tXSA9IHVzZVN0YXRlKGZhbHNlIHx8ICFpc0luUmFuZ2UodmFsdWUsIHJhbmdlKSk7XG5cbiAgICBjb25zdCBvbkNoYW5nZUNoZWNrYm94ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgaWYgKGN1c3RvbSkge1xuICAgICAgICAvLyB3ZSBhcmUgc3dpdGhjaW5nIGZyb20gY3VzdG9tIHRvIG5vdCBjdXN0b21cbiAgICAgICAgLy8gYWRqdXN0IHZhbHVlIHRvIHJhbmdlXG4gICAgICAgIGNvbnN0IGFkanVzdGVkVmFsdWUgPSBpc1JhbmdlZFxuICAgICAgICAgID8gW2NsYW1wKHJhbmdlLCB2YWx1ZVswXSksIGNsYW1wKHJhbmdlLCB2YWx1ZVsxXSldXG4gICAgICAgICAgOiBjbGFtcChyYW5nZSwgdmFsdWUpO1xuICAgICAgICBvbkNoYW5nZSh7W3Byb3BlcnR5XTogYWRqdXN0ZWRWYWx1ZX0pO1xuICAgICAgfVxuICAgICAgc2V0Q3VzdG9tKCFjdXN0b20pO1xuICAgIH0sIFtvbkNoYW5nZSwgcHJvcGVydHksIGlzUmFuZ2VkLCB2YWx1ZSwgcmFuZ2UsIGN1c3RvbSwgc2V0Q3VzdG9tXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFNpZGVQYW5lbFNlY3Rpb24gZGlzYWJsZWQ9e0Jvb2xlYW4oZGlzYWJsZWQpfT5cbiAgICAgICAge2xhYmVsID8gKFxuICAgICAgICAgIDxQYW5lbExhYmVsPlxuICAgICAgICAgICAge3R5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycgPyAoXG4gICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPXtsYWJlbH0gLz5cbiAgICAgICAgICAgICkgOiB0eXBlb2YgbGFiZWwgPT09ICdmdW5jdGlvbicgPyAoXG4gICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPXtsYWJlbChjb25maWcpfSAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9e2Bwcm9wZXJ0eS4ke3Byb3BlcnR5fWB9IC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvUGFuZWxMYWJlbD5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge2FsbG93Q3VzdG9tVmFsdWUgPyAoXG4gICAgICAgICAgPElucHV0V3JhcHBlcj5cbiAgICAgICAgICAgIDxDdXN0b21JbnB1dExhYmVsPmN1c3RvbSBpbnB1dDwvQ3VzdG9tSW5wdXRMYWJlbD5cbiAgICAgICAgICAgIDxDaGVja2JveCBpZD17YHByb3BlcnR5LiR7cHJvcGVydHl9YH0gY2hlY2tlZD17Y3VzdG9tfSBvbkNoYW5nZT17b25DaGFuZ2VDaGVja2JveH0gLz5cbiAgICAgICAgICA8L0lucHV0V3JhcHBlcj5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAgeyFjdXN0b20gPyAoXG4gICAgICAgICAgPFJhbmdlU2xpZGVyXG4gICAgICAgICAgICByYW5nZT17cmFuZ2V9XG4gICAgICAgICAgICB2YWx1ZTA9e2lzUmFuZ2VkID8gdmFsdWVbMF0gOiByYW5nZVswXX1cbiAgICAgICAgICAgIHZhbHVlMT17aXNSYW5nZWQgPyB2YWx1ZVsxXSA6IHZhbHVlfVxuICAgICAgICAgICAgc3RlcD17c3RlcH1cbiAgICAgICAgICAgIGlzUmFuZ2VkPXtCb29sZWFuKGlzUmFuZ2VkKX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IG9uQ2hhbmdlKHtbcHJvcGVydHldOiBpc1JhbmdlZCA/IHYgOiB2WzFdfSl9XG4gICAgICAgICAgICBpbnB1dFRoZW1lPXtpbnB1dFRoZW1lfVxuICAgICAgICAgICAgc2hvd0lucHV0XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8Q3VzdG9tSW5wdXRcbiAgICAgICAgICAgIGlzUmFuZ2VkPXtpc1JhbmdlZH1cbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlQ3VzdG9tSW5wdXQ9e3YgPT4gb25DaGFuZ2Uoe1twcm9wZXJ0eV06IHZ9KX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9TaWRlUGFuZWxTZWN0aW9uPlxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFZpc0NvbmZpZ1NsaWRlcjtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFHQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxpQkFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBRUEsSUFBQUcsa0JBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLFlBQUEsR0FBQUYsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFLLGFBQUEsR0FBQUwsT0FBQTtBQUNBLElBQUFNLFVBQUEsR0FBQU4sT0FBQTtBQUNBLElBQUFPLENBQUEsR0FBQVAsT0FBQTtBQUVBLElBQUFRLE1BQUEsR0FBQVIsT0FBQTtBQUFrRCxJQUFBUyxlQUFBLEVBQUFDLGdCQUFBLEVBQUFDLGdCQUFBLEVBQUFDLGdCQUFBLEVBWmxEO0FBQ0E7QUFBQSxTQUFBQyx5QkFBQUMsQ0FBQTtFQUFBLHlCQUFBQyxPQUFBO0VBQUEsSUFBQUMsQ0FBQSxPQUFBRCxPQUFBO0lBQUFFLENBQUEsT0FBQUYsT0FBQTtFQUFBLFFBQUFGLHdCQUFBLFlBQUFBLHlCQUFBQyxDQUFBO0lBQUEsT0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUE7RUFBQSxHQUFBRixDQUFBO0FBQUE7QUFBQSxTQUFBZix3QkFBQWUsQ0FBQSxFQUFBRSxDQUFBO0VBQUEsS0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBO0VBQUEsYUFBQUEsQ0FBQSxnQkFBQUssT0FBQSxDQUFBTCxDQUFBLDBCQUFBQSxDQUFBO0lBQUEsV0FBQUE7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