"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireWildcard(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/react"));
var _styledComponents = _interopRequireDefault(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/styled-components"));
var _constants = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/constants/src");
var _layerConfigurator = _interopRequireDefault(require("./layer-configurator"));
var _layerPanelHeader = _interopRequireDefault(require("./layer-panel-header"));
var _templateObject; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
function _getRequireWildcardCache(e) {
  if ("function" != typeof WeakMap) return null;
  var r = new WeakMap(),
    t = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {
    return e ? t : r;
  })(e);
}
function _interopRequireWildcard(e, r) {
  if (!r && e && e.__esModule) return e;
  if (null === e || "object" != _typeof(e) && "function" != typeof e) return {
    "default": e
  };
  var t = _getRequireWildcardCache(r);
  if (t && t.has(e)) return t.get(e);
  var n = {
      __proto__: null
    },
    a = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) {
    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];
  }
  return n["default"] = e, t && t.set(e, n), n;
}
function _callSuper(t, o, e) {
  return o = (0, _getPrototypeOf2["default"])(o), (0, _possibleConstructorReturn2["default"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2["default"])(t).constructor) : o.apply(t, e));
}
function _isNativeReflectConstruct() {
  try {
    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch (t) {}
  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {
    return !!t;
  })();
}
var PanelWrapper = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  font-size: 12px;\n  border-radius: 1px;\n  z-index: 1000;\n  &.dragging {\n    cursor: move;\n  }\n"])));
LayerPanelFactory.deps = [_layerConfigurator["default"], _layerPanelHeader["default"]];
function LayerPanelFactory(LayerConfigurator, LayerPanelHeader) {
  var LayerPanel = /*#__PURE__*/function (_Component) {
    function LayerPanel() {
      var _this;
      (0, _classCallCheck2["default"])(this, LayerPanel);
      for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
        _args[_key] = arguments[_key];
      }
      _this = _callSuper(this, LayerPanel, [].concat(_args));
      (0, _defineProperty2["default"])(_this, "updateLayerConfig", function (newProp) {
        _this.props.layerConfigChange(_this.props.layer, newProp);
      });
      (0, _defineProperty2["default"])(_this, "updateLayerType", function (newType) {
        _this.props.layerTypeChange(_this.props.layer, newType);
      });
      (0, _defineProperty2["default"])(_this, "updateLayerVisConfig", function (newVisConfig) {
        _this.props.layerVisConfigChange(_this.props.layer, newVisConfig);
      });
      (0, _defineProperty2["default"])(_this, "updateLayerColorUI", function () {
        var _this$props;
        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          args[_key2] = arguments[_key2];
        }
        (_this$props = _this.props).layerColorUIChange.apply(_this$props, [_this.props.layer].concat(args));
      });
      (0, _defineProperty2["default"])(_this, "updateLayerTextLabel", function () {
        var _this$props2;
        for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
          args[_key3] = arguments[_key3];
        }
        (_this$props2 = _this.props).layerTextLabelChange.apply(_this$props2, [_this.props.layer].concat(args));
      });
      (0, _defineProperty2["default"])(_this, "updateLayerVisualChannelConfig", function (newConfig, channel, newVisConfig) {
        _this.props.layerVisualChannelConfigChange(_this.props.layer, newConfig, channel, newVisConfig);
      });
      (0, _defineProperty2["default"])(_this, "_updateLayerLabel", function (_ref) {
        var value = _ref.target.value;
        _this.updateLayerConfig({
          label: value
        });
      });
      (0, _defineProperty2["default"])(_this, "_toggleVisibility", function (e) {
        e.stopPropagation();
        var isVisible = !_this.props.layer.config.isVisible;
        _this.props.layerToggleVisibility(_this.props.layer.id, isVisible);
      });
      (0, _defineProperty2["default"])(_this, "_resetIsValid", function (e) {
        e === null || e === void 0 || e.stopPropagation();
        // Make the layer valid and visible again after an error
        _this.props.layerSetIsValid(_this.props.layer, true);
      });
      (0, _defineProperty2["default"])(_this, "_toggleEnableConfig", function (e) {
        e === null || e === void 0 || e.stopPropagation();
        var isConfigActive = _this.props.layer.config.isConfigActive;
        _this.updateLayerConfig({
          isConfigActive: !isConfigActive
        });
      });
      (0, _defineProperty2["default"])(_this, "_removeLayer", function (e) {
        e === null || e === void 0 || e.stopPropagation();
        _this.props.removeLayer(_this.props.layer.id);
      });
      (0, _defineProperty2["default"])(_this, "_zoomToLayer", function (e) {
        var _this$props$layer;
        e === null || e === void 0 || e.stopPropagation();
        var bounds = (_this$props$layer = _this.props.layer) === null || _this$props$layer === void 0 || (_this$props$layer = _this$props$layer.meta) === null || _this$props$layer === void 0 ? void 0 : _this$props$layer.bounds;
        bounds && _this.props.zoomToLayer(bounds);
      });
      (0, _defineProperty2["default"])(_this, "_duplicateLayer", function (e) {
        e === null || e === void 0 || e.stopPropagation();
        _this.props.duplicateLayer(_this.props.layer.id);
      });
      return _this;
    }
    (0, _inherits2["default"])(LayerPanel, _Component);
    return (0, _createClass2["default"])(LayerPanel, [{
      key: "render",
      value: function render() {
        var _splitMap$layers;
        var _this$props3 = this.props,
          layer = _this$props3.layer,
          datasets = _this$props3.datasets,
          isDraggable = _this$props3.isDraggable,
          layerTypeOptions = _this$props3.layerTypeOptions,
          listeners = _this$props3.listeners,
          splitMap = _this$props3.splitMap;
        var config = layer.config,
          isValid = layer.isValid;
        var isConfigActive = config.isConfigActive;
        var allowDuplicate = typeof layer.isValidToSave === 'function' && layer.isValidToSave() && isValid;
        var layerVisInSplitMap = splitMap === null || splitMap === void 0 || (_splitMap$layers = splitMap.layers) === null || _splitMap$layers === void 0 ? void 0 : _splitMap$layers[layer.id];
        return /*#__PURE__*/_react["default"].createElement(PanelWrapper, {
          className: "layer-panel ".concat(this.props.className),
          "data-testid": _constants.dataTestIds.layerPanel,
          style: this.props.style,
          onMouseDown: this.props.onMouseDown,
          onTouchStart: this.props.onTouchStart
        }, /*#__PURE__*/_react["default"].createElement(LayerPanelHeader, {
          isConfigActive: isConfigActive,
          layerId: layer.id,
          isVisible: layerVisInSplitMap !== null && layerVisInSplitMap !== void 0 ? layerVisInSplitMap : config.isVisible,
          isValid: isValid,
          label: config.label,
          labelRCGColorValues: config.dataId ? datasets[config.dataId].color : null,
          layerType: layer.type,
          allowDuplicate: allowDuplicate,
          onToggleEnableConfig: this._toggleEnableConfig,
          onToggleVisibility: this._toggleVisibility,
          onResetIsValid: this._resetIsValid,
          onUpdateLayerLabel: this._updateLayerLabel,
          onRemoveLayer: this._removeLayer,
          onZoomToLayer: this._zoomToLayer,
          onDuplicateLayer: this._duplicateLayer,
          isDragNDropEnabled: isDraggable,
          listeners: listeners
        }), isConfigActive && /*#__PURE__*/_react["default"].createElement(LayerConfigurator, {
          layer: layer,
          datasets: datasets,
          layerTypeOptions: layerTypeOptions,
          openModal: this.props.openModal,
          updateLayerColorUI: this.updateLayerColorUI,
          updateLayerConfig: this.updateLayerConfig,
          updateLayerVisualChannelConfig: this.updateLayerVisualChannelConfig,
          updateLayerType: this.updateLayerType,
          updateLayerTextLabel: this.updateLayerTextLabel,
          updateLayerVisConfig: this.updateLayerVisConfig
        }));
      }
    }]);
  }(_react.Component);
  return LayerPanel;
}
var _default = exports["default"] = LayerPanelFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfc3R5bGVkQ29tcG9uZW50cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfY29uc3RhbnRzIiwiX2xheWVyQ29uZmlndXJhdG9yIiwiX2xheWVyUGFuZWxIZWFkZXIiLCJfdGVtcGxhdGVPYmplY3QiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJfY2FsbFN1cGVyIiwibyIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImNvbnN0cnVjdG9yIiwiYXBwbHkiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsIlBhbmVsV3JhcHBlciIsImRpdiIsIl90YWdnZWRUZW1wbGF0ZUxpdGVyYWwyIiwiTGF5ZXJQYW5lbEZhY3RvcnkiLCJkZXBzIiwiTGF5ZXJDb25maWd1cmF0b3IiLCJMYXllclBhbmVsSGVhZGVyIiwiTGF5ZXJQYW5lbCIsIl9Db21wb25lbnQiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiX2FyZ3MiLCJBcnJheSIsIl9rZXkiLCJjb25jYXQiLCJfZGVmaW5lUHJvcGVydHkyIiwibmV3UHJvcCIsInByb3BzIiwibGF5ZXJDb25maWdDaGFuZ2UiLCJsYXllciIsIm5ld1R5cGUiLCJsYXllclR5cGVDaGFuZ2UiLCJuZXdWaXNDb25maWciLCJsYXllclZpc0NvbmZpZ0NoYW5nZSIsIl90aGlzJHByb3BzIiwiX2xlbjIiLCJhcmdzIiwiX2tleTIiLCJsYXllckNvbG9yVUlDaGFuZ2UiLCJfdGhpcyRwcm9wczIiLCJfbGVuMyIsIl9rZXkzIiwibGF5ZXJUZXh0TGFiZWxDaGFuZ2UiLCJuZXdDb25maWciLCJjaGFubmVsIiwibGF5ZXJWaXN1YWxDaGFubmVsQ29uZmlnQ2hhbmdlIiwiX3JlZiIsInZhbHVlIiwidGFyZ2V0IiwidXBkYXRlTGF5ZXJDb25maWciLCJsYWJlbCIsInN0b3BQcm9wYWdhdGlvbiIsImlzVmlzaWJsZSIsImNvbmZpZyIsImxheWVyVG9nZ2xlVmlzaWJpbGl0eSIsImlkIiwibGF5ZXJTZXRJc1ZhbGlkIiwiaXNDb25maWdBY3RpdmUiLCJyZW1vdmVMYXllciIsIl90aGlzJHByb3BzJGxheWVyIiwiYm91bmRzIiwibWV0YSIsInpvb21Ub0xheWVyIiwiZHVwbGljYXRlTGF5ZXIiLCJfaW5oZXJpdHMyIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInJlbmRlciIsIl9zcGxpdE1hcCRsYXllcnMiLCJfdGhpcyRwcm9wczMiLCJkYXRhc2V0cyIsImlzRHJhZ2dhYmxlIiwibGF5ZXJUeXBlT3B0aW9ucyIsImxpc3RlbmVycyIsInNwbGl0TWFwIiwiaXNWYWxpZCIsImFsbG93RHVwbGljYXRlIiwiaXNWYWxpZFRvU2F2ZSIsImxheWVyVmlzSW5TcGxpdE1hcCIsImxheWVycyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJkYXRhVGVzdElkcyIsImxheWVyUGFuZWwiLCJzdHlsZSIsIm9uTW91c2VEb3duIiwib25Ub3VjaFN0YXJ0IiwibGF5ZXJJZCIsImxhYmVsUkNHQ29sb3JWYWx1ZXMiLCJkYXRhSWQiLCJjb2xvciIsImxheWVyVHlwZSIsInR5cGUiLCJvblRvZ2dsZUVuYWJsZUNvbmZpZyIsIl90b2dnbGVFbmFibGVDb25maWciLCJvblRvZ2dsZVZpc2liaWxpdHkiLCJfdG9nZ2xlVmlzaWJpbGl0eSIsIm9uUmVzZXRJc1ZhbGlkIiwiX3Jlc2V0SXNWYWxpZCIsIm9uVXBkYXRlTGF5ZXJMYWJlbCIsIl91cGRhdGVMYXllckxhYmVsIiwib25SZW1vdmVMYXllciIsIl9yZW1vdmVMYXllciIsIm9uWm9vbVRvTGF5ZXIiLCJfem9vbVRvTGF5ZXIiLCJvbkR1cGxpY2F0ZUxheWVyIiwiX2R1cGxpY2F0ZUxheWVyIiwiaXNEcmFnTkRyb3BFbmFibGVkIiwib3Blbk1vZGFsIiwidXBkYXRlTGF5ZXJDb2xvclVJIiwidXBkYXRlTGF5ZXJWaXN1YWxDaGFubmVsQ29uZmlnIiwidXBkYXRlTGF5ZXJUeXBlIiwidXBkYXRlTGF5ZXJUZXh0TGFiZWwiLCJ1cGRhdGVMYXllclZpc0NvbmZpZyIsIkNvbXBvbmVudCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zaWRlLXBhbmVsL2xheWVyLXBhbmVsL2xheWVyLXBhbmVsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgY29udHJpYnV0b3JzIHRvIHRoZSBrZXBsZXIuZ2wgcHJvamVjdFxuXG5pbXBvcnQgUmVhY3QsIHtcbiAgQ1NTUHJvcGVydGllcyxcbiAgQ2hhbmdlRXZlbnRIYW5kbGVyLFxuICBDb21wb25lbnQsXG4gIE1vdXNlRXZlbnRIYW5kbGVyLFxuICBUb3VjaEV2ZW50SGFuZGxlclxufSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcblxuaW1wb3J0IHtBY3Rpb25IYW5kbGVyLCBNYXBTdGF0ZUFjdGlvbnMsIFZpc1N0YXRlQWN0aW9ucywgdG9nZ2xlTW9kYWx9IGZyb20gJ0BrZXBsZXIuZ2wvYWN0aW9ucyc7XG5pbXBvcnQge2RhdGFUZXN0SWRzfSBmcm9tICdAa2VwbGVyLmdsL2NvbnN0YW50cyc7XG5pbXBvcnQge0xheWVyLCBMYXllckJhc2VDb25maWd9IGZyb20gJ0BrZXBsZXIuZ2wvbGF5ZXJzJztcbmltcG9ydCB7RGF0YXNldHN9IGZyb20gJ0BrZXBsZXIuZ2wvdGFibGUnO1xuaW1wb3J0IHtDb2xvclVJLCBMYXllclZpc0NvbmZpZywgTmVzdGVkUGFydGlhbCwgU3BsaXRNYXB9IGZyb20gJ0BrZXBsZXIuZ2wvdHlwZXMnO1xuaW1wb3J0IExheWVyQ29uZmlndXJhdG9yRmFjdG9yeSBmcm9tICcuL2xheWVyLWNvbmZpZ3VyYXRvcic7XG5pbXBvcnQgTGF5ZXJQYW5lbEhlYWRlckZhY3RvcnkgZnJvbSAnLi9sYXllci1wYW5lbC1oZWFkZXInO1xuXG50eXBlIExheWVyUGFuZWxQcm9wcyA9IHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBzdHlsZT86IENTU1Byb3BlcnRpZXM7XG4gIG9uTW91c2VEb3duPzogTW91c2VFdmVudEhhbmRsZXI7XG4gIG9uVG91Y2hTdGFydD86IFRvdWNoRXZlbnRIYW5kbGVyO1xuICBsYXllcjogTGF5ZXI7XG4gIGRhdGFzZXRzOiBEYXRhc2V0cztcbiAgbGF5ZXJUeXBlT3B0aW9uczoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBpY29uOiBhbnk7IC8vXG4gICAgcmVxdWlyZURhdGE6IGFueTsgLy9cbiAgfVtdO1xuICBpc0RyYWdnYWJsZT86IGJvb2xlYW47XG4gIGlkeDogbnVtYmVyO1xuICBvcGVuTW9kYWw6IEFjdGlvbkhhbmRsZXI8dHlwZW9mIHRvZ2dsZU1vZGFsPjtcbiAgbGF5ZXJDb2xvclVJQ2hhbmdlOiBBY3Rpb25IYW5kbGVyPHR5cGVvZiBWaXNTdGF0ZUFjdGlvbnMubGF5ZXJDb2xvclVJQ2hhbmdlPjtcbiAgbGF5ZXJDb25maWdDaGFuZ2U6IEFjdGlvbkhhbmRsZXI8dHlwZW9mIFZpc1N0YXRlQWN0aW9ucy5sYXllckNvbmZpZ0NoYW5nZT47XG4gIGxheWVyVmlzdWFsQ2hhbm5lbENvbmZpZ0NoYW5nZTogQWN0aW9uSGFuZGxlcjxcbiAgICB0eXBlb2YgVmlzU3RhdGVBY3Rpb25zLmxheWVyVmlzdWFsQ2hhbm5lbENvbmZpZ0NoYW5nZVxuICA+O1xuICBsYXllclNldElzVmFsaWQ6IEFjdGlvbkhhbmRsZXI8dHlwZW9mIFZpc1N0YXRlQWN0aW9ucy5sYXllclNldElzVmFsaWQ+O1xuICBsYXllclR5cGVDaGFuZ2U6IEFjdGlvbkhhbmRsZXI8dHlwZW9mIFZpc1N0YXRlQWN0aW9ucy5sYXllclR5cGVDaGFuZ2U+O1xuICBsYXllclZpc0NvbmZpZ0NoYW5nZTogQWN0aW9uSGFuZGxlcjx0eXBlb2YgVmlzU3RhdGVBY3Rpb25zLmxheWVyVmlzQ29uZmlnQ2hhbmdlPjtcbiAgbGF5ZXJUZXh0TGFiZWxDaGFuZ2U6IEFjdGlvbkhhbmRsZXI8dHlwZW9mIFZpc1N0YXRlQWN0aW9ucy5sYXllclRleHRMYWJlbENoYW5nZT47XG4gIHJlbW92ZUxheWVyOiBBY3Rpb25IYW5kbGVyPHR5cGVvZiBWaXNTdGF0ZUFjdGlvbnMucmVtb3ZlTGF5ZXI+O1xuICB6b29tVG9MYXllcjogQWN0aW9uSGFuZGxlcjx0eXBlb2YgTWFwU3RhdGVBY3Rpb25zLmZpdEJvdW5kcz47XG4gIGR1cGxpY2F0ZUxheWVyOiBBY3Rpb25IYW5kbGVyPHR5cGVvZiBWaXNTdGF0ZUFjdGlvbnMuZHVwbGljYXRlTGF5ZXI+O1xuICBsaXN0ZW5lcnM/OiBSZWFjdC5FbGVtZW50VHlwZTtcbiAgbGF5ZXJUb2dnbGVWaXNpYmlsaXR5OiBBY3Rpb25IYW5kbGVyPHR5cGVvZiBWaXNTdGF0ZUFjdGlvbnMubGF5ZXJUb2dnbGVWaXNpYmlsaXR5PjtcbiAgc3BsaXRNYXA/OiBTcGxpdE1hcDtcbn07XG5cbmNvbnN0IFBhbmVsV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgYm9yZGVyLXJhZGl1czogMXB4O1xuICB6LWluZGV4OiAxMDAwO1xuICAmLmRyYWdnaW5nIHtcbiAgICBjdXJzb3I6IG1vdmU7XG4gIH1cbmA7XG5cbkxheWVyUGFuZWxGYWN0b3J5LmRlcHMgPSBbTGF5ZXJDb25maWd1cmF0b3JGYWN0b3J5LCBMYXllclBhbmVsSGVhZGVyRmFjdG9yeV07XG5cbmZ1bmN0aW9uIExheWVyUGFuZWxGYWN0b3J5KFxuICBMYXllckNvbmZpZ3VyYXRvcjogUmV0dXJuVHlwZTx0eXBlb2YgTGF5ZXJDb25maWd1cmF0b3JGYWN0b3J5PixcbiAgTGF5ZXJQYW5lbEhlYWRlcjogUmV0dXJuVHlwZTx0eXBlb2YgTGF5ZXJQYW5lbEhlYWRlckZhY3Rvcnk+XG4pOiBSZWFjdC5Db21wb25lbnRUeXBlPExheWVyUGFuZWxQcm9wcz4ge1xuICBjbGFzcyBMYXllclBhbmVsIGV4dGVuZHMgQ29tcG9uZW50PExheWVyUGFuZWxQcm9wcz4ge1xuICAgIHVwZGF0ZUxheWVyQ29uZmlnID0gKG5ld1Byb3A6IFBhcnRpYWw8TGF5ZXJCYXNlQ29uZmlnPikgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5sYXllckNvbmZpZ0NoYW5nZSh0aGlzLnByb3BzLmxheWVyLCBuZXdQcm9wKTtcbiAgICB9O1xuXG4gICAgdXBkYXRlTGF5ZXJUeXBlID0gKG5ld1R5cGU6IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5sYXllclR5cGVDaGFuZ2UodGhpcy5wcm9wcy5sYXllciwgbmV3VHlwZSk7XG4gICAgfTtcblxuICAgIHVwZGF0ZUxheWVyVmlzQ29uZmlnID0gKG5ld1Zpc0NvbmZpZzogUGFydGlhbDxMYXllclZpc0NvbmZpZz4pID0+IHtcbiAgICAgIHRoaXMucHJvcHMubGF5ZXJWaXNDb25maWdDaGFuZ2UodGhpcy5wcm9wcy5sYXllciwgbmV3VmlzQ29uZmlnKTtcbiAgICB9O1xuXG4gICAgdXBkYXRlTGF5ZXJDb2xvclVJID0gKC4uLmFyZ3M6IFtzdHJpbmcsIE5lc3RlZFBhcnRpYWw8Q29sb3JVST5dKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmxheWVyQ29sb3JVSUNoYW5nZSh0aGlzLnByb3BzLmxheWVyLCAuLi5hcmdzKTtcbiAgICB9O1xuXG4gICAgdXBkYXRlTGF5ZXJUZXh0TGFiZWwgPSAoLi4uYXJnczogW251bWJlciB8ICdhbGwnLCBzdHJpbmcsIGFueV0pID0+IHtcbiAgICAgIHRoaXMucHJvcHMubGF5ZXJUZXh0TGFiZWxDaGFuZ2UodGhpcy5wcm9wcy5sYXllciwgLi4uYXJncyk7XG4gICAgfTtcblxuICAgIHVwZGF0ZUxheWVyVmlzdWFsQ2hhbm5lbENvbmZpZyA9IChcbiAgICAgIG5ld0NvbmZpZzogUGFydGlhbDxMYXllckJhc2VDb25maWc+LFxuICAgICAgY2hhbm5lbDogc3RyaW5nLFxuICAgICAgbmV3VmlzQ29uZmlnPzogUGFydGlhbDxMYXllclZpc0NvbmZpZz5cbiAgICApID0+IHtcbiAgICAgIHRoaXMucHJvcHMubGF5ZXJWaXN1YWxDaGFubmVsQ29uZmlnQ2hhbmdlKHRoaXMucHJvcHMubGF5ZXIsIG5ld0NvbmZpZywgY2hhbm5lbCwgbmV3VmlzQ29uZmlnKTtcbiAgICB9O1xuXG4gICAgX3VwZGF0ZUxheWVyTGFiZWw6IENoYW5nZUV2ZW50SGFuZGxlcjxIVE1MSW5wdXRFbGVtZW50PiA9ICh7dGFyZ2V0OiB7dmFsdWV9fSkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVMYXllckNvbmZpZyh7bGFiZWw6IHZhbHVlfSk7XG4gICAgfTtcblxuICAgIF90b2dnbGVWaXNpYmlsaXR5OiBNb3VzZUV2ZW50SGFuZGxlciA9IGUgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9ICF0aGlzLnByb3BzLmxheWVyLmNvbmZpZy5pc1Zpc2libGU7XG4gICAgICB0aGlzLnByb3BzLmxheWVyVG9nZ2xlVmlzaWJpbGl0eSh0aGlzLnByb3BzLmxheWVyLmlkLCBpc1Zpc2libGUpO1xuICAgIH07XG5cbiAgICBfcmVzZXRJc1ZhbGlkOiBNb3VzZUV2ZW50SGFuZGxlciA9IGUgPT4ge1xuICAgICAgZT8uc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAvLyBNYWtlIHRoZSBsYXllciB2YWxpZCBhbmQgdmlzaWJsZSBhZ2FpbiBhZnRlciBhbiBlcnJvclxuICAgICAgdGhpcy5wcm9wcy5sYXllclNldElzVmFsaWQodGhpcy5wcm9wcy5sYXllciwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIF90b2dnbGVFbmFibGVDb25maWc6IE1vdXNlRXZlbnRIYW5kbGVyID0gZSA9PiB7XG4gICAgICBlPy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbGF5ZXI6IHtcbiAgICAgICAgICBjb25maWc6IHtpc0NvbmZpZ0FjdGl2ZX1cbiAgICAgICAgfVxuICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLnVwZGF0ZUxheWVyQ29uZmlnKHtpc0NvbmZpZ0FjdGl2ZTogIWlzQ29uZmlnQWN0aXZlfSk7XG4gICAgfTtcblxuICAgIF9yZW1vdmVMYXllcjogTW91c2VFdmVudEhhbmRsZXIgPSBlID0+IHtcbiAgICAgIGU/LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5wcm9wcy5yZW1vdmVMYXllcih0aGlzLnByb3BzLmxheWVyLmlkKTtcbiAgICB9O1xuXG4gICAgX3pvb21Ub0xheWVyOiBNb3VzZUV2ZW50SGFuZGxlciA9IGUgPT4ge1xuICAgICAgZT8uc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCBib3VuZHMgPSB0aGlzLnByb3BzLmxheWVyPy5tZXRhPy5ib3VuZHM7XG4gICAgICBib3VuZHMgJiYgdGhpcy5wcm9wcy56b29tVG9MYXllcihib3VuZHMpO1xuICAgIH07XG5cbiAgICBfZHVwbGljYXRlTGF5ZXI6IE1vdXNlRXZlbnRIYW5kbGVyID0gZSA9PiB7XG4gICAgICBlPy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMucHJvcHMuZHVwbGljYXRlTGF5ZXIodGhpcy5wcm9wcy5sYXllci5pZCk7XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgIGNvbnN0IHtsYXllciwgZGF0YXNldHMsIGlzRHJhZ2dhYmxlLCBsYXllclR5cGVPcHRpb25zLCBsaXN0ZW5lcnMsIHNwbGl0TWFwfSA9IHRoaXMucHJvcHM7XG4gICAgICBjb25zdCB7Y29uZmlnLCBpc1ZhbGlkfSA9IGxheWVyO1xuICAgICAgY29uc3Qge2lzQ29uZmlnQWN0aXZlfSA9IGNvbmZpZztcbiAgICAgIGNvbnN0IGFsbG93RHVwbGljYXRlID1cbiAgICAgICAgdHlwZW9mIGxheWVyLmlzVmFsaWRUb1NhdmUgPT09ICdmdW5jdGlvbicgJiYgbGF5ZXIuaXNWYWxpZFRvU2F2ZSgpICYmIGlzVmFsaWQ7XG4gICAgICBjb25zdCBsYXllclZpc0luU3BsaXRNYXAgPSBzcGxpdE1hcD8ubGF5ZXJzPy5bbGF5ZXIuaWRdO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UGFuZWxXcmFwcGVyXG4gICAgICAgICAgY2xhc3NOYW1lPXtgbGF5ZXItcGFuZWwgJHt0aGlzLnByb3BzLmNsYXNzTmFtZX1gfVxuICAgICAgICAgIGRhdGEtdGVzdGlkPXtkYXRhVGVzdElkcy5sYXllclBhbmVsfVxuICAgICAgICAgIHN0eWxlPXt0aGlzLnByb3BzLnN0eWxlfVxuICAgICAgICAgIG9uTW91c2VEb3duPXt0aGlzLnByb3BzLm9uTW91c2VEb3dufVxuICAgICAgICAgIG9uVG91Y2hTdGFydD17dGhpcy5wcm9wcy5vblRvdWNoU3RhcnR9XG4gICAgICAgID5cbiAgICAgICAgICA8TGF5ZXJQYW5lbEhlYWRlclxuICAgICAgICAgICAgaXNDb25maWdBY3RpdmU9e2lzQ29uZmlnQWN0aXZlfVxuICAgICAgICAgICAgbGF5ZXJJZD17bGF5ZXIuaWR9XG4gICAgICAgICAgICBpc1Zpc2libGU9e2xheWVyVmlzSW5TcGxpdE1hcCA/PyBjb25maWcuaXNWaXNpYmxlfVxuICAgICAgICAgICAgaXNWYWxpZD17aXNWYWxpZH1cbiAgICAgICAgICAgIGxhYmVsPXtjb25maWcubGFiZWx9XG4gICAgICAgICAgICBsYWJlbFJDR0NvbG9yVmFsdWVzPXtjb25maWcuZGF0YUlkID8gZGF0YXNldHNbY29uZmlnLmRhdGFJZF0uY29sb3IgOiBudWxsfVxuICAgICAgICAgICAgbGF5ZXJUeXBlPXtsYXllci50eXBlfVxuICAgICAgICAgICAgYWxsb3dEdXBsaWNhdGU9e2FsbG93RHVwbGljYXRlfVxuICAgICAgICAgICAgb25Ub2dnbGVFbmFibGVDb25maWc9e3RoaXMuX3RvZ2dsZUVuYWJsZUNvbmZpZ31cbiAgICAgICAgICAgIG9uVG9nZ2xlVmlzaWJpbGl0eT17dGhpcy5fdG9nZ2xlVmlzaWJpbGl0eX1cbiAgICAgICAgICAgIG9uUmVzZXRJc1ZhbGlkPXt0aGlzLl9yZXNldElzVmFsaWR9XG4gICAgICAgICAgICBvblVwZGF0ZUxheWVyTGFiZWw9e3RoaXMuX3VwZGF0ZUxheWVyTGFiZWx9XG4gICAgICAgICAgICBvblJlbW92ZUxheWVyPXt0aGlzLl9yZW1vdmVMYXllcn1cbiAgICAgICAgICAgIG9uWm9vbVRvTGF5ZXI9e3RoaXMuX3pvb21Ub0xheWVyfVxuICAgICAgICAgICAgb25EdXBsaWNhdGVMYXllcj17dGhpcy5fZHVwbGljYXRlTGF5ZXJ9XG4gICAgICAgICAgICBpc0RyYWdORHJvcEVuYWJsZWQ9e2lzRHJhZ2dhYmxlfVxuICAgICAgICAgICAgbGlzdGVuZXJzPXtsaXN0ZW5lcnN9XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7aXNDb25maWdBY3RpdmUgJiYgKFxuICAgICAgICAgICAgPExheWVyQ29uZmlndXJhdG9yXG4gICAgICAgICAgICAgIGxheWVyPXtsYXllcn1cbiAgICAgICAgICAgICAgZGF0YXNldHM9e2RhdGFzZXRzfVxuICAgICAgICAgICAgICBsYXllclR5cGVPcHRpb25zPXtsYXllclR5cGVPcHRpb25zfVxuICAgICAgICAgICAgICBvcGVuTW9kYWw9e3RoaXMucHJvcHMub3Blbk1vZGFsfVxuICAgICAgICAgICAgICB1cGRhdGVMYXllckNvbG9yVUk9e3RoaXMudXBkYXRlTGF5ZXJDb2xvclVJfVxuICAgICAgICAgICAgICB1cGRhdGVMYXllckNvbmZpZz17dGhpcy51cGRhdGVMYXllckNvbmZpZ31cbiAgICAgICAgICAgICAgdXBkYXRlTGF5ZXJWaXN1YWxDaGFubmVsQ29uZmlnPXt0aGlzLnVwZGF0ZUxheWVyVmlzdWFsQ2hhbm5lbENvbmZpZ31cbiAgICAgICAgICAgICAgdXBkYXRlTGF5ZXJUeXBlPXt0aGlzLnVwZGF0ZUxheWVyVHlwZX1cbiAgICAgICAgICAgICAgdXBkYXRlTGF5ZXJUZXh0TGFiZWw9e3RoaXMudXBkYXRlTGF5ZXJUZXh0TGFiZWx9XG4gICAgICAgICAgICAgIHVwZGF0ZUxheWVyVmlzQ29uZmlnPXt0aGlzLnVwZGF0ZUxheWVyVmlzQ29uZmlnfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L1BhbmVsV3JhcHBlcj5cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIExheWVyUGFuZWw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyUGFuZWxGYWN0b3J5O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFHQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFPQSxJQUFBQyxpQkFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBR0EsSUFBQUcsVUFBQSxHQUFBSCxPQUFBO0FBSUEsSUFBQUksa0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFLLGlCQUFBLEdBQUFILHNCQUFBLENBQUFGLE9BQUE7QUFBMkQsSUFBQU0sZUFBQSxFQWxCM0Q7QUFDQTtBQUFBLFNBQUFDLHlCQUFBQyxDQUFBO0VBQUEseUJBQUFDLE9BQUE7RUFBQSxJQUFBQyxDQUFBLE9BQUFELE9BQUE7SUFBQUUsQ0FBQSxPQUFBRixPQUFBO0VBQUEsUUFBQUYsd0JBQUEsWUFBQUEseUJBQUFDLENBQUE7SUFBQSxPQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQTtFQUFBLEdBQUFGLENBQUE7QUFBQTtBQUFBLFNBQUFULHdCQUFBUyxDQUFBLEVBQUFFLENBQUE7RUFBQSxLQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUE7RUFBQSxhQUFBQSxDQUFBLGdCQUFBSyxP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