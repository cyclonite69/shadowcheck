"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireWildcard(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/react"));
var _styledComponents = _interopRequireDefault(require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/node_modules/styled-components"));
var _switch = _interopRequireDefault(require("../../common/switch"));
var _brushConfig = _interopRequireDefault(require("./brush-config"));
var _tooltipConfig = _interopRequireDefault(require("./tooltip-config"));
var _styledComponents2 = require("../../common/styled-components");
var _icons = require("../../common/icons");
var _localization = require("/Users/ihordykhta/Desktop/unfolded/kepler.gl/src/localization/src");
var _templateObject; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
function _getRequireWildcardCache(e) {
  if ("function" != typeof WeakMap) return null;
  var r = new WeakMap(),
    t = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {
    return e ? t : r;
  })(e);
}
function _interopRequireWildcard(e, r) {
  if (!r && e && e.__esModule) return e;
  if (null === e || "object" != _typeof(e) && "function" != typeof e) return {
    "default": e
  };
  var t = _getRequireWildcardCache(r);
  if (t && t.has(e)) return t.get(e);
  var n = {
      __proto__: null
    },
    a = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) {
    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];
  }
  return n["default"] = e, t && t.set(e, n), n;
}
function ownKeys(e, r) {
  var t = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e);
    r && (o = o.filter(function (r) {
      return Object.getOwnPropertyDescriptor(e, r).enumerable;
    })), t.push.apply(t, o);
  }
  return t;
}
function _objectSpread(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {
      (0, _defineProperty2["default"])(e, r, t[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));
    });
  }
  return e;
}
var StyledInteractionPanel = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  padding-bottom: 6px;\n"])));
InteractionPanelFactory.deps = [_tooltipConfig["default"], _brushConfig["default"]];
var INTERACTION_CONFIG_ICONS = {
  tooltip: _icons.Messages,
  geocoder: _icons.Pin,
  brush: _icons.Crosshairs,
  coordinate: _icons.CursorClick
};
function InteractionPanelFactory(TooltipConfig, BrushConfig) {
  var InteractionPanel = function InteractionPanel(_ref) {
    var config = _ref.config,
      onConfigChange = _ref.onConfigChange,
      datasets = _ref.datasets,
      setColumnDisplayFormat = _ref.setColumnDisplayFormat,
      _ref$interactionConfi = _ref.interactionConfigIcons,
      interactionConfigIcons = _ref$interactionConfi === void 0 ? INTERACTION_CONFIG_ICONS : _ref$interactionConfi;
    var _useState = (0, _react.useState)(false),
      _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
      isConfigActive = _useState2[0],
      setIsConfigAction = _useState2[1];
    var _updateConfig = (0, _react.useCallback)(function (newProp) {
      onConfigChange(_objectSpread(_objectSpread({}, config), newProp));
    }, [onConfigChange, config]);
    var onDisplayFormatChange = (0, _react.useCallback)(function (dataId, column, displayFormat) {
      setColumnDisplayFormat(dataId, (0, _defineProperty2["default"])({}, column, displayFormat));
    }, [setColumnDisplayFormat]);
    var togglePanelActive = (0, _react.useCallback)(function () {
      setIsConfigAction(!isConfigActive);
    }, [setIsConfigAction, isConfigActive]);
    var enabled = config.enabled;
    var toggleEnableConfig = (0, _react.useCallback)(function () {
      _updateConfig({
        enabled: !enabled
      });
    }, [_updateConfig, enabled]);
    var onChange = (0, _react.useCallback)(function (newConfig) {
      return _updateConfig({
        config: newConfig
      });
    }, [_updateConfig]);
    var IconComponent = interactionConfigIcons[config.id];
    var template = null;
    switch (config.id) {
      case 'tooltip':
        template = /*#__PURE__*/_react["default"].createElement(TooltipConfig, {
          datasets: datasets,
          config: config.config,
          onChange: onChange,
          onDisplayFormatChange: onDisplayFormatChange
        });
        break;
      case 'brush':
        template = /*#__PURE__*/_react["default"].createElement(BrushConfig, {
          config: config.config,
          onChange: onChange
        });
        break;
      default:
        break;
    }
    return /*#__PURE__*/_react["default"].createElement(StyledInteractionPanel, {
      className: "interaction-panel"
    }, /*#__PURE__*/_react["default"].createElement(_styledComponents2.StyledPanelHeader, {
      className: "interaction-panel__header",
      onClick: togglePanelActive
    }, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelHeaderContent, {
      className: "interaction-panel__header__content"
    }, /*#__PURE__*/_react["default"].createElement("div", {
      className: "interaction-panel__header__icon icon"
    }, IconComponent ? /*#__PURE__*/_react["default"].createElement(IconComponent, {
      height: "16px"
    }) : null), /*#__PURE__*/_react["default"].createElement("div", {
      className: "interaction-panel__header__title"
    }, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelHeaderTitle, null, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: config.label
    })))), /*#__PURE__*/_react["default"].createElement("div", {
      className: "interaction-panel__header__actions"
    }, /*#__PURE__*/_react["default"].createElement(_switch["default"], {
      checked: config.enabled,
      id: "".concat(config.id, "-toggle"),
      onChange: toggleEnableConfig,
      secondary: true
    }))), config.enabled && template && /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelContent, {
      className: "interaction-panel__content"
    }, template));
  };
  return InteractionPanel;
}
var _default = exports["default"] = InteractionPanelFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfc3R5bGVkQ29tcG9uZW50cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfc3dpdGNoIiwiX2JydXNoQ29uZmlnIiwiX3Rvb2x0aXBDb25maWciLCJfc3R5bGVkQ29tcG9uZW50czIiLCJfaWNvbnMiLCJfbG9jYWxpemF0aW9uIiwiX3RlbXBsYXRlT2JqZWN0IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0Iiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJvIiwiZmlsdGVyIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiU3R5bGVkSW50ZXJhY3Rpb25QYW5lbCIsImRpdiIsIl90YWdnZWRUZW1wbGF0ZUxpdGVyYWwyIiwiSW50ZXJhY3Rpb25QYW5lbEZhY3RvcnkiLCJkZXBzIiwiSU5URVJBQ1RJT05fQ09ORklHX0lDT05TIiwidG9vbHRpcCIsIk1lc3NhZ2VzIiwiZ2VvY29kZXIiLCJQaW4iLCJicnVzaCIsIkNyb3NzaGFpcnMiLCJjb29yZGluYXRlIiwiQ3Vyc29yQ2xpY2siLCJUb29sdGlwQ29uZmlnIiwiQnJ1c2hDb25maWciLCJJbnRlcmFjdGlvblBhbmVsIiwiX3JlZiIsImNvbmZpZyIsIm9uQ29uZmlnQ2hhbmdlIiwiZGF0YXNldHMiLCJzZXRDb2x1bW5EaXNwbGF5Rm9ybWF0IiwiX3JlZiRpbnRlcmFjdGlvbkNvbmZpIiwiaW50ZXJhY3Rpb25Db25maWdJY29ucyIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImlzQ29uZmlnQWN0aXZlIiwic2V0SXNDb25maWdBY3Rpb24iLCJfdXBkYXRlQ29uZmlnIiwidXNlQ2FsbGJhY2siLCJuZXdQcm9wIiwib25EaXNwbGF5Rm9ybWF0Q2hhbmdlIiwiZGF0YUlkIiwiY29sdW1uIiwiZGlzcGxheUZvcm1hdCIsInRvZ2dsZVBhbmVsQWN0aXZlIiwiZW5hYmxlZCIsInRvZ2dsZUVuYWJsZUNvbmZpZyIsIm9uQ2hhbmdlIiwibmV3Q29uZmlnIiwiSWNvbkNvbXBvbmVudCIsImlkIiwidGVtcGxhdGUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiU3R5bGVkUGFuZWxIZWFkZXIiLCJvbkNsaWNrIiwiUGFuZWxIZWFkZXJDb250ZW50IiwiaGVpZ2h0IiwiUGFuZWxIZWFkZXJUaXRsZSIsIkZvcm1hdHRlZE1lc3NhZ2UiLCJsYWJlbCIsImNoZWNrZWQiLCJjb25jYXQiLCJzZWNvbmRhcnkiLCJQYW5lbENvbnRlbnQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2lkZS1wYW5lbC9pbnRlcmFjdGlvbi1wYW5lbC9pbnRlcmFjdGlvbi1wYW5lbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IGNvbnRyaWJ1dG9ycyB0byB0aGUga2VwbGVyLmdsIHByb2plY3RcblxuaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIENvbXBvbmVudFR5cGUsIFJlYWN0RWxlbWVudCwgdXNlQ2FsbGJhY2t9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IFN3aXRjaCBmcm9tICcuLi8uLi9jb21tb24vc3dpdGNoJztcbmltcG9ydCBCcnVzaENvbmZpZ0ZhY3RvcnkgZnJvbSAnLi9icnVzaC1jb25maWcnO1xuaW1wb3J0IFRvb2x0aXBDb25maWdGYWN0b3J5IGZyb20gJy4vdG9vbHRpcC1jb25maWcnO1xuaW1wb3J0IHtEYXRhc2V0c30gZnJvbSAnQGtlcGxlci5nbC90YWJsZSc7XG5pbXBvcnQge0ludGVyYWN0aW9uQ29uZmlnLCBWYWx1ZU9mfSBmcm9tICdAa2VwbGVyLmdsL3R5cGVzJztcbmltcG9ydCB7XG4gIHNldENvbHVtbkRpc3BsYXlGb3JtYXQgYXMgc2V0Q29sdW1uRGlzcGxheUZvcm1hdEFjdGlvbixcbiAgQWN0aW9uSGFuZGxlclxufSBmcm9tICdAa2VwbGVyLmdsL2FjdGlvbnMnO1xuXG5pbXBvcnQge1xuICBTdHlsZWRQYW5lbEhlYWRlcixcbiAgUGFuZWxIZWFkZXJUaXRsZSxcbiAgUGFuZWxIZWFkZXJDb250ZW50LFxuICBQYW5lbENvbnRlbnRcbn0gZnJvbSAnLi4vLi4vY29tbW9uL3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7TWVzc2FnZXMsIENyb3NzaGFpcnMsIEN1cnNvckNsaWNrLCBQaW59IGZyb20gJy4uLy4uL2NvbW1vbi9pY29ucyc7XG5cbmltcG9ydCB7Rm9ybWF0dGVkTWVzc2FnZX0gZnJvbSAnQGtlcGxlci5nbC9sb2NhbGl6YXRpb24nO1xuXG5pbnRlcmZhY2UgSW50ZXJhY3Rpb25QYW5lbFByb3BzIHtcbiAgZGF0YXNldHM6IERhdGFzZXRzO1xuICBjb25maWc6IFZhbHVlT2Y8SW50ZXJhY3Rpb25Db25maWc+O1xuICBvbkNvbmZpZ0NoYW5nZTogYW55O1xuICBpbnRlcmFjdGlvbkNvbmZpZ0ljb25zPzoge1xuICAgIFtrZXk6IHN0cmluZ106IFJlYWN0LkVsZW1lbnRUeXBlO1xuICB9O1xuICBzZXRDb2x1bW5EaXNwbGF5Rm9ybWF0OiBBY3Rpb25IYW5kbGVyPHR5cGVvZiBzZXRDb2x1bW5EaXNwbGF5Rm9ybWF0QWN0aW9uPjtcbn1cblxuY29uc3QgU3R5bGVkSW50ZXJhY3Rpb25QYW5lbCA9IHN0eWxlZC5kaXZgXG4gIHBhZGRpbmctYm90dG9tOiA2cHg7XG5gO1xuXG5JbnRlcmFjdGlvblBhbmVsRmFjdG9yeS5kZXBzID0gW1Rvb2x0aXBDb25maWdGYWN0b3J5LCBCcnVzaENvbmZpZ0ZhY3RvcnldO1xuXG5jb25zdCBJTlRFUkFDVElPTl9DT05GSUdfSUNPTlM6IHtba2V5OiBzdHJpbmddOiBSZWFjdC5FbGVtZW50VHlwZX0gPSB7XG4gIHRvb2x0aXA6IE1lc3NhZ2VzLFxuICBnZW9jb2RlcjogUGluLFxuICBicnVzaDogQ3Jvc3NoYWlycyxcbiAgY29vcmRpbmF0ZTogQ3Vyc29yQ2xpY2tcbn07XG5cbmZ1bmN0aW9uIEludGVyYWN0aW9uUGFuZWxGYWN0b3J5KFxuICBUb29sdGlwQ29uZmlnOiBSZXR1cm5UeXBlPHR5cGVvZiBUb29sdGlwQ29uZmlnRmFjdG9yeT4sXG4gIEJydXNoQ29uZmlnOiBSZXR1cm5UeXBlPHR5cGVvZiBCcnVzaENvbmZpZ0ZhY3Rvcnk+XG4pOiBDb21wb25lbnRUeXBlPEludGVyYWN0aW9uUGFuZWxQcm9wcz4ge1xuICBjb25zdCBJbnRlcmFjdGlvblBhbmVsOiBSZWFjdC5GQzxJbnRlcmFjdGlvblBhbmVsUHJvcHM+ID0gKHtcbiAgICBjb25maWcsXG4gICAgb25Db25maWdDaGFuZ2UsXG4gICAgZGF0YXNldHMsXG4gICAgc2V0Q29sdW1uRGlzcGxheUZvcm1hdCxcbiAgICBpbnRlcmFjdGlvbkNvbmZpZ0ljb25zID0gSU5URVJBQ1RJT05fQ09ORklHX0lDT05TXG4gIH0pID0+IHtcbiAgICBjb25zdCBbaXNDb25maWdBY3RpdmUsIHNldElzQ29uZmlnQWN0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIGNvbnN0IF91cGRhdGVDb25maWcgPSB1c2VDYWxsYmFjayhcbiAgICAgIG5ld1Byb3AgPT4ge1xuICAgICAgICBvbkNvbmZpZ0NoYW5nZSh7XG4gICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgIC4uLm5ld1Byb3BcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgW29uQ29uZmlnQ2hhbmdlLCBjb25maWddXG4gICAgKTtcblxuICAgIGNvbnN0IG9uRGlzcGxheUZvcm1hdENoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgICAgKGRhdGFJZCwgY29sdW1uLCBkaXNwbGF5Rm9ybWF0KSA9PiB7XG4gICAgICAgIHNldENvbHVtbkRpc3BsYXlGb3JtYXQoZGF0YUlkLCB7W2NvbHVtbl06IGRpc3BsYXlGb3JtYXR9KTtcbiAgICAgIH0sXG4gICAgICBbc2V0Q29sdW1uRGlzcGxheUZvcm1hdF1cbiAgICApO1xuXG4gICAgY29uc3QgdG9nZ2xlUGFuZWxBY3RpdmUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBzZXRJc0NvbmZpZ0FjdGlvbighaXNDb25maWdBY3RpdmUpO1xuICAgIH0sIFtzZXRJc0NvbmZpZ0FjdGlvbiwgaXNDb25maWdBY3RpdmVdKTtcblxuICAgIGNvbnN0IHtlbmFibGVkfSA9IGNvbmZpZztcbiAgICBjb25zdCB0b2dnbGVFbmFibGVDb25maWcgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBfdXBkYXRlQ29uZmlnKHtlbmFibGVkOiAhZW5hYmxlZH0pO1xuICAgIH0sIFtfdXBkYXRlQ29uZmlnLCBlbmFibGVkXSk7XG5cbiAgICBjb25zdCBvbkNoYW5nZSA9IHVzZUNhbGxiYWNrKG5ld0NvbmZpZyA9PiBfdXBkYXRlQ29uZmlnKHtjb25maWc6IG5ld0NvbmZpZ30pLCBbX3VwZGF0ZUNvbmZpZ10pO1xuXG4gICAgY29uc3QgSWNvbkNvbXBvbmVudCA9IGludGVyYWN0aW9uQ29uZmlnSWNvbnNbY29uZmlnLmlkXTtcblxuICAgIGxldCB0ZW1wbGF0ZTogUmVhY3RFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgICBzd2l0Y2ggKGNvbmZpZy5pZCkge1xuICAgICAgY2FzZSAndG9vbHRpcCc6XG4gICAgICAgIHRlbXBsYXRlID0gKFxuICAgICAgICAgIDxUb29sdGlwQ29uZmlnXG4gICAgICAgICAgICBkYXRhc2V0cz17ZGF0YXNldHN9XG4gICAgICAgICAgICBjb25maWc9e2NvbmZpZy5jb25maWd9XG4gICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgICBvbkRpc3BsYXlGb3JtYXRDaGFuZ2U9e29uRGlzcGxheUZvcm1hdENoYW5nZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JydXNoJzpcbiAgICAgICAgdGVtcGxhdGUgPSA8QnJ1c2hDb25maWcgY29uZmlnPXtjb25maWcuY29uZmlnfSBvbkNoYW5nZT17b25DaGFuZ2V9IC8+O1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8U3R5bGVkSW50ZXJhY3Rpb25QYW5lbCBjbGFzc05hbWU9XCJpbnRlcmFjdGlvbi1wYW5lbFwiPlxuICAgICAgICA8U3R5bGVkUGFuZWxIZWFkZXIgY2xhc3NOYW1lPVwiaW50ZXJhY3Rpb24tcGFuZWxfX2hlYWRlclwiIG9uQ2xpY2s9e3RvZ2dsZVBhbmVsQWN0aXZlfT5cbiAgICAgICAgICA8UGFuZWxIZWFkZXJDb250ZW50IGNsYXNzTmFtZT1cImludGVyYWN0aW9uLXBhbmVsX19oZWFkZXJfX2NvbnRlbnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW50ZXJhY3Rpb24tcGFuZWxfX2hlYWRlcl9faWNvbiBpY29uXCI+XG4gICAgICAgICAgICAgIHtJY29uQ29tcG9uZW50ID8gPEljb25Db21wb25lbnQgaGVpZ2h0PVwiMTZweFwiIC8+IDogbnVsbH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnRlcmFjdGlvbi1wYW5lbF9faGVhZGVyX190aXRsZVwiPlxuICAgICAgICAgICAgICA8UGFuZWxIZWFkZXJUaXRsZT5cbiAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD17Y29uZmlnLmxhYmVsfSAvPlxuICAgICAgICAgICAgICA8L1BhbmVsSGVhZGVyVGl0bGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1BhbmVsSGVhZGVyQ29udGVudD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImludGVyYWN0aW9uLXBhbmVsX19oZWFkZXJfX2FjdGlvbnNcIj5cbiAgICAgICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICAgICAgY2hlY2tlZD17Y29uZmlnLmVuYWJsZWR9XG4gICAgICAgICAgICAgIGlkPXtgJHtjb25maWcuaWR9LXRvZ2dsZWB9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0b2dnbGVFbmFibGVDb25maWd9XG4gICAgICAgICAgICAgIHNlY29uZGFyeVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9TdHlsZWRQYW5lbEhlYWRlcj5cbiAgICAgICAge2NvbmZpZy5lbmFibGVkICYmIHRlbXBsYXRlICYmIChcbiAgICAgICAgICA8UGFuZWxDb250ZW50IGNsYXNzTmFtZT1cImludGVyYWN0aW9uLXBhbmVsX19jb250ZW50XCI+e3RlbXBsYXRlfTwvUGFuZWxDb250ZW50PlxuICAgICAgICApfVxuICAgICAgPC9TdHlsZWRJbnRlcmFjdGlvblBhbmVsPlxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIEludGVyYWN0aW9uUGFuZWw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEludGVyYWN0aW9uUGFuZWxGYWN0b3J5O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUdBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGlCQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxPQUFBLEdBQUFELHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSSxZQUFBLEdBQUFGLHNCQUFBLENBQUFGLE9BQUE7QUFD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